(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ly(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zh={exports:{}},ol={},ep={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ms=Symbol.for("react.element"),by=Symbol.for("react.portal"),Vy=Symbol.for("react.fragment"),zy=Symbol.for("react.strict_mode"),By=Symbol.for("react.profiler"),Uy=Symbol.for("react.provider"),Wy=Symbol.for("react.context"),$y=Symbol.for("react.forward_ref"),jy=Symbol.for("react.suspense"),Hy=Symbol.for("react.memo"),Gy=Symbol.for("react.lazy"),Md=Symbol.iterator;function Qy(t){return t===null||typeof t!="object"?null:(t=Md&&t[Md]||t["@@iterator"],typeof t=="function"?t:null)}var tp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},np=Object.assign,rp={};function Zr(t,e,n){this.props=t,this.context=e,this.refs=rp,this.updater=n||tp}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ip(){}ip.prototype=Zr.prototype;function ju(t,e,n){this.props=t,this.context=e,this.refs=rp,this.updater=n||tp}var Hu=ju.prototype=new ip;Hu.constructor=ju;np(Hu,Zr.prototype);Hu.isPureReactComponent=!0;var Dd=Array.isArray,sp=Object.prototype.hasOwnProperty,Gu={current:null},op={key:!0,ref:!0,__self:!0,__source:!0};function lp(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)sp.call(e,r)&&!op.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ms,type:t,key:s,ref:o,props:i,_owner:Gu.current}}function Ky(t,e){return{$$typeof:ms,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qu(t){return typeof t=="object"&&t!==null&&t.$$typeof===ms}function Yy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ld=/\/+/g;function bl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Yy(""+t.key):e.toString(36)}function no(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ms:case by:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+bl(o,0):r,Dd(i)?(n="",t!=null&&(n=t.replace(Ld,"$&/")+"/"),no(i,e,n,"",function(u){return u})):i!=null&&(Qu(i)&&(i=Ky(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ld,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Dd(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+bl(s,l);o+=no(s,e,n,a,i)}else if(a=Qy(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+bl(s,l++),o+=no(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ms(t,e,n){if(t==null)return t;var r=[],i=0;return no(t,r,"","",function(s){return e.call(n,s,i++)}),r}function qy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ke={current:null},ro={transition:null},Xy={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:ro,ReactCurrentOwner:Gu};G.Children={map:Ms,forEach:function(t,e,n){Ms(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ms(t,function(){e++}),e},toArray:function(t){return Ms(t,function(e){return e})||[]},only:function(t){if(!Qu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Zr;G.Fragment=Vy;G.Profiler=By;G.PureComponent=ju;G.StrictMode=zy;G.Suspense=jy;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xy;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=np({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Gu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)sp.call(e,a)&&!op.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ms,type:t.type,key:i,ref:s,props:r,_owner:o}};G.createContext=function(t){return t={$$typeof:Wy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Uy,_context:t},t.Consumer=t};G.createElement=lp;G.createFactory=function(t){var e=lp.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:$y,render:t}};G.isValidElement=Qu;G.lazy=function(t){return{$$typeof:Gy,_payload:{_status:-1,_result:t},_init:qy}};G.memo=function(t,e){return{$$typeof:Hy,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=ro.transition;ro.transition={};try{t()}finally{ro.transition=e}};G.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};G.useCallback=function(t,e){return Ke.current.useCallback(t,e)};G.useContext=function(t){return Ke.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return Ke.current.useDeferredValue(t)};G.useEffect=function(t,e){return Ke.current.useEffect(t,e)};G.useId=function(){return Ke.current.useId()};G.useImperativeHandle=function(t,e,n){return Ke.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return Ke.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return Ke.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return Ke.current.useMemo(t,e)};G.useReducer=function(t,e,n){return Ke.current.useReducer(t,e,n)};G.useRef=function(t){return Ke.current.useRef(t)};G.useState=function(t){return Ke.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return Ke.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return Ke.current.useTransition()};G.version="18.2.0";ep.exports=G;var R=ep.exports;const T=Ly(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy=R,Zy=Symbol.for("react.element"),e_=Symbol.for("react.fragment"),t_=Object.prototype.hasOwnProperty,n_=Jy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r_={key:!0,ref:!0,__self:!0,__source:!0};function ap(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)t_.call(e,r)&&!r_.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Zy,type:t,key:s,ref:o,props:i,_owner:n_.current}}ol.Fragment=e_;ol.jsx=ap;ol.jsxs=ap;Zh.exports=ol;var Xe=Zh.exports,Ta={},up={exports:{}},ft={},cp={exports:{}},dp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,D){var b=A.length;A.push(D);e:for(;0<b;){var B=b-1>>>1,Q=A[B];if(0<i(Q,D))A[B]=D,A[b]=Q,b=B;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var D=A[0],b=A.pop();if(b!==D){A[0]=b;e:for(var B=0,Q=A.length,Y=Q>>>1;B<Y;){var P=2*(B+1)-1,L=A[P],K=P+1,Ee=A[K];if(0>i(L,b))K<Q&&0>i(Ee,L)?(A[B]=Ee,A[K]=b,B=K):(A[B]=L,A[P]=b,B=P);else if(K<Q&&0>i(Ee,b))A[B]=Ee,A[K]=b,B=K;else break e}}return D}function i(A,D){var b=A.sortIndex-D.sortIndex;return b!==0?b:A.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,f=3,m=!1,g=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=A)r(u),D.sortIndex=D.expirationTime,e(a,D);else break;D=n(u)}}function _(A){if(y=!1,v(A),!g)if(n(a)!==null)g=!0,de(E);else{var D=n(u);D!==null&&ke(_,D.startTime-A)}}function E(A,D){g=!1,y&&(y=!1,h(F),F=-1),m=!0;var b=f;try{for(v(D),d=n(a);d!==null&&(!(d.expirationTime>D)||A&&!ee());){var B=d.callback;if(typeof B=="function"){d.callback=null,f=d.priorityLevel;var Q=B(d.expirationTime<=D);D=t.unstable_now(),typeof Q=="function"?d.callback=Q:d===n(a)&&r(a),v(D)}else r(a);d=n(a)}if(d!==null)var Y=!0;else{var P=n(u);P!==null&&ke(_,P.startTime-D),Y=!1}return Y}finally{d=null,f=b,m=!1}}var w=!1,k=null,F=-1,H=5,M=-1;function ee(){return!(t.unstable_now()-M<H)}function X(){if(k!==null){var A=t.unstable_now();M=A;var D=!0;try{D=k(!0,A)}finally{D?le():(w=!1,k=null)}}else w=!1}var le;if(typeof p=="function")le=function(){p(X)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,_e=ye.port2;ye.port1.onmessage=X,le=function(){_e.postMessage(null)}}else le=function(){S(X,0)};function de(A){k=A,w||(w=!0,le())}function ke(A,D){F=S(function(){A(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,de(E))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var b=f;f=D;try{return A()}finally{f=b}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,D){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var b=f;f=A;try{return D()}finally{f=b}},t.unstable_scheduleCallback=function(A,D,b){var B=t.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?B+b:B):b=B,A){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=b+Q,A={id:c++,callback:D,priorityLevel:A,startTime:b,expirationTime:Q,sortIndex:-1},b>B?(A.sortIndex=b,e(u,A),n(a)===null&&A===n(u)&&(y?(h(F),F=-1):y=!0,ke(_,b-B))):(A.sortIndex=Q,e(a,A),g||m||(g=!0,de(E))),A},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(A){var D=f;return function(){var b=f;f=D;try{return A.apply(this,arguments)}finally{f=b}}}})(dp);cp.exports=dp;var i_=cp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp=R,dt=i_;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hp=new Set,Bi={};function or(t,e){Br(t,e),Br(t+"Capture",e)}function Br(t,e){for(Bi[t]=e,t=0;t<e.length;t++)hp.add(e[t])}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xa=Object.prototype.hasOwnProperty,s_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bd={},Vd={};function o_(t){return xa.call(Vd,t)?!0:xa.call(bd,t)?!1:s_.test(t)?Vd[t]=!0:(bd[t]=!0,!1)}function l_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function a_(t,e,n,r){if(e===null||typeof e>"u"||l_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ye(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ze[t]=new Ye(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ze[e]=new Ye(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ze[t]=new Ye(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ze[t]=new Ye(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ze[t]=new Ye(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ze[t]=new Ye(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ze[t]=new Ye(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ze[t]=new Ye(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ze[t]=new Ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ku=/[\-:]([a-z])/g;function Yu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ku,Yu);ze[e]=new Ye(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ku,Yu);ze[e]=new Ye(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ku,Yu);ze[e]=new Ye(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ze[t]=new Ye(t,1,!1,t.toLowerCase(),null,!1,!1)});ze.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ze[t]=new Ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function qu(t,e,n,r){var i=ze.hasOwnProperty(e)?ze[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(a_(e,n,i,r)&&(n=null),r||i===null?o_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ln=fp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ds=Symbol.for("react.element"),mr=Symbol.for("react.portal"),vr=Symbol.for("react.fragment"),Xu=Symbol.for("react.strict_mode"),Ra=Symbol.for("react.profiler"),pp=Symbol.for("react.provider"),mp=Symbol.for("react.context"),Ju=Symbol.for("react.forward_ref"),Na=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Zu=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),vp=Symbol.for("react.offscreen"),zd=Symbol.iterator;function ci(t){return t===null||typeof t!="object"?null:(t=zd&&t[zd]||t["@@iterator"],typeof t=="function"?t:null)}var me=Object.assign,Vl;function Si(t){if(Vl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vl=e&&e[1]||""}return`
`+Vl+t}var zl=!1;function Bl(t,e){if(!t||zl)return"";zl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{zl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Si(t):""}function u_(t){switch(t.tag){case 5:return Si(t.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 2:case 15:return t=Bl(t.type,!1),t;case 11:return t=Bl(t.type.render,!1),t;case 1:return t=Bl(t.type,!0),t;default:return""}}function Pa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vr:return"Fragment";case mr:return"Portal";case Ra:return"Profiler";case Xu:return"StrictMode";case Na:return"Suspense";case Fa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mp:return(t.displayName||"Context")+".Consumer";case pp:return(t._context.displayName||"Context")+".Provider";case Ju:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zu:return e=t.displayName||null,e!==null?e:Pa(t.type)||"Memo";case dn:e=t._payload,t=t._init;try{return Pa(t(e))}catch{}}return null}function c_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pa(e);case 8:return e===Xu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function d_(t){var e=gp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ls(t){t._valueTracker||(t._valueTracker=d_(t))}function yp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Aa(t,e){var n=e.checked;return me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _p(t,e){e=e.checked,e!=null&&qu(t,"checked",e,!1)}function Oa(t,e){_p(t,e);var n=Rn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ma(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ma(t,e.type,Rn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ud(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ma(t,e,n){(e!=="number"||yo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wi=Array.isArray;function Rr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Da(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(wi(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rn(n)}}function Ep(t,e){var n=Rn(e.value),r=Rn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $d(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Cp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function La(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Cp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bs,Sp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bs=bs||document.createElement("div"),bs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ui(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f_=["Webkit","ms","Moz","O"];Object.keys(Ti).forEach(function(t){f_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ti[e]=Ti[t]})});function wp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ti.hasOwnProperty(t)&&Ti[t]?(""+e).trim():e+"px"}function kp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=wp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var h_=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ba(t,e){if(e){if(h_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function Va(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var za=null;function ec(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ba=null,Nr=null,Fr=null;function jd(t){if(t=ys(t)){if(typeof Ba!="function")throw Error(x(280));var e=t.stateNode;e&&(e=dl(e),Ba(t.stateNode,t.type,e))}}function Ip(t){Nr?Fr?Fr.push(t):Fr=[t]:Nr=t}function Tp(){if(Nr){var t=Nr,e=Fr;if(Fr=Nr=null,jd(t),e)for(t=0;t<e.length;t++)jd(e[t])}}function xp(t,e){return t(e)}function Rp(){}var Ul=!1;function Np(t,e,n){if(Ul)return t(e,n);Ul=!0;try{return xp(t,e,n)}finally{Ul=!1,(Nr!==null||Fr!==null)&&(Rp(),Tp())}}function Wi(t,e){var n=t.stateNode;if(n===null)return null;var r=dl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var Ua=!1;if(en)try{var di={};Object.defineProperty(di,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{Ua=!1}function p_(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var xi=!1,_o=null,Eo=!1,Wa=null,m_={onError:function(t){xi=!0,_o=t}};function v_(t,e,n,r,i,s,o,l,a){xi=!1,_o=null,p_.apply(m_,arguments)}function g_(t,e,n,r,i,s,o,l,a){if(v_.apply(this,arguments),xi){if(xi){var u=_o;xi=!1,_o=null}else throw Error(x(198));Eo||(Eo=!0,Wa=u)}}function lr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Fp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hd(t){if(lr(t)!==t)throw Error(x(188))}function y_(t){var e=t.alternate;if(!e){if(e=lr(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Hd(i),t;if(s===r)return Hd(i),e;s=s.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function Pp(t){return t=y_(t),t!==null?Ap(t):null}function Ap(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ap(t);if(e!==null)return e;t=t.sibling}return null}var Op=dt.unstable_scheduleCallback,Gd=dt.unstable_cancelCallback,__=dt.unstable_shouldYield,E_=dt.unstable_requestPaint,Ce=dt.unstable_now,C_=dt.unstable_getCurrentPriorityLevel,tc=dt.unstable_ImmediatePriority,Mp=dt.unstable_UserBlockingPriority,Co=dt.unstable_NormalPriority,S_=dt.unstable_LowPriority,Dp=dt.unstable_IdlePriority,ll=null,Wt=null;function w_(t){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ll,t,void 0,(t.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:T_,k_=Math.log,I_=Math.LN2;function T_(t){return t>>>=0,t===0?32:31-(k_(t)/I_|0)|0}var Vs=64,zs=4194304;function ki(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function So(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ki(l):(s&=o,s!==0&&(r=ki(s)))}else o=n&~i,o!==0?r=ki(o):s!==0&&(r=ki(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pt(e),i=1<<n,r|=t[n],e&=~i;return r}function x_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=x_(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function $a(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lp(){var t=Vs;return Vs<<=1,!(Vs&4194240)&&(Vs=64),t}function Wl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pt(e),t[e]=n}function N_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function nc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Z=0;function bp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Vp,rc,zp,Bp,Up,ja=!1,Bs=[],gn=null,yn=null,_n=null,$i=new Map,ji=new Map,hn=[],F_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qd(t,e){switch(t){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":$i.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(e.pointerId)}}function fi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ys(e),e!==null&&rc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function P_(t,e,n,r,i){switch(e){case"focusin":return gn=fi(gn,t,e,n,r,i),!0;case"dragenter":return yn=fi(yn,t,e,n,r,i),!0;case"mouseover":return _n=fi(_n,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return $i.set(s,fi($i.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ji.set(s,fi(ji.get(s)||null,t,e,n,r,i)),!0}return!1}function Wp(t){var e=Wn(t.target);if(e!==null){var n=lr(e);if(n!==null){if(e=n.tag,e===13){if(e=Fp(n),e!==null){t.blockedOn=e,Up(t.priority,function(){zp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function io(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ha(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);za=r,n.target.dispatchEvent(r),za=null}else return e=ys(n),e!==null&&rc(e),t.blockedOn=n,!1;e.shift()}return!0}function Kd(t,e,n){io(t)&&n.delete(e)}function A_(){ja=!1,gn!==null&&io(gn)&&(gn=null),yn!==null&&io(yn)&&(yn=null),_n!==null&&io(_n)&&(_n=null),$i.forEach(Kd),ji.forEach(Kd)}function hi(t,e){t.blockedOn===e&&(t.blockedOn=null,ja||(ja=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,A_)))}function Hi(t){function e(i){return hi(i,t)}if(0<Bs.length){hi(Bs[0],t);for(var n=1;n<Bs.length;n++){var r=Bs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gn!==null&&hi(gn,t),yn!==null&&hi(yn,t),_n!==null&&hi(_n,t),$i.forEach(e),ji.forEach(e),n=0;n<hn.length;n++)r=hn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hn.length&&(n=hn[0],n.blockedOn===null);)Wp(n),n.blockedOn===null&&hn.shift()}var Pr=ln.ReactCurrentBatchConfig,wo=!0;function O_(t,e,n,r){var i=Z,s=Pr.transition;Pr.transition=null;try{Z=1,ic(t,e,n,r)}finally{Z=i,Pr.transition=s}}function M_(t,e,n,r){var i=Z,s=Pr.transition;Pr.transition=null;try{Z=4,ic(t,e,n,r)}finally{Z=i,Pr.transition=s}}function ic(t,e,n,r){if(wo){var i=Ha(t,e,n,r);if(i===null)Jl(t,e,r,ko,n),Qd(t,r);else if(P_(i,t,e,n,r))r.stopPropagation();else if(Qd(t,r),e&4&&-1<F_.indexOf(t)){for(;i!==null;){var s=ys(i);if(s!==null&&Vp(s),s=Ha(t,e,n,r),s===null&&Jl(t,e,r,ko,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Jl(t,e,r,null,n)}}var ko=null;function Ha(t,e,n,r){if(ko=null,t=ec(r),t=Wn(t),t!==null)if(e=lr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Fp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ko=t,null}function $p(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C_()){case tc:return 1;case Mp:return 4;case Co:case S_:return 16;case Dp:return 536870912;default:return 16}default:return 16}}var mn=null,sc=null,so=null;function jp(){if(so)return so;var t,e=sc,n=e.length,r,i="value"in mn?mn.value:mn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return so=i.slice(t,1<r?1-r:void 0)}function oo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Us(){return!0}function Yd(){return!1}function ht(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Us:Yd,this.isPropagationStopped=Yd,this}return me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),e}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oc=ht(ei),gs=me({},ei,{view:0,detail:0}),D_=ht(gs),$l,jl,pi,al=me({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pi&&(pi&&t.type==="mousemove"?($l=t.screenX-pi.screenX,jl=t.screenY-pi.screenY):jl=$l=0,pi=t),$l)},movementY:function(t){return"movementY"in t?t.movementY:jl}}),qd=ht(al),L_=me({},al,{dataTransfer:0}),b_=ht(L_),V_=me({},gs,{relatedTarget:0}),Hl=ht(V_),z_=me({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),B_=ht(z_),U_=me({},ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),W_=ht(U_),$_=me({},ei,{data:0}),Xd=ht($_),j_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G_[t])?!!e[t]:!1}function lc(){return Q_}var K_=me({},gs,{key:function(t){if(t.key){var e=j_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?H_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lc,charCode:function(t){return t.type==="keypress"?oo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y_=ht(K_),q_=me({},al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jd=ht(q_),X_=me({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lc}),J_=ht(X_),Z_=me({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),e0=ht(Z_),t0=me({},al,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),n0=ht(t0),r0=[9,13,27,32],ac=en&&"CompositionEvent"in window,Ri=null;en&&"documentMode"in document&&(Ri=document.documentMode);var i0=en&&"TextEvent"in window&&!Ri,Hp=en&&(!ac||Ri&&8<Ri&&11>=Ri),Zd=" ",ef=!1;function Gp(t,e){switch(t){case"keyup":return r0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gr=!1;function s0(t,e){switch(t){case"compositionend":return Qp(e);case"keypress":return e.which!==32?null:(ef=!0,Zd);case"textInput":return t=e.data,t===Zd&&ef?null:t;default:return null}}function o0(t,e){if(gr)return t==="compositionend"||!ac&&Gp(t,e)?(t=jp(),so=sc=mn=null,gr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Hp&&e.locale!=="ko"?null:e.data;default:return null}}var l0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!l0[t.type]:e==="textarea"}function Kp(t,e,n,r){Ip(r),e=Io(e,"onChange"),0<e.length&&(n=new oc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ni=null,Gi=null;function a0(t){sm(t,0)}function ul(t){var e=Er(t);if(yp(e))return t}function u0(t,e){if(t==="change")return e}var Yp=!1;if(en){var Gl;if(en){var Ql="oninput"in document;if(!Ql){var nf=document.createElement("div");nf.setAttribute("oninput","return;"),Ql=typeof nf.oninput=="function"}Gl=Ql}else Gl=!1;Yp=Gl&&(!document.documentMode||9<document.documentMode)}function rf(){Ni&&(Ni.detachEvent("onpropertychange",qp),Gi=Ni=null)}function qp(t){if(t.propertyName==="value"&&ul(Gi)){var e=[];Kp(e,Gi,t,ec(t)),Np(a0,e)}}function c0(t,e,n){t==="focusin"?(rf(),Ni=e,Gi=n,Ni.attachEvent("onpropertychange",qp)):t==="focusout"&&rf()}function d0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ul(Gi)}function f0(t,e){if(t==="click")return ul(e)}function h0(t,e){if(t==="input"||t==="change")return ul(e)}function p0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mt=typeof Object.is=="function"?Object.is:p0;function Qi(t,e){if(Mt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xa.call(e,i)||!Mt(t[i],e[i]))return!1}return!0}function sf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function of(t,e){var n=sf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sf(n)}}function Xp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Jp(){for(var t=window,e=yo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yo(t.document)}return e}function uc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function m0(t){var e=Jp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Xp(n.ownerDocument.documentElement,n)){if(r!==null&&uc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=of(n,s);var o=of(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var v0=en&&"documentMode"in document&&11>=document.documentMode,yr=null,Ga=null,Fi=null,Qa=!1;function lf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qa||yr==null||yr!==yo(r)||(r=yr,"selectionStart"in r&&uc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fi&&Qi(Fi,r)||(Fi=r,r=Io(Ga,"onSelect"),0<r.length&&(e=new oc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yr)))}function Ws(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _r={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionend:Ws("Transition","TransitionEnd")},Kl={},Zp={};en&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function cl(t){if(Kl[t])return Kl[t];if(!_r[t])return t;var e=_r[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zp)return Kl[t]=e[n];return t}var em=cl("animationend"),tm=cl("animationiteration"),nm=cl("animationstart"),rm=cl("transitionend"),im=new Map,af="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(t,e){im.set(t,e),or(e,[t])}for(var Yl=0;Yl<af.length;Yl++){var ql=af[Yl],g0=ql.toLowerCase(),y0=ql[0].toUpperCase()+ql.slice(1);On(g0,"on"+y0)}On(em,"onAnimationEnd");On(tm,"onAnimationIteration");On(nm,"onAnimationStart");On("dblclick","onDoubleClick");On("focusin","onFocus");On("focusout","onBlur");On(rm,"onTransitionEnd");Br("onMouseEnter",["mouseout","mouseover"]);Br("onMouseLeave",["mouseout","mouseover"]);Br("onPointerEnter",["pointerout","pointerover"]);Br("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ii));function uf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,g_(r,e,void 0,t),t.currentTarget=null}function sm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;uf(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;uf(i,l,u),s=a}}}if(Eo)throw t=Wa,Eo=!1,Wa=null,t}function ae(t,e){var n=e[Ja];n===void 0&&(n=e[Ja]=new Set);var r=t+"__bubble";n.has(r)||(om(e,t,2,!1),n.add(r))}function Xl(t,e,n){var r=0;e&&(r|=4),om(n,t,r,e)}var $s="_reactListening"+Math.random().toString(36).slice(2);function Ki(t){if(!t[$s]){t[$s]=!0,hp.forEach(function(n){n!=="selectionchange"&&(_0.has(n)||Xl(n,!1,t),Xl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$s]||(e[$s]=!0,Xl("selectionchange",!1,e))}}function om(t,e,n,r){switch($p(e)){case 1:var i=O_;break;case 4:i=M_;break;default:i=ic}n=i.bind(null,e,n,t),i=void 0,!Ua||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jl(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Wn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Np(function(){var u=s,c=ec(n),d=[];e:{var f=im.get(t);if(f!==void 0){var m=oc,g=t;switch(t){case"keypress":if(oo(n)===0)break e;case"keydown":case"keyup":m=Y_;break;case"focusin":g="focus",m=Hl;break;case"focusout":g="blur",m=Hl;break;case"beforeblur":case"afterblur":m=Hl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=b_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=J_;break;case em:case tm:case nm:m=B_;break;case rm:m=e0;break;case"scroll":m=D_;break;case"wheel":m=n0;break;case"copy":case"cut":case"paste":m=W_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Jd}var y=(e&4)!==0,S=!y&&t==="scroll",h=y?f!==null?f+"Capture":null:f;y=[];for(var p=u,v;p!==null;){v=p;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,h!==null&&(_=Wi(p,h),_!=null&&y.push(Yi(p,_,v)))),S)break;p=p.return}0<y.length&&(f=new m(f,g,null,n,c),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==za&&(g=n.relatedTarget||n.fromElement)&&(Wn(g)||g[tn]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Wn(g):null,g!==null&&(S=lr(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=qd,_="onMouseLeave",h="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=Jd,_="onPointerLeave",h="onPointerEnter",p="pointer"),S=m==null?f:Er(m),v=g==null?f:Er(g),f=new y(_,p+"leave",m,n,c),f.target=S,f.relatedTarget=v,_=null,Wn(c)===u&&(y=new y(h,p+"enter",g,n,c),y.target=v,y.relatedTarget=S,_=y),S=_,m&&g)t:{for(y=m,h=g,p=0,v=y;v;v=hr(v))p++;for(v=0,_=h;_;_=hr(_))v++;for(;0<p-v;)y=hr(y),p--;for(;0<v-p;)h=hr(h),v--;for(;p--;){if(y===h||h!==null&&y===h.alternate)break t;y=hr(y),h=hr(h)}y=null}else y=null;m!==null&&cf(d,f,m,y,!1),g!==null&&S!==null&&cf(d,S,g,y,!0)}}e:{if(f=u?Er(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var E=u0;else if(tf(f))if(Yp)E=h0;else{E=d0;var w=c0}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=f0);if(E&&(E=E(t,u))){Kp(d,E,n,c);break e}w&&w(t,f,u),t==="focusout"&&(w=f._wrapperState)&&w.controlled&&f.type==="number"&&Ma(f,"number",f.value)}switch(w=u?Er(u):window,t){case"focusin":(tf(w)||w.contentEditable==="true")&&(yr=w,Ga=u,Fi=null);break;case"focusout":Fi=Ga=yr=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":Qa=!1,lf(d,n,c);break;case"selectionchange":if(v0)break;case"keydown":case"keyup":lf(d,n,c)}var k;if(ac)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else gr?Gp(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Hp&&n.locale!=="ko"&&(gr||F!=="onCompositionStart"?F==="onCompositionEnd"&&gr&&(k=jp()):(mn=c,sc="value"in mn?mn.value:mn.textContent,gr=!0)),w=Io(u,F),0<w.length&&(F=new Xd(F,t,null,n,c),d.push({event:F,listeners:w}),k?F.data=k:(k=Qp(n),k!==null&&(F.data=k)))),(k=i0?s0(t,n):o0(t,n))&&(u=Io(u,"onBeforeInput"),0<u.length&&(c=new Xd("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}sm(d,e)})}function Yi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Io(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wi(t,n),s!=null&&r.unshift(Yi(t,s,i)),s=Wi(t,e),s!=null&&r.push(Yi(t,s,i))),t=t.return}return r}function hr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cf(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Wi(n,s),a!=null&&o.unshift(Yi(n,a,l))):i||(a=Wi(n,s),a!=null&&o.push(Yi(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var E0=/\r\n?/g,C0=/\u0000|\uFFFD/g;function df(t){return(typeof t=="string"?t:""+t).replace(E0,`
`).replace(C0,"")}function js(t,e,n){if(e=df(e),df(t)!==e&&n)throw Error(x(425))}function To(){}var Ka=null,Ya=null;function qa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xa=typeof setTimeout=="function"?setTimeout:void 0,S0=typeof clearTimeout=="function"?clearTimeout:void 0,ff=typeof Promise=="function"?Promise:void 0,w0=typeof queueMicrotask=="function"?queueMicrotask:typeof ff<"u"?function(t){return ff.resolve(null).then(t).catch(k0)}:Xa;function k0(t){setTimeout(function(){throw t})}function Zl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Hi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Hi(e)}function En(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ti=Math.random().toString(36).slice(2),Bt="__reactFiber$"+ti,qi="__reactProps$"+ti,tn="__reactContainer$"+ti,Ja="__reactEvents$"+ti,I0="__reactListeners$"+ti,T0="__reactHandles$"+ti;function Wn(t){var e=t[Bt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[tn]||n[Bt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hf(t);t!==null;){if(n=t[Bt])return n;t=hf(t)}return e}t=n,n=t.parentNode}return null}function ys(t){return t=t[Bt]||t[tn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Er(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function dl(t){return t[qi]||null}var Za=[],Cr=-1;function Mn(t){return{current:t}}function ce(t){0>Cr||(t.current=Za[Cr],Za[Cr]=null,Cr--)}function oe(t,e){Cr++,Za[Cr]=t.current,t.current=e}var Nn={},He=Mn(Nn),nt=Mn(!1),qn=Nn;function Ur(t,e){var n=t.type.contextTypes;if(!n)return Nn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rt(t){return t=t.childContextTypes,t!=null}function xo(){ce(nt),ce(He)}function pf(t,e,n){if(He.current!==Nn)throw Error(x(168));oe(He,e),oe(nt,n)}function lm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(x(108,c_(t)||"Unknown",i));return me({},n,r)}function Ro(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nn,qn=He.current,oe(He,t),oe(nt,nt.current),!0}function mf(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=lm(t,e,qn),r.__reactInternalMemoizedMergedChildContext=t,ce(nt),ce(He),oe(He,t)):ce(nt),oe(nt,n)}var Kt=null,fl=!1,ea=!1;function am(t){Kt===null?Kt=[t]:Kt.push(t)}function x0(t){fl=!0,am(t)}function Dn(){if(!ea&&Kt!==null){ea=!0;var t=0,e=Z;try{var n=Kt;for(Z=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kt=null,fl=!1}catch(i){throw Kt!==null&&(Kt=Kt.slice(t+1)),Op(tc,Dn),i}finally{Z=e,ea=!1}}return null}var Sr=[],wr=0,No=null,Fo=0,pt=[],mt=0,Xn=null,Yt=1,qt="";function Vn(t,e){Sr[wr++]=Fo,Sr[wr++]=No,No=t,Fo=e}function um(t,e,n){pt[mt++]=Yt,pt[mt++]=qt,pt[mt++]=Xn,Xn=t;var r=Yt;t=qt;var i=32-Pt(r)-1;r&=~(1<<i),n+=1;var s=32-Pt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yt=1<<32-Pt(e)+i|n<<i|r,qt=s+t}else Yt=1<<s|n<<i|r,qt=t}function cc(t){t.return!==null&&(Vn(t,1),um(t,1,0))}function dc(t){for(;t===No;)No=Sr[--wr],Sr[wr]=null,Fo=Sr[--wr],Sr[wr]=null;for(;t===Xn;)Xn=pt[--mt],pt[mt]=null,qt=pt[--mt],pt[mt]=null,Yt=pt[--mt],pt[mt]=null}var ct=null,ut=null,fe=!1,xt=null;function cm(t,e){var n=vt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ct=t,ut=En(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ct=t,ut=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xn!==null?{id:Yt,overflow:qt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ct=t,ut=null,!0):!1;default:return!1}}function eu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tu(t){if(fe){var e=ut;if(e){var n=e;if(!vf(t,e)){if(eu(t))throw Error(x(418));e=En(n.nextSibling);var r=ct;e&&vf(t,e)?cm(r,n):(t.flags=t.flags&-4097|2,fe=!1,ct=t)}}else{if(eu(t))throw Error(x(418));t.flags=t.flags&-4097|2,fe=!1,ct=t}}}function gf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ct=t}function Hs(t){if(t!==ct)return!1;if(!fe)return gf(t),fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qa(t.type,t.memoizedProps)),e&&(e=ut)){if(eu(t))throw dm(),Error(x(418));for(;e;)cm(t,e),e=En(e.nextSibling)}if(gf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ut=En(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ut=null}}else ut=ct?En(t.stateNode.nextSibling):null;return!0}function dm(){for(var t=ut;t;)t=En(t.nextSibling)}function Wr(){ut=ct=null,fe=!1}function fc(t){xt===null?xt=[t]:xt.push(t)}var R0=ln.ReactCurrentBatchConfig;function It(t,e){if(t&&t.defaultProps){e=me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Po=Mn(null),Ao=null,kr=null,hc=null;function pc(){hc=kr=Ao=null}function mc(t){var e=Po.current;ce(Po),t._currentValue=e}function nu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ar(t,e){Ao=t,hc=kr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ze=!0),t.firstContext=null)}function _t(t){var e=t._currentValue;if(hc!==t)if(t={context:t,memoizedValue:e,next:null},kr===null){if(Ao===null)throw Error(x(308));kr=t,Ao.dependencies={lanes:0,firstContext:t}}else kr=kr.next=t;return e}var $n=null;function vc(t){$n===null?$n=[t]:$n.push(t)}function fm(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vc(e)):(n.next=i.next,i.next=n),e.interleaved=n,nn(t,r)}function nn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fn=!1;function gc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,nn(t,n)}return i=r.interleaved,i===null?(e.next=e,vc(r)):(e.next=i.next,i.next=e),r.interleaved=e,nn(t,n)}function lo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nc(t,n)}}function yf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Oo(t,e,n,r){var i=t.updateQueue;fn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,c=u=a=null,l=s;do{var f=l.lane,m=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,y=l;switch(f=e,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(m,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(m,d,f):g,f==null)break e;d=me({},d,f);break e;case 2:fn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=m,a=d):c=c.next=m,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zn|=o,t.lanes=o,t.memoizedState=d}}function _f(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var pm=new fp.Component().refs;function ru(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hl={isMounted:function(t){return(t=t._reactInternals)?lr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qe(),i=wn(t),s=Jt(r,i);s.payload=e,n!=null&&(s.callback=n),e=Cn(t,s,i),e!==null&&(At(e,t,i,r),lo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qe(),i=wn(t),s=Jt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Cn(t,s,i),e!==null&&(At(e,t,i,r),lo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qe(),r=wn(t),i=Jt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Cn(t,i,r),e!==null&&(At(e,t,r,n),lo(e,t,r))}};function Ef(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Qi(n,r)||!Qi(i,s):!0}function mm(t,e,n){var r=!1,i=Nn,s=e.contextType;return typeof s=="object"&&s!==null?s=_t(s):(i=rt(e)?qn:He.current,r=e.contextTypes,s=(r=r!=null)?Ur(t,i):Nn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Cf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hl.enqueueReplaceState(e,e.state,null)}function iu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=pm,gc(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_t(s):(s=rt(e)?qn:He.current,i.context=Ur(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ru(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hl.enqueueReplaceState(i,i.state,null),Oo(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function mi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===pm&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function Gs(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Sf(t){var e=t._init;return e(t._payload)}function vm(t){function e(h,p){if(t){var v=h.deletions;v===null?(h.deletions=[p],h.flags|=16):v.push(p)}}function n(h,p){if(!t)return null;for(;p!==null;)e(h,p),p=p.sibling;return null}function r(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function i(h,p){return h=kn(h,p),h.index=0,h.sibling=null,h}function s(h,p,v){return h.index=v,t?(v=h.alternate,v!==null?(v=v.index,v<p?(h.flags|=2,p):v):(h.flags|=2,p)):(h.flags|=1048576,p)}function o(h){return t&&h.alternate===null&&(h.flags|=2),h}function l(h,p,v,_){return p===null||p.tag!==6?(p=la(v,h.mode,_),p.return=h,p):(p=i(p,v),p.return=h,p)}function a(h,p,v,_){var E=v.type;return E===vr?c(h,p,v.props.children,_,v.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===dn&&Sf(E)===p.type)?(_=i(p,v.props),_.ref=mi(h,p,v),_.return=h,_):(_=po(v.type,v.key,v.props,null,h.mode,_),_.ref=mi(h,p,v),_.return=h,_)}function u(h,p,v,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=aa(v,h.mode,_),p.return=h,p):(p=i(p,v.children||[]),p.return=h,p)}function c(h,p,v,_,E){return p===null||p.tag!==7?(p=Kn(v,h.mode,_,E),p.return=h,p):(p=i(p,v),p.return=h,p)}function d(h,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=la(""+p,h.mode,v),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ds:return v=po(p.type,p.key,p.props,null,h.mode,v),v.ref=mi(h,null,p),v.return=h,v;case mr:return p=aa(p,h.mode,v),p.return=h,p;case dn:var _=p._init;return d(h,_(p._payload),v)}if(wi(p)||ci(p))return p=Kn(p,h.mode,v,null),p.return=h,p;Gs(h,p)}return null}function f(h,p,v,_){var E=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:l(h,p,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ds:return v.key===E?a(h,p,v,_):null;case mr:return v.key===E?u(h,p,v,_):null;case dn:return E=v._init,f(h,p,E(v._payload),_)}if(wi(v)||ci(v))return E!==null?null:c(h,p,v,_,null);Gs(h,v)}return null}function m(h,p,v,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return h=h.get(v)||null,l(p,h,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ds:return h=h.get(_.key===null?v:_.key)||null,a(p,h,_,E);case mr:return h=h.get(_.key===null?v:_.key)||null,u(p,h,_,E);case dn:var w=_._init;return m(h,p,v,w(_._payload),E)}if(wi(_)||ci(_))return h=h.get(v)||null,c(p,h,_,E,null);Gs(p,_)}return null}function g(h,p,v,_){for(var E=null,w=null,k=p,F=p=0,H=null;k!==null&&F<v.length;F++){k.index>F?(H=k,k=null):H=k.sibling;var M=f(h,k,v[F],_);if(M===null){k===null&&(k=H);break}t&&k&&M.alternate===null&&e(h,k),p=s(M,p,F),w===null?E=M:w.sibling=M,w=M,k=H}if(F===v.length)return n(h,k),fe&&Vn(h,F),E;if(k===null){for(;F<v.length;F++)k=d(h,v[F],_),k!==null&&(p=s(k,p,F),w===null?E=k:w.sibling=k,w=k);return fe&&Vn(h,F),E}for(k=r(h,k);F<v.length;F++)H=m(k,h,F,v[F],_),H!==null&&(t&&H.alternate!==null&&k.delete(H.key===null?F:H.key),p=s(H,p,F),w===null?E=H:w.sibling=H,w=H);return t&&k.forEach(function(ee){return e(h,ee)}),fe&&Vn(h,F),E}function y(h,p,v,_){var E=ci(v);if(typeof E!="function")throw Error(x(150));if(v=E.call(v),v==null)throw Error(x(151));for(var w=E=null,k=p,F=p=0,H=null,M=v.next();k!==null&&!M.done;F++,M=v.next()){k.index>F?(H=k,k=null):H=k.sibling;var ee=f(h,k,M.value,_);if(ee===null){k===null&&(k=H);break}t&&k&&ee.alternate===null&&e(h,k),p=s(ee,p,F),w===null?E=ee:w.sibling=ee,w=ee,k=H}if(M.done)return n(h,k),fe&&Vn(h,F),E;if(k===null){for(;!M.done;F++,M=v.next())M=d(h,M.value,_),M!==null&&(p=s(M,p,F),w===null?E=M:w.sibling=M,w=M);return fe&&Vn(h,F),E}for(k=r(h,k);!M.done;F++,M=v.next())M=m(k,h,F,M.value,_),M!==null&&(t&&M.alternate!==null&&k.delete(M.key===null?F:M.key),p=s(M,p,F),w===null?E=M:w.sibling=M,w=M);return t&&k.forEach(function(X){return e(h,X)}),fe&&Vn(h,F),E}function S(h,p,v,_){if(typeof v=="object"&&v!==null&&v.type===vr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ds:e:{for(var E=v.key,w=p;w!==null;){if(w.key===E){if(E=v.type,E===vr){if(w.tag===7){n(h,w.sibling),p=i(w,v.props.children),p.return=h,h=p;break e}}else if(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===dn&&Sf(E)===w.type){n(h,w.sibling),p=i(w,v.props),p.ref=mi(h,w,v),p.return=h,h=p;break e}n(h,w);break}else e(h,w);w=w.sibling}v.type===vr?(p=Kn(v.props.children,h.mode,_,v.key),p.return=h,h=p):(_=po(v.type,v.key,v.props,null,h.mode,_),_.ref=mi(h,p,v),_.return=h,h=_)}return o(h);case mr:e:{for(w=v.key;p!==null;){if(p.key===w)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(h,p.sibling),p=i(p,v.children||[]),p.return=h,h=p;break e}else{n(h,p);break}else e(h,p);p=p.sibling}p=aa(v,h.mode,_),p.return=h,h=p}return o(h);case dn:return w=v._init,S(h,p,w(v._payload),_)}if(wi(v))return g(h,p,v,_);if(ci(v))return y(h,p,v,_);Gs(h,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(h,p.sibling),p=i(p,v),p.return=h,h=p):(n(h,p),p=la(v,h.mode,_),p.return=h,h=p),o(h)):n(h,p)}return S}var $r=vm(!0),gm=vm(!1),_s={},$t=Mn(_s),Xi=Mn(_s),Ji=Mn(_s);function jn(t){if(t===_s)throw Error(x(174));return t}function yc(t,e){switch(oe(Ji,e),oe(Xi,t),oe($t,_s),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:La(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=La(e,t)}ce($t),oe($t,e)}function jr(){ce($t),ce(Xi),ce(Ji)}function ym(t){jn(Ji.current);var e=jn($t.current),n=La(e,t.type);e!==n&&(oe(Xi,t),oe($t,n))}function _c(t){Xi.current===t&&(ce($t),ce(Xi))}var he=Mn(0);function Mo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ta=[];function Ec(){for(var t=0;t<ta.length;t++)ta[t]._workInProgressVersionPrimary=null;ta.length=0}var ao=ln.ReactCurrentDispatcher,na=ln.ReactCurrentBatchConfig,Jn=0,pe=null,Ie=null,Pe=null,Do=!1,Pi=!1,Zi=0,N0=0;function Ue(){throw Error(x(321))}function Cc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mt(t[n],e[n]))return!1;return!0}function Sc(t,e,n,r,i,s){if(Jn=s,pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ao.current=t===null||t.memoizedState===null?O0:M0,t=n(r,i),Pi){s=0;do{if(Pi=!1,Zi=0,25<=s)throw Error(x(301));s+=1,Pe=Ie=null,e.updateQueue=null,ao.current=D0,t=n(r,i)}while(Pi)}if(ao.current=Lo,e=Ie!==null&&Ie.next!==null,Jn=0,Pe=Ie=pe=null,Do=!1,e)throw Error(x(300));return t}function wc(){var t=Zi!==0;return Zi=0,t}function zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?pe.memoizedState=Pe=t:Pe=Pe.next=t,Pe}function Et(){if(Ie===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var e=Pe===null?pe.memoizedState:Pe.next;if(e!==null)Pe=e,Ie=t;else{if(t===null)throw Error(x(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Pe===null?pe.memoizedState=Pe=t:Pe=Pe.next=t}return Pe}function es(t,e){return typeof e=="function"?e(t):e}function ra(t){var e=Et(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=Ie,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((Jn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,pe.lanes|=c,Zn|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Mt(r,e.memoizedState)||(Ze=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,pe.lanes|=s,Zn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ia(t){var e=Et(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Mt(s,e.memoizedState)||(Ze=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function _m(){}function Em(t,e){var n=pe,r=Et(),i=e(),s=!Mt(r.memoizedState,i);if(s&&(r.memoizedState=i,Ze=!0),r=r.queue,kc(wm.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,ts(9,Sm.bind(null,n,r,i,e),void 0,null),Me===null)throw Error(x(349));Jn&30||Cm(n,e,i)}return i}function Cm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Sm(t,e,n,r){e.value=n,e.getSnapshot=r,km(e)&&Im(t)}function wm(t,e,n){return n(function(){km(e)&&Im(t)})}function km(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mt(t,n)}catch{return!0}}function Im(t){var e=nn(t,1);e!==null&&At(e,t,1,-1)}function wf(t){var e=zt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},e.queue=t,t=t.dispatch=A0.bind(null,pe,t),[e.memoizedState,t]}function ts(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Tm(){return Et().memoizedState}function uo(t,e,n,r){var i=zt();pe.flags|=t,i.memoizedState=ts(1|e,n,void 0,r===void 0?null:r)}function pl(t,e,n,r){var i=Et();r=r===void 0?null:r;var s=void 0;if(Ie!==null){var o=Ie.memoizedState;if(s=o.destroy,r!==null&&Cc(r,o.deps)){i.memoizedState=ts(e,n,s,r);return}}pe.flags|=t,i.memoizedState=ts(1|e,n,s,r)}function kf(t,e){return uo(8390656,8,t,e)}function kc(t,e){return pl(2048,8,t,e)}function xm(t,e){return pl(4,2,t,e)}function Rm(t,e){return pl(4,4,t,e)}function Nm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fm(t,e,n){return n=n!=null?n.concat([t]):null,pl(4,4,Nm.bind(null,e,t),n)}function Ic(){}function Pm(t,e){var n=Et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Am(t,e){var n=Et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Om(t,e,n){return Jn&21?(Mt(n,e)||(n=Lp(),pe.lanes|=n,Zn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ze=!0),t.memoizedState=n)}function F0(t,e){var n=Z;Z=n!==0&&4>n?n:4,t(!0);var r=na.transition;na.transition={};try{t(!1),e()}finally{Z=n,na.transition=r}}function Mm(){return Et().memoizedState}function P0(t,e,n){var r=wn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Dm(t))Lm(e,n);else if(n=fm(t,e,n,r),n!==null){var i=Qe();At(n,t,r,i),bm(n,e,r)}}function A0(t,e,n){var r=wn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dm(t))Lm(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Mt(l,o)){var a=e.interleaved;a===null?(i.next=i,vc(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=fm(t,e,i,r),n!==null&&(i=Qe(),At(n,t,r,i),bm(n,e,r))}}function Dm(t){var e=t.alternate;return t===pe||e!==null&&e===pe}function Lm(t,e){Pi=Do=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nc(t,n)}}var Lo={readContext:_t,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},O0={readContext:_t,useCallback:function(t,e){return zt().memoizedState=[t,e===void 0?null:e],t},useContext:_t,useEffect:kf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uo(4194308,4,Nm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uo(4194308,4,t,e)},useInsertionEffect:function(t,e){return uo(4,2,t,e)},useMemo:function(t,e){var n=zt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=P0.bind(null,pe,t),[r.memoizedState,t]},useRef:function(t){var e=zt();return t={current:t},e.memoizedState=t},useState:wf,useDebugValue:Ic,useDeferredValue:function(t){return zt().memoizedState=t},useTransition:function(){var t=wf(!1),e=t[0];return t=F0.bind(null,t[1]),zt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pe,i=zt();if(fe){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),Me===null)throw Error(x(349));Jn&30||Cm(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,kf(wm.bind(null,r,s,t),[t]),r.flags|=2048,ts(9,Sm.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=zt(),e=Me.identifierPrefix;if(fe){var n=qt,r=Yt;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=N0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},M0={readContext:_t,useCallback:Pm,useContext:_t,useEffect:kc,useImperativeHandle:Fm,useInsertionEffect:xm,useLayoutEffect:Rm,useMemo:Am,useReducer:ra,useRef:Tm,useState:function(){return ra(es)},useDebugValue:Ic,useDeferredValue:function(t){var e=Et();return Om(e,Ie.memoizedState,t)},useTransition:function(){var t=ra(es)[0],e=Et().memoizedState;return[t,e]},useMutableSource:_m,useSyncExternalStore:Em,useId:Mm,unstable_isNewReconciler:!1},D0={readContext:_t,useCallback:Pm,useContext:_t,useEffect:kc,useImperativeHandle:Fm,useInsertionEffect:xm,useLayoutEffect:Rm,useMemo:Am,useReducer:ia,useRef:Tm,useState:function(){return ia(es)},useDebugValue:Ic,useDeferredValue:function(t){var e=Et();return Ie===null?e.memoizedState=t:Om(e,Ie.memoizedState,t)},useTransition:function(){var t=ia(es)[0],e=Et().memoizedState;return[t,e]},useMutableSource:_m,useSyncExternalStore:Em,useId:Mm,unstable_isNewReconciler:!1};function Hr(t,e){try{var n="",r=e;do n+=u_(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function sa(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function su(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var L0=typeof WeakMap=="function"?WeakMap:Map;function Vm(t,e,n){n=Jt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vo||(Vo=!0,mu=r),su(t,e)},n}function zm(t,e,n){n=Jt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){su(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){su(t,e),typeof r!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function If(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new L0;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=q0.bind(null,t,e,n),e.then(t,t))}function Tf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jt(-1,1),e.tag=2,Cn(n,e,1))),n.lanes|=1),t)}var b0=ln.ReactCurrentOwner,Ze=!1;function Ge(t,e,n,r){e.child=t===null?gm(e,null,n,r):$r(e,t.child,n,r)}function Rf(t,e,n,r,i){n=n.render;var s=e.ref;return Ar(e,i),r=Sc(t,e,n,r,s,i),n=wc(),t!==null&&!Ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,rn(t,e,i)):(fe&&n&&cc(e),e.flags|=1,Ge(t,e,r,i),e.child)}function Nf(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Oc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Bm(t,e,s,r,i)):(t=po(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Qi,n(o,r)&&t.ref===e.ref)return rn(t,e,i)}return e.flags|=1,t=kn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Bm(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Qi(s,r)&&t.ref===e.ref)if(Ze=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ze=!0);else return e.lanes=t.lanes,rn(t,e,i)}return ou(t,e,n,r,i)}function Um(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(Tr,at),at|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,oe(Tr,at),at|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,oe(Tr,at),at|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,oe(Tr,at),at|=r;return Ge(t,e,i,n),e.child}function Wm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ou(t,e,n,r,i){var s=rt(n)?qn:He.current;return s=Ur(e,s),Ar(e,i),n=Sc(t,e,n,r,s,i),r=wc(),t!==null&&!Ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,rn(t,e,i)):(fe&&r&&cc(e),e.flags|=1,Ge(t,e,n,i),e.child)}function Ff(t,e,n,r,i){if(rt(n)){var s=!0;Ro(e)}else s=!1;if(Ar(e,i),e.stateNode===null)co(t,e),mm(e,n,r),iu(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=_t(u):(u=rt(n)?qn:He.current,u=Ur(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Cf(e,o,r,u),fn=!1;var f=e.memoizedState;o.state=f,Oo(e,r,o,i),a=e.memoizedState,l!==r||f!==a||nt.current||fn?(typeof c=="function"&&(ru(e,n,c,r),a=e.memoizedState),(l=fn||Ef(e,n,l,r,f,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,hm(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:It(e.type,l),o.props=u,d=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=_t(a):(a=rt(n)?qn:He.current,a=Ur(e,a));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&Cf(e,o,r,a),fn=!1,f=e.memoizedState,o.state=f,Oo(e,r,o,i);var g=e.memoizedState;l!==d||f!==g||nt.current||fn?(typeof m=="function"&&(ru(e,n,m,r),g=e.memoizedState),(u=fn||Ef(e,n,u,r,f,g,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return lu(t,e,n,r,s,i)}function lu(t,e,n,r,i,s){Wm(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&mf(e,n,!1),rn(t,e,s);r=e.stateNode,b0.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$r(e,t.child,null,s),e.child=$r(e,null,l,s)):Ge(t,e,l,s),e.memoizedState=r.state,i&&mf(e,n,!0),e.child}function $m(t){var e=t.stateNode;e.pendingContext?pf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pf(t,e.context,!1),yc(t,e.containerInfo)}function Pf(t,e,n,r,i){return Wr(),fc(i),e.flags|=256,Ge(t,e,n,r),e.child}var au={dehydrated:null,treeContext:null,retryLane:0};function uu(t){return{baseLanes:t,cachePool:null,transitions:null}}function jm(t,e,n){var r=e.pendingProps,i=he.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),oe(he,i&1),t===null)return tu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=gl(o,r,0,null),t=Kn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=uu(n),e.memoizedState=au,t):Tc(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return V0(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=kn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=kn(l,s):(s=Kn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?uu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=au,r}return s=t.child,t=s.sibling,r=kn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tc(t,e){return e=gl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qs(t,e,n,r){return r!==null&&fc(r),$r(e,t.child,null,n),t=Tc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function V0(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=sa(Error(x(422))),Qs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=gl({mode:"visible",children:r.children},i,0,null),s=Kn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&$r(e,t.child,null,o),e.child.memoizedState=uu(o),e.memoizedState=au,s);if(!(e.mode&1))return Qs(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(x(419)),r=sa(s,r,void 0),Qs(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ze||l){if(r=Me,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,nn(t,i),At(r,t,i,-1))}return Ac(),r=sa(Error(x(421))),Qs(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=X0.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ut=En(i.nextSibling),ct=e,fe=!0,xt=null,t!==null&&(pt[mt++]=Yt,pt[mt++]=qt,pt[mt++]=Xn,Yt=t.id,qt=t.overflow,Xn=e),e=Tc(e,r.children),e.flags|=4096,e)}function Af(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nu(t.return,e,n)}function oa(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Hm(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ge(t,e,r.children,n),r=he.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Af(t,n,e);else if(t.tag===19)Af(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(oe(he,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mo(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),oa(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mo(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}oa(e,!0,n,null,s);break;case"together":oa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function co(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=kn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=kn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function z0(t,e,n){switch(e.tag){case 3:$m(e),Wr();break;case 5:ym(e);break;case 1:rt(e.type)&&Ro(e);break;case 4:yc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;oe(Po,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(oe(he,he.current&1),e.flags|=128,null):n&e.child.childLanes?jm(t,e,n):(oe(he,he.current&1),t=rn(t,e,n),t!==null?t.sibling:null);oe(he,he.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Hm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),oe(he,he.current),r)break;return null;case 22:case 23:return e.lanes=0,Um(t,e,n)}return rn(t,e,n)}var Gm,cu,Qm,Km;Gm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cu=function(){};Qm=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,jn($t.current);var s=null;switch(n){case"input":i=Aa(t,i),r=Aa(t,r),s=[];break;case"select":i=me({},i,{value:void 0}),r=me({},r,{value:void 0}),s=[];break;case"textarea":i=Da(t,i),r=Da(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=To)}ba(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ae("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Km=function(t,e,n,r){n!==r&&(e.flags|=4)};function vi(t,e){if(!fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function We(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function B0(t,e,n){var r=e.pendingProps;switch(dc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(e),null;case 1:return rt(e.type)&&xo(),We(e),null;case 3:return r=e.stateNode,jr(),ce(nt),ce(He),Ec(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xt!==null&&(yu(xt),xt=null))),cu(t,e),We(e),null;case 5:_c(e);var i=jn(Ji.current);if(n=e.type,t!==null&&e.stateNode!=null)Qm(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return We(e),null}if(t=jn($t.current),Hs(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Bt]=e,r[qi]=s,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(i=0;i<Ii.length;i++)ae(Ii[i],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":Bd(r,s),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ae("invalid",r);break;case"textarea":Wd(r,s),ae("invalid",r)}ba(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&js(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&js(r.textContent,l,t),i=["children",""+l]):Bi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ae("scroll",r)}switch(n){case"input":Ls(r),Ud(r,s,!0);break;case"textarea":Ls(r),$d(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=To)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Bt]=e,t[qi]=r,Gm(t,e,!1,!1),e.stateNode=t;e:{switch(o=Va(n,r),n){case"dialog":ae("cancel",t),ae("close",t),i=r;break;case"iframe":case"object":case"embed":ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ii.length;i++)ae(Ii[i],t);i=r;break;case"source":ae("error",t),i=r;break;case"img":case"image":case"link":ae("error",t),ae("load",t),i=r;break;case"details":ae("toggle",t),i=r;break;case"input":Bd(t,r),i=Aa(t,r),ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=me({},r,{value:void 0}),ae("invalid",t);break;case"textarea":Wd(t,r),i=Da(t,r),ae("invalid",t);break;default:i=r}ba(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?kp(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Sp(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ui(t,a):typeof a=="number"&&Ui(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bi.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ae("scroll",t):a!=null&&qu(t,s,a,o))}switch(n){case"input":Ls(t),Ud(t,r,!1);break;case"textarea":Ls(t),$d(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Rr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Rr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=To)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return We(e),null;case 6:if(t&&e.stateNode!=null)Km(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(n=jn(Ji.current),jn($t.current),Hs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Bt]=e,(s=r.nodeValue!==n)&&(t=ct,t!==null))switch(t.tag){case 3:js(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&js(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bt]=e,e.stateNode=r}return We(e),null;case 13:if(ce(he),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fe&&ut!==null&&e.mode&1&&!(e.flags&128))dm(),Wr(),e.flags|=98560,s=!1;else if(s=Hs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(x(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(x(317));s[Bt]=e}else Wr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;We(e),s=!1}else xt!==null&&(yu(xt),xt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||he.current&1?xe===0&&(xe=3):Ac())),e.updateQueue!==null&&(e.flags|=4),We(e),null);case 4:return jr(),cu(t,e),t===null&&Ki(e.stateNode.containerInfo),We(e),null;case 10:return mc(e.type._context),We(e),null;case 17:return rt(e.type)&&xo(),We(e),null;case 19:if(ce(he),s=e.memoizedState,s===null)return We(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)vi(s,!1);else{if(xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mo(t),o!==null){for(e.flags|=128,vi(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return oe(he,he.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ce()>Gr&&(e.flags|=128,r=!0,vi(s,!1),e.lanes=4194304)}else{if(!r)if(t=Mo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!fe)return We(e),null}else 2*Ce()-s.renderingStartTime>Gr&&n!==1073741824&&(e.flags|=128,r=!0,vi(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ce(),e.sibling=null,n=he.current,oe(he,r?n&1|2:n&1),e):(We(e),null);case 22:case 23:return Pc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?at&1073741824&&(We(e),e.subtreeFlags&6&&(e.flags|=8192)):We(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function U0(t,e){switch(dc(e),e.tag){case 1:return rt(e.type)&&xo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jr(),ce(nt),ce(He),Ec(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _c(e),null;case 13:if(ce(he),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));Wr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ce(he),null;case 4:return jr(),null;case 10:return mc(e.type._context),null;case 22:case 23:return Pc(),null;case 24:return null;default:return null}}var Ks=!1,$e=!1,W0=typeof WeakSet=="function"?WeakSet:Set,O=null;function Ir(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(t,e,r)}else n.current=null}function du(t,e,n){try{n()}catch(r){ve(t,e,r)}}var Of=!1;function $0(t,e){if(Ka=wo,t=Jp(),uc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===i&&(l=o),f===s&&++c===r&&(a=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ya={focusedElem:t,selectionRange:n},wo=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,S=g.memoizedState,h=e.stateNode,p=h.getSnapshotBeforeUpdate(e.elementType===e.type?y:It(e.type,y),S);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(_){ve(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return g=Of,Of=!1,g}function Ai(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&du(e,n,s)}i=i.next}while(i!==r)}}function ml(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ym(t){var e=t.alternate;e!==null&&(t.alternate=null,Ym(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bt],delete e[qi],delete e[Ja],delete e[I0],delete e[T0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qm(t){return t.tag===5||t.tag===3||t.tag===4}function Mf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=To));else if(r!==4&&(t=t.child,t!==null))for(hu(t,e,n),t=t.sibling;t!==null;)hu(t,e,n),t=t.sibling}function pu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pu(t,e,n),t=t.sibling;t!==null;)pu(t,e,n),t=t.sibling}var De=null,Tt=!1;function cn(t,e,n){for(n=n.child;n!==null;)Xm(t,e,n),n=n.sibling}function Xm(t,e,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ll,n)}catch{}switch(n.tag){case 5:$e||Ir(n,e);case 6:var r=De,i=Tt;De=null,cn(t,e,n),De=r,Tt=i,De!==null&&(Tt?(t=De,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(Tt?(t=De,n=n.stateNode,t.nodeType===8?Zl(t.parentNode,n):t.nodeType===1&&Zl(t,n),Hi(t)):Zl(De,n.stateNode));break;case 4:r=De,i=Tt,De=n.stateNode.containerInfo,Tt=!0,cn(t,e,n),De=r,Tt=i;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&du(n,e,o),i=i.next}while(i!==r)}cn(t,e,n);break;case 1:if(!$e&&(Ir(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ve(n,e,l)}cn(t,e,n);break;case 21:cn(t,e,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,cn(t,e,n),$e=r):cn(t,e,n);break;default:cn(t,e,n)}}function Df(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new W0),e.forEach(function(r){var i=J0.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:De=l.stateNode,Tt=!1;break e;case 3:De=l.stateNode.containerInfo,Tt=!0;break e;case 4:De=l.stateNode.containerInfo,Tt=!0;break e}l=l.return}if(De===null)throw Error(x(160));Xm(s,o,i),De=null,Tt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ve(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Jm(e,t),e=e.sibling}function Jm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wt(e,t),Vt(t),r&4){try{Ai(3,t,t.return),ml(3,t)}catch(y){ve(t,t.return,y)}try{Ai(5,t,t.return)}catch(y){ve(t,t.return,y)}}break;case 1:wt(e,t),Vt(t),r&512&&n!==null&&Ir(n,n.return);break;case 5:if(wt(e,t),Vt(t),r&512&&n!==null&&Ir(n,n.return),t.flags&32){var i=t.stateNode;try{Ui(i,"")}catch(y){ve(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&_p(i,s),Va(l,o);var u=Va(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?kp(i,d):c==="dangerouslySetInnerHTML"?Sp(i,d):c==="children"?Ui(i,d):qu(i,c,d,u)}switch(l){case"input":Oa(i,s);break;case"textarea":Ep(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Rr(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Rr(i,!!s.multiple,s.defaultValue,!0):Rr(i,!!s.multiple,s.multiple?[]:"",!1))}i[qi]=s}catch(y){ve(t,t.return,y)}}break;case 6:if(wt(e,t),Vt(t),r&4){if(t.stateNode===null)throw Error(x(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){ve(t,t.return,y)}}break;case 3:if(wt(e,t),Vt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hi(e.containerInfo)}catch(y){ve(t,t.return,y)}break;case 4:wt(e,t),Vt(t);break;case 13:wt(e,t),Vt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Nc=Ce())),r&4&&Df(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?($e=(u=$e)||c,wt(e,t),$e=u):wt(e,t),Vt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(O=t,c=t.child;c!==null;){for(d=O=c;O!==null;){switch(f=O,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ai(4,f,f.return);break;case 1:Ir(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){ve(r,n,y)}}break;case 5:Ir(f,f.return);break;case 22:if(f.memoizedState!==null){bf(d);continue}}m!==null?(m.return=f,O=m):bf(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=wp("display",o))}catch(y){ve(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){ve(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wt(e,t),Vt(t),r&4&&Df(t);break;case 21:break;default:wt(e,t),Vt(t)}}function Vt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qm(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ui(i,""),r.flags&=-33);var s=Mf(t);pu(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Mf(t);hu(t,l,o);break;default:throw Error(x(161))}}catch(a){ve(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function j0(t,e,n){O=t,Zm(t)}function Zm(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var i=O,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ks;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||$e;l=Ks;var u=$e;if(Ks=o,($e=a)&&!u)for(O=i;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?Vf(i):a!==null?(a.return=o,O=a):Vf(i);for(;s!==null;)O=s,Zm(s),s=s.sibling;O=i,Ks=l,$e=u}Lf(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,O=s):Lf(t)}}function Lf(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$e||ml(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$e)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:It(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_f(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_f(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Hi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}$e||e.flags&512&&fu(e)}catch(f){ve(e,e.return,f)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function bf(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function Vf(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ml(4,e)}catch(a){ve(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ve(e,i,a)}}var s=e.return;try{fu(e)}catch(a){ve(e,s,a)}break;case 5:var o=e.return;try{fu(e)}catch(a){ve(e,o,a)}}}catch(a){ve(e,e.return,a)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var H0=Math.ceil,bo=ln.ReactCurrentDispatcher,xc=ln.ReactCurrentOwner,yt=ln.ReactCurrentBatchConfig,q=0,Me=null,we=null,Ve=0,at=0,Tr=Mn(0),xe=0,ns=null,Zn=0,vl=0,Rc=0,Oi=null,Je=null,Nc=0,Gr=1/0,Qt=null,Vo=!1,mu=null,Sn=null,Ys=!1,vn=null,zo=0,Mi=0,vu=null,fo=-1,ho=0;function Qe(){return q&6?Ce():fo!==-1?fo:fo=Ce()}function wn(t){return t.mode&1?q&2&&Ve!==0?Ve&-Ve:R0.transition!==null?(ho===0&&(ho=Lp()),ho):(t=Z,t!==0||(t=window.event,t=t===void 0?16:$p(t.type)),t):1}function At(t,e,n,r){if(50<Mi)throw Mi=0,vu=null,Error(x(185));vs(t,n,r),(!(q&2)||t!==Me)&&(t===Me&&(!(q&2)&&(vl|=n),xe===4&&pn(t,Ve)),it(t,r),n===1&&q===0&&!(e.mode&1)&&(Gr=Ce()+500,fl&&Dn()))}function it(t,e){var n=t.callbackNode;R_(t,e);var r=So(t,t===Me?Ve:0);if(r===0)n!==null&&Gd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gd(n),e===1)t.tag===0?x0(zf.bind(null,t)):am(zf.bind(null,t)),w0(function(){!(q&6)&&Dn()}),n=null;else{switch(bp(r)){case 1:n=tc;break;case 4:n=Mp;break;case 16:n=Co;break;case 536870912:n=Dp;break;default:n=Co}n=lv(n,ev.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ev(t,e){if(fo=-1,ho=0,q&6)throw Error(x(327));var n=t.callbackNode;if(Or()&&t.callbackNode!==n)return null;var r=So(t,t===Me?Ve:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bo(t,r);else{e=r;var i=q;q|=2;var s=nv();(Me!==t||Ve!==e)&&(Qt=null,Gr=Ce()+500,Qn(t,e));do try{K0();break}catch(l){tv(t,l)}while(!0);pc(),bo.current=s,q=i,we!==null?e=0:(Me=null,Ve=0,e=xe)}if(e!==0){if(e===2&&(i=$a(t),i!==0&&(r=i,e=gu(t,i))),e===1)throw n=ns,Qn(t,0),pn(t,r),it(t,Ce()),n;if(e===6)pn(t,r);else{if(i=t.current.alternate,!(r&30)&&!G0(i)&&(e=Bo(t,r),e===2&&(s=$a(t),s!==0&&(r=s,e=gu(t,s))),e===1))throw n=ns,Qn(t,0),pn(t,r),it(t,Ce()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:zn(t,Je,Qt);break;case 3:if(pn(t,r),(r&130023424)===r&&(e=Nc+500-Ce(),10<e)){if(So(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qe(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xa(zn.bind(null,t,Je,Qt),e);break}zn(t,Je,Qt);break;case 4:if(pn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Pt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*H0(r/1960))-r,10<r){t.timeoutHandle=Xa(zn.bind(null,t,Je,Qt),r);break}zn(t,Je,Qt);break;case 5:zn(t,Je,Qt);break;default:throw Error(x(329))}}}return it(t,Ce()),t.callbackNode===n?ev.bind(null,t):null}function gu(t,e){var n=Oi;return t.current.memoizedState.isDehydrated&&(Qn(t,e).flags|=256),t=Bo(t,e),t!==2&&(e=Je,Je=n,e!==null&&yu(e)),t}function yu(t){Je===null?Je=t:Je.push.apply(Je,t)}function G0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pn(t,e){for(e&=~Rc,e&=~vl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pt(e),r=1<<n;t[n]=-1,e&=~r}}function zf(t){if(q&6)throw Error(x(327));Or();var e=So(t,0);if(!(e&1))return it(t,Ce()),null;var n=Bo(t,e);if(t.tag!==0&&n===2){var r=$a(t);r!==0&&(e=r,n=gu(t,r))}if(n===1)throw n=ns,Qn(t,0),pn(t,e),it(t,Ce()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zn(t,Je,Qt),it(t,Ce()),null}function Fc(t,e){var n=q;q|=1;try{return t(e)}finally{q=n,q===0&&(Gr=Ce()+500,fl&&Dn())}}function er(t){vn!==null&&vn.tag===0&&!(q&6)&&Or();var e=q;q|=1;var n=yt.transition,r=Z;try{if(yt.transition=null,Z=1,t)return t()}finally{Z=r,yt.transition=n,q=e,!(q&6)&&Dn()}}function Pc(){at=Tr.current,ce(Tr)}function Qn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,S0(n)),we!==null)for(n=we.return;n!==null;){var r=n;switch(dc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xo();break;case 3:jr(),ce(nt),ce(He),Ec();break;case 5:_c(r);break;case 4:jr();break;case 13:ce(he);break;case 19:ce(he);break;case 10:mc(r.type._context);break;case 22:case 23:Pc()}n=n.return}if(Me=t,we=t=kn(t.current,null),Ve=at=e,xe=0,ns=null,Rc=vl=Zn=0,Je=Oi=null,$n!==null){for(e=0;e<$n.length;e++)if(n=$n[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$n=null}return t}function tv(t,e){do{var n=we;try{if(pc(),ao.current=Lo,Do){for(var r=pe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Do=!1}if(Jn=0,Pe=Ie=pe=null,Pi=!1,Zi=0,xc.current=null,n===null||n.return===null){xe=1,ns=e,we=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=Ve,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Tf(o);if(m!==null){m.flags&=-257,xf(m,o,l,s,e),m.mode&1&&If(s,u,e),e=m,a=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(a),e.updateQueue=y}else g.add(a);break e}else{if(!(e&1)){If(s,u,e),Ac();break e}a=Error(x(426))}}else if(fe&&l.mode&1){var S=Tf(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),xf(S,o,l,s,e),fc(Hr(a,l));break e}}s=a=Hr(a,l),xe!==4&&(xe=2),Oi===null?Oi=[s]:Oi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var h=Vm(s,a,e);yf(s,h);break e;case 1:l=a;var p=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Sn===null||!Sn.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=zm(s,l,e);yf(s,_);break e}}s=s.return}while(s!==null)}iv(n)}catch(E){e=E,we===n&&n!==null&&(we=n=n.return);continue}break}while(!0)}function nv(){var t=bo.current;return bo.current=Lo,t===null?Lo:t}function Ac(){(xe===0||xe===3||xe===2)&&(xe=4),Me===null||!(Zn&268435455)&&!(vl&268435455)||pn(Me,Ve)}function Bo(t,e){var n=q;q|=2;var r=nv();(Me!==t||Ve!==e)&&(Qt=null,Qn(t,e));do try{Q0();break}catch(i){tv(t,i)}while(!0);if(pc(),q=n,bo.current=r,we!==null)throw Error(x(261));return Me=null,Ve=0,xe}function Q0(){for(;we!==null;)rv(we)}function K0(){for(;we!==null&&!__();)rv(we)}function rv(t){var e=ov(t.alternate,t,at);t.memoizedProps=t.pendingProps,e===null?iv(t):we=e,xc.current=null}function iv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=U0(n,e),n!==null){n.flags&=32767,we=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xe=6,we=null;return}}else if(n=B0(n,e,at),n!==null){we=n;return}if(e=e.sibling,e!==null){we=e;return}we=e=t}while(e!==null);xe===0&&(xe=5)}function zn(t,e,n){var r=Z,i=yt.transition;try{yt.transition=null,Z=1,Y0(t,e,n,r)}finally{yt.transition=i,Z=r}return null}function Y0(t,e,n,r){do Or();while(vn!==null);if(q&6)throw Error(x(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(N_(t,s),t===Me&&(we=Me=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ys||(Ys=!0,lv(Co,function(){return Or(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yt.transition,yt.transition=null;var o=Z;Z=1;var l=q;q|=4,xc.current=null,$0(t,n),Jm(n,t),m0(Ya),wo=!!Ka,Ya=Ka=null,t.current=n,j0(n),E_(),q=l,Z=o,yt.transition=s}else t.current=n;if(Ys&&(Ys=!1,vn=t,zo=i),s=t.pendingLanes,s===0&&(Sn=null),w_(n.stateNode),it(t,Ce()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vo)throw Vo=!1,t=mu,mu=null,t;return zo&1&&t.tag!==0&&Or(),s=t.pendingLanes,s&1?t===vu?Mi++:(Mi=0,vu=t):Mi=0,Dn(),null}function Or(){if(vn!==null){var t=bp(zo),e=yt.transition,n=Z;try{if(yt.transition=null,Z=16>t?16:t,vn===null)var r=!1;else{if(t=vn,vn=null,zo=0,q&6)throw Error(x(331));var i=q;for(q|=4,O=t.current;O!==null;){var s=O,o=s.child;if(O.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:Ai(8,c,s)}var d=c.child;if(d!==null)d.return=c,O=d;else for(;O!==null;){c=O;var f=c.sibling,m=c.return;if(Ym(c),c===u){O=null;break}if(f!==null){f.return=m,O=f;break}O=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}O=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,O=o;else e:for(;O!==null;){if(s=O,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ai(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,O=h;break e}O=s.return}}var p=t.current;for(O=p;O!==null;){o=O;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,O=v;else e:for(o=p;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ml(9,l)}}catch(E){ve(l,l.return,E)}if(l===o){O=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,O=_;break e}O=l.return}}if(q=i,Dn(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ll,t)}catch{}r=!0}return r}finally{Z=n,yt.transition=e}}return!1}function Bf(t,e,n){e=Hr(n,e),e=Vm(t,e,1),t=Cn(t,e,1),e=Qe(),t!==null&&(vs(t,1,e),it(t,e))}function ve(t,e,n){if(t.tag===3)Bf(t,t,n);else for(;e!==null;){if(e.tag===3){Bf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sn===null||!Sn.has(r))){t=Hr(n,t),t=zm(e,t,1),e=Cn(e,t,1),t=Qe(),e!==null&&(vs(e,1,t),it(e,t));break}}e=e.return}}function q0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qe(),t.pingedLanes|=t.suspendedLanes&n,Me===t&&(Ve&n)===n&&(xe===4||xe===3&&(Ve&130023424)===Ve&&500>Ce()-Nc?Qn(t,0):Rc|=n),it(t,e)}function sv(t,e){e===0&&(t.mode&1?(e=zs,zs<<=1,!(zs&130023424)&&(zs=4194304)):e=1);var n=Qe();t=nn(t,e),t!==null&&(vs(t,e,n),it(t,n))}function X0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sv(t,n)}function J0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),sv(t,n)}var ov;ov=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nt.current)Ze=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ze=!1,z0(t,e,n);Ze=!!(t.flags&131072)}else Ze=!1,fe&&e.flags&1048576&&um(e,Fo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;co(t,e),t=e.pendingProps;var i=Ur(e,He.current);Ar(e,n),i=Sc(null,e,r,t,i,n);var s=wc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rt(r)?(s=!0,Ro(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gc(e),i.updater=hl,e.stateNode=i,i._reactInternals=e,iu(e,r,t,n),e=lu(null,e,r,!0,s,n)):(e.tag=0,fe&&s&&cc(e),Ge(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(co(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=eE(r),t=It(r,t),i){case 0:e=ou(null,e,r,t,n);break e;case 1:e=Ff(null,e,r,t,n);break e;case 11:e=Rf(null,e,r,t,n);break e;case 14:e=Nf(null,e,r,It(r.type,t),n);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:It(r,i),ou(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:It(r,i),Ff(t,e,r,i,n);case 3:e:{if($m(e),t===null)throw Error(x(387));r=e.pendingProps,s=e.memoizedState,i=s.element,hm(t,e),Oo(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Hr(Error(x(423)),e),e=Pf(t,e,r,n,i);break e}else if(r!==i){i=Hr(Error(x(424)),e),e=Pf(t,e,r,n,i);break e}else for(ut=En(e.stateNode.containerInfo.firstChild),ct=e,fe=!0,xt=null,n=gm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wr(),r===i){e=rn(t,e,n);break e}Ge(t,e,r,n)}e=e.child}return e;case 5:return ym(e),t===null&&tu(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qa(r,i)?o=null:s!==null&&qa(r,s)&&(e.flags|=32),Wm(t,e),Ge(t,e,o,n),e.child;case 6:return t===null&&tu(e),null;case 13:return jm(t,e,n);case 4:return yc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$r(e,null,r,n):Ge(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:It(r,i),Rf(t,e,r,i,n);case 7:return Ge(t,e,e.pendingProps,n),e.child;case 8:return Ge(t,e,e.pendingProps.children,n),e.child;case 12:return Ge(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,oe(Po,r._currentValue),r._currentValue=o,s!==null)if(Mt(s.value,o)){if(s.children===i.children&&!nt.current){e=rn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Jt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),nu(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(x(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),nu(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ge(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ar(e,n),i=_t(i),r=r(i),e.flags|=1,Ge(t,e,r,n),e.child;case 14:return r=e.type,i=It(r,e.pendingProps),i=It(r.type,i),Nf(t,e,r,i,n);case 15:return Bm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:It(r,i),co(t,e),e.tag=1,rt(r)?(t=!0,Ro(e)):t=!1,Ar(e,n),mm(e,r,i),iu(e,r,i,n),lu(null,e,r,!0,t,n);case 19:return Hm(t,e,n);case 22:return Um(t,e,n)}throw Error(x(156,e.tag))};function lv(t,e){return Op(t,e)}function Z0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(t,e,n,r){return new Z0(t,e,n,r)}function Oc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eE(t){if(typeof t=="function")return Oc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ju)return 11;if(t===Zu)return 14}return 2}function kn(t,e){var n=t.alternate;return n===null?(n=vt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function po(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Oc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vr:return Kn(n.children,i,s,e);case Xu:o=8,i|=8;break;case Ra:return t=vt(12,n,e,i|2),t.elementType=Ra,t.lanes=s,t;case Na:return t=vt(13,n,e,i),t.elementType=Na,t.lanes=s,t;case Fa:return t=vt(19,n,e,i),t.elementType=Fa,t.lanes=s,t;case vp:return gl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pp:o=10;break e;case mp:o=9;break e;case Ju:o=11;break e;case Zu:o=14;break e;case dn:o=16,r=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=vt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Kn(t,e,n,r){return t=vt(7,t,r,e),t.lanes=n,t}function gl(t,e,n,r){return t=vt(22,t,r,e),t.elementType=vp,t.lanes=n,t.stateNode={isHidden:!1},t}function la(t,e,n){return t=vt(6,t,null,e),t.lanes=n,t}function aa(t,e,n){return e=vt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tE(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wl(0),this.expirationTimes=Wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mc(t,e,n,r,i,s,o,l,a){return t=new tE(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gc(s),t}function nE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function av(t){if(!t)return Nn;t=t._reactInternals;e:{if(lr(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(rt(n))return lm(t,n,e)}return e}function uv(t,e,n,r,i,s,o,l,a){return t=Mc(n,r,!0,t,i,s,o,l,a),t.context=av(null),n=t.current,r=Qe(),i=wn(n),s=Jt(r,i),s.callback=e??null,Cn(n,s,i),t.current.lanes=i,vs(t,i,r),it(t,r),t}function yl(t,e,n,r){var i=e.current,s=Qe(),o=wn(i);return n=av(n),e.context===null?e.context=n:e.pendingContext=n,e=Jt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Cn(i,e,o),t!==null&&(At(t,i,o,s),lo(t,i,o)),o}function Uo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Uf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dc(t,e){Uf(t,e),(t=t.alternate)&&Uf(t,e)}function rE(){return null}var cv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lc(t){this._internalRoot=t}_l.prototype.render=Lc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));yl(t,e,null,null)};_l.prototype.unmount=Lc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;er(function(){yl(null,t,null,null)}),e[tn]=null}};function _l(t){this._internalRoot=t}_l.prototype.unstable_scheduleHydration=function(t){if(t){var e=Bp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hn.length&&e!==0&&e<hn[n].priority;n++);hn.splice(n,0,t),n===0&&Wp(t)}};function bc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function El(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wf(){}function iE(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Uo(o);s.call(u)}}var o=uv(e,r,t,0,null,!1,!1,"",Wf);return t._reactRootContainer=o,t[tn]=o.current,Ki(t.nodeType===8?t.parentNode:t),er(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Uo(a);l.call(u)}}var a=Mc(t,0,!1,null,null,!1,!1,"",Wf);return t._reactRootContainer=a,t[tn]=a.current,Ki(t.nodeType===8?t.parentNode:t),er(function(){yl(e,a,n,r)}),a}function Cl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Uo(o);l.call(a)}}yl(e,o,t,i)}else o=iE(n,e,t,i,r);return Uo(o)}Vp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ki(e.pendingLanes);n!==0&&(nc(e,n|1),it(e,Ce()),!(q&6)&&(Gr=Ce()+500,Dn()))}break;case 13:er(function(){var r=nn(t,1);if(r!==null){var i=Qe();At(r,t,1,i)}}),Dc(t,1)}};rc=function(t){if(t.tag===13){var e=nn(t,134217728);if(e!==null){var n=Qe();At(e,t,134217728,n)}Dc(t,134217728)}};zp=function(t){if(t.tag===13){var e=wn(t),n=nn(t,e);if(n!==null){var r=Qe();At(n,t,e,r)}Dc(t,e)}};Bp=function(){return Z};Up=function(t,e){var n=Z;try{return Z=t,e()}finally{Z=n}};Ba=function(t,e,n){switch(e){case"input":if(Oa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=dl(r);if(!i)throw Error(x(90));yp(r),Oa(r,i)}}}break;case"textarea":Ep(t,n);break;case"select":e=n.value,e!=null&&Rr(t,!!n.multiple,e,!1)}};xp=Fc;Rp=er;var sE={usingClientEntryPoint:!1,Events:[ys,Er,dl,Ip,Tp,Fc]},gi={findFiberByHostInstance:Wn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},oE={bundleType:gi.bundleType,version:gi.version,rendererPackageName:gi.rendererPackageName,rendererConfig:gi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pp(t),t===null?null:t.stateNode},findFiberByHostInstance:gi.findFiberByHostInstance||rE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{ll=qs.inject(oE),Wt=qs}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sE;ft.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bc(e))throw Error(x(200));return nE(t,e,null,n)};ft.createRoot=function(t,e){if(!bc(t))throw Error(x(299));var n=!1,r="",i=cv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mc(t,1,!1,null,null,n,!1,r,i),t[tn]=e.current,Ki(t.nodeType===8?t.parentNode:t),new Lc(e)};ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=Pp(e),t=t===null?null:t.stateNode,t};ft.flushSync=function(t){return er(t)};ft.hydrate=function(t,e,n){if(!El(e))throw Error(x(200));return Cl(null,t,e,!0,n)};ft.hydrateRoot=function(t,e,n){if(!bc(t))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=cv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=uv(e,null,t,1,n??null,i,!1,s,o),t[tn]=e.current,Ki(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new _l(e)};ft.render=function(t,e,n){if(!El(e))throw Error(x(200));return Cl(null,t,e,!1,n)};ft.unmountComponentAtNode=function(t){if(!El(t))throw Error(x(40));return t._reactRootContainer?(er(function(){Cl(null,null,t,!1,function(){t._reactRootContainer=null,t[tn]=null})}),!0):!1};ft.unstable_batchedUpdates=Fc;ft.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!El(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return Cl(t,e,n,!1,r)};ft.version="18.2.0-next-9e3b772b8-20220608";function dv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dv)}catch(t){console.error(t)}}dv(),up.exports=ft;var lE=up.exports,$f=lE;Ta.createRoot=$f.createRoot,Ta.hydrateRoot=$f.hydrateRoot;function aE(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],a=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);a=!0);}catch(c){u=!0,i=c}finally{try{if(!a&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function jf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jf(Object(n),!0).forEach(function(r){uE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fn(t){"@babel/helpers - typeof";return Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(t)}function fv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pv(r.key),r)}}function hv(t,e,n){return e&&Hf(t.prototype,e),n&&Hf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uE(t,e,n){return e=pv(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function be(){return be=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},be.apply(this,arguments)}function cE(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Lt(t,e){if(t==null)return{};var n=cE(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Se(t,e){return fE(t)||aE(t,e)||Vc(t,e)||mE()}function gt(t){return dE(t)||hE(t)||Vc(t)||pE()}function dE(t){if(Array.isArray(t))return _u(t)}function fE(t){if(Array.isArray(t))return t}function hE(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vc(t,e){if(t){if(typeof t=="string")return _u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _u(t,e)}}function _u(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vE(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Vc(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(a){throw a},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,l;return{s:function(){n=n.call(t)},n:function(){var a=n.next();return s=a.done,a},e:function(a){o=!0,l=a},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}}}function gE(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pv(t){var e=gE(t,"string");return typeof e=="symbol"?e:String(e)}var Qr=T.createContext({}),mv=T.createContext({}),yE=T.createContext({}),_E=T.createContext(),vv=T.createContext(),gv=T.createContext(),Eu=T.createContext(),Gf=T.createContext(),Cu=T.createContext(),yv=T.createContext(),Dt=T.createContext(),EE=T.createContext();function bt(){var t=R.useContext(Qr);return t}var CE=function(e){var n=R.useRef(),r=R.useRef(!1),i=R.useRef(!1),s=R.useState(0),o=Se(s,2);o[0];var l=o[1];r.current&&(i.current=!0),R.useEffect(function(){return r.current||(n.current=e(),r.current=!0),l(function(a){return a+1}),function(){i.current&&n.current&&n.current()}},[])};function rs(t){var e=R.useRef(),n=R.useRef(!0),r=R.useState(t),i=Se(r,2),s=i[0],o=i[1];e.current=s;var l=function(c){e.current=c,n.current&&o(c)},a=function(){return e.current};return CE(function(){return function(){n.current=!1}}),[s,l,a]}var _v={};function SE(t,e){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e[Math.abs(n)%e.length]}function wE(t,e){var n=e.namespace;if(e.useColors){var r=e.color,i="\x1B[3"+(r<8?r:"8;5;"+r),s="  ".concat(i,";1m").concat(n," \x1B[0m");t[0]=s+t[0].split(`
`).join(`
`+s)}else t[0]=n+" "+t[0]}function kE(t,e){if(t[0]=(e.useColors?"%c":"")+e.namespace,!!e.useColors){var n="color: "+e.color,r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(s){s!=="%%"&&(r++,s==="%c"&&(i=r))}),t.splice(i,0,n)}}var IE=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function TE(){var t;try{t=localStorage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=_v.DEBUG),{namespaces:t||"",colors:IE,useColors:!0,formatArgs:kE}}function xE(){return{namespaces:_v.DEBUG||"",colors:[6,2,3,4,5,1],useColors:!0,formatArgs:wE}}function Ev(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t&&r.unshift(t);var s=e.namespaces.split(",").map(function(o){return o[o.length-1]==="*"?new RegExp("^"+o.slice(0,o.length-1)+".*$"):new RegExp("^"+o+"$")});s.some(function(o){return o.test(t)}),SE(t,e.colors),e.useColors}}function RE(t){return Ev(t,xE())}function Qf(t){return Ev(t,TE())}var Re=function(e){return typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Qf(e):typeof window<"u"&&typeof window.navigator<"u"&&window.navigator.product==="ReactNative"&&typeof global<"u"&&__DEV__===!0?(console.log("informed:debug: Detected React Native Environment"),process.type="renderer",(!window.localStorage||!window.localStorage.getItem)&&(window.localStorage={debug:global.DEBUG_INFORMED||"",getItem:function(){return global.DEBUG_INFORMED||""}}),Qf(e)):RE(e)},Gt=Re("informed:ObjMap	"),mo=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return String.prototype.replace.call(e,/\['(.+?)'\]/g,".$1").split(/[,[\].]+?/).filter(Boolean)},Di=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=String.prototype.replace.call(n,/\['(.+?)'\]/g,".$1").split(/[,[\].]+?/).filter(Boolean).reduce(function(s,o){return s!=null?s[o]:s},e);return i===void 0||i===e?r:i},NE=function(e,n,r){if(e[n]&&e[r]){var i=e[n],s=e[r];e[n]=s,e[r]=i}else console.warn("Attempted to swap ".concat(n," with ").concat(r," but one of them does not exist :("))},Cv=function(e){return".".concat(e).replace(/(.*)[.[].*/,"$1").replace(/\./,"")},FE=function(e){return e.replace(Cv(e),"").replace(/\./,"")},PE=function(e,n){var r=Cv(n),i=FE(n),s=r?Di(e,r):e;return!!(s&&Object.hasOwnProperty.call(s,i.replace(/\[(.*)\]/,"$1")))},Kf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;String.prototype.replace.call(n,/\['(.+?)'\]/g,".$1").split(/[,[\].]+?/).filter(Boolean).reduce(function(i,s,o,l){return o===l.length-1?(i[s]=r,i[s]):Fn(i[s])!=="object"?(Number.isInteger(+l[o+1])?i[s]=[]:i[s]={},i[s]):(Number.isInteger(+l[o+1])&&!Array.isArray(i[s])&&(i[s]=[]),i[s])},e)},Sv=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=!1;return String.prototype.replace.call(n,/\['(.+?)'\]/g,".$1").split(/[,[\].]+?/).filter(Boolean).reduce(function(i,s,o,l){return i===void 0?i:(o===l.length-1&&(delete i[s],r=!0),i[s])},e),r},AE=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r;return String.prototype.replace.call(n,/\['(.+?)'\]/g,".$1").split(/[,[\].]+?/).filter(Boolean).reduce(function(i,s,o,l){return i===void 0?i:(o===l.length-1&&Array.isArray(i)&&(r=i.splice(s,1)),i[s])},e),r},ua=function(e){var n=mo(e);return Number.isInteger(+n[n.length-1])},C=function(){function t(){fv(this,t)}return hv(t,null,[{key:"empty",value:function(n){for(var r in n)return!1;return!0}},{key:"get",value:function(n,r){var i=Di(n,r);return i}},{key:"has",value:function(n,r){return PE(n,r)}},{key:"set",value:function(n,r,i){if(i!==void 0)Gt("Setting",r,i),Kf(n,r,i);else if(ua(r)&&t.get(n,r)!==void 0){Gt("Special case SETTING",r,"to undefined"),Kf(n,r,void 0);var s=mo(r);s=s.slice(0,s.length-1),vo(n,s)}else!ua(r)&&t.get(n,r)!==void 0&&(Gt("Special case REMOVING",r,"from object completley"),t.delete(n,r))}},{key:"delete",value:function(n,r){Gt("DELETE",r),ua(r)?(Gt("ARRAY PATH",r),this.pullOut(n,r)):Sv(n,r);var i=mo(r);i=i.slice(0,i.length-1),vo(n,i),Gt("DELETED",r)}},{key:"pullOut",value:function(n,r){var i=mo(r),s=i[i.length-1];i=i.slice(0,i.length-1),Gt("Pulling out:",i,"index",s);var o=Di(n,i);Gt("Array Before",JSON.stringify(o)),Array.isArray(o)&&AE(o,s),Gt("Array After",JSON.stringify(o)),vo(n,i)}},{key:"purge",value:function(n){var r=Array.isArray(n)?[]:{};return Object.keys(n).forEach(function(i){Fn(n[i])==="object"?(r[i]=t.purge(n[i]),Object.keys(r[i]).length===0&&delete r[i]):n[i]!==void 0&&(r[i]=n[i])}),r}},{key:"swap",value:function(n,r,i,s){console.log("Swaping out out:",r,i,s);var o=Di(n,r);console.log("Array",o),Array.isArray(o)&&NE(o,i,s)}}]),t}();function vo(t,e){if(e.length!==0){var n=Di(t,e);(Array.isArray(n)?n.every(function(r){return r==null}):JSON.stringify(n)==="{}")&&Sv(t,e),vo(t,e.slice(0,e.length-1))}}var Yf=Re("informed:utils	"),Ut=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=Math.random()*16|0,r=e=="x"?n:n&3|8;return r.toString(16)})};function qf(t){var e=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:300,r={};return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var l=s[0];clearTimeout(r[l]),r[l]=setTimeout(function(){t.apply(e,s)},n)}}var Wo=function(e,n){return n.startsWith("".concat(e,"."))||n.startsWith("".concat(e,"["))},OE=function(e){var n=e.fieldType,r=e.setValue,i=e.multiple,s=e.ref,o=function(a){return r(a)};return(n==="text"||n==="textArea"||n==="number")&&(o=function(a){r(a.target.value,a)}),n==="select"&&(o=function(a){var u=Array.from(s.current).filter(function(c){return c.selected}).map(function(c){return c.value});r(i?u:u[0]||"",a)}),n==="checkbox"&&(o=function(a){r(a.target.checked,a)}),function(l){o(l)}},ME=function(e){var n=e.setTouched;return function(r){n(!0,r)}},DE=function(e){var n=e.setFocused;return function(r){n(!0,r)}},LE=function(e){var n=e.fieldType,r=e.maskedValue,i=e.multiple,s=e.value;switch(n){case"text":case"number":return!r&&r!==0?"":r;case"textArea":return r||"";case"select":return s||(i?[]:"");case"checkbox":return!!s;default:return s}},ca=function t(e){return e&&(Object.keys(e).forEach(function(n){return e[n]&&Fn(e[n])==="object"&&t(e[n])||e[n]===void 0&&delete e[n]}),e)},bE=function(e){var n={};if(e.inner){if(e.inner.length===0){C.set(n,e.path,e.message);return}var r=vE(e.inner),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;C.get(n,s.path)||C.set(n,s.path,s.message)}}catch(o){r.e(o)}finally{r.f()}}return n},VE=function(e,n){try{e.validateSync(n,{abortEarly:!1})}catch(i){var r=bE(i);return r}},zE=function(e){if(e.inner){if(e.inner.length===0)return;var n=e.inner[0];return n.message}},Su=function(e,n){try{e.validateSync(n,{abortEarly:!1})}catch(r){return zE(r)}},BE=function(e,n){e(n);var r={};return e.errors&&e.errors.forEach(function(i){var s=i.message,o=i.dataPath,l=i.keyword,a=i.params,u=o;l==="required"&&(u="".concat(u,".").concat(a.missingProperty)),u=u.replace(".",""),C.set(r,u,s)}),r},UE=function(e,n,r){if(n&&(e==null||e===""||Array.isArray(e)&&e.length==0))return typeof n=="string"?n:r("required")||"This field is required"},WE=function(e,n,r){if(n!=null&&e>n)return r("maximum")||"This field should NOT be more than ".concat(n)},$E=function(e,n,r){if(n!=null&&e<n)return r("minimum")||"This field should NOT be less than ".concat(n)},jE=function(e,n,r){if(n!=null&&(e==null?void 0:e.length)>n)return r("maxLength")||"This field should NOT be more than ".concat(n," characters")},HE=function(e,n,r){if(n!=null&&(e==null?void 0:e.length)<n)return r("minLength")||"This field should NOT be shorter than ".concat(n," characters")},GE=function(e,n,r){if(n!=null&&!new RegExp(n).test(e)&&e)return r("pattern")||'This field should match pattern "'.concat(n,'";')},QE=function(e,n,r){var i=r.required,s=r.minimum,o=r.maximum,l=r.minLength,a=r.maxLength,u=r.pattern,c=r.getErrorMessage,d=r.validateModified,f=r.fieldApi,m=r.formController,g=r.scope;return function(y,S){var h;if(!(d&&f.getModified()===void 0))return i&&(h=UE(y,i,c),h!==void 0)||s!=null&&(h=$E(y,s,c),h!==void 0)||o!=null&&(h=WE(y,o,c),h!==void 0)||l!=null&&(h=HE(y,l,c),h!==void 0)||a!=null&&(h=jE(y,a,c),h!==void 0)||u&&(h=GE(y,u,c),h!==void 0)||n&&(h=Su(n,y),h!==void 0)||e.current&&(h=e.current(y,S,{formState:m.getFormState(),formApi:m.getFormApi(),scope:g}),h!==void 0),h}},Xf=function(e){return e.split("").map(function(n){return n==="#"?/\d/:n==="*"?/[\w]/:n})},KE=function(e,n,r){if(typeof e=="string")return Xf(e);if(typeof e=="function"){var i=e(n,r);return typeof i=="string"?Xf(i):i}if(Array.isArray(e))return e;throw new Error("Formatter must be string, array, or function")},YE=function(e,n){for(var r=0,i=-1,s=!0;s&&r<e.length;)e[r]==n[r]?i=r:s=!1,r=r+1;return i},da=function(e,n){if(Fn(n)==="object"&&!Array.isArray(n)){var r={};return Object.keys(e).forEach(function(i){if(n[i]){var s=n[i](e[i]);r[i]=s}else r[i]=e[i]}),r}return n(e)},zc=function(e,n,r){if(Fn(n)==="object"&&!Array.isArray(n)){var i={},s={};return Object.keys(e).forEach(function(o){if(n[o]){var l=Jf(e[o],n[o],r?r[e]:void 0,e),a=l.value,u=l.offset;i[o]=a,s[o]=u}else i[o]=e[o],s[o]=0}),{value:i,offset:s}}return Jf(e,n,r,e)},Jf=function(e,n,r,i){if(Yf("Formatting",e),Yf("Full Value",i),e==null)return{value:e,offset:0};var s="".concat(e),o=KE(n,s,i),l=o.findIndex(function(k){return typeof k!="string"}),a=null;typeof o[o.length-1]=="string"&&(a=o.length-gt(o).reverse().findIndex(function(k){return typeof k!="string"}));var u=[],c=s.split(""),d=0,f=0,m=YE(o.slice(0,l),c.slice(0,l));m>-1&&(d=m+1,u=u.concat(o.slice(0,m+1)),f=m+1),m<0&&(u=u.concat(o.slice(0,l)),f=l);for(var g=f;g<o.length;g++){var y=o[g];if(d!=c.length){var S=c[d];if(typeof y=="function")u.push(y(S)),d=d+1;else{var h=typeof y=="string"?y===S:y.test(S);h&&typeof y=="string"?(u.push(y),d=d+1):!h&&typeof y=="string"?d!=c.length&&u.push(y):h&&typeof y!="string"?(u.push(S),d=d+1):!h&&typeof y!="string"&&(d=d+1,g=g-1)}}else if(typeof y=="string"&&a&&g>=a)u.push(y);else break}var p=u.join(""),v=s?p.length-s.length:0,_=a&&s&&r&&s.length<r.length&&s.length>=a,E=o.slice(a).join(""),w=a&&u.length>a&&(!r||typeof r=="string"&&!r.includes(E));return(_||w)&&(v=0,typeof navigator<"u"&&navigator.product==="ReactNative"&&(p=p.slice(0,a))),{value:p,offset:v}},wv=function(e){var n=e.replace(/\./g,".properties.").replace(/\[\d+\]/g,".items");return n="properties.".concat(n),n},fa=function(e,n,r){var i=n["ui:control"],s=n["ui:props"],o=n["ui:before"],l=n["ui:after"],a=n.oneOf,u=n.items,c=n.enum,d=n.title,f=n.minimum,m=n.maximum,g=n.minLength,y=n.maxLength,S=n.pattern,h=n.required,p=n.type,v=n.properties,_=n.allOf,E=n.propertyOrder,w=n.errorMessage,k=Ut();s&&s.id&&(k=s.id);var F={componentType:i??p,name:r?"".concat(r,".").concat(e):e,type:p,uiBefore:o,uiAfter:l,properties:p==="object"?v:void 0,allOf:p==="object"?_:void 0,propertyOrder:p==="object"?E:void 0,items:p==="array"?u:void 0,propertyName:e,required:h,props:U({label:d,id:k,minimum:f,maximum:m,minLength:g,maxLength:y,pattern:S,errorMessage:w},s)};if(a){var H=n.oneOf.map(function(X){var le=X["ui:props"],ye=le===void 0?{}:le;return U({value:X.const,label:X.title},ye)});F.props.options=H}if(c){var M=n.enum.map(function(X){return{value:X,label:X}});F.props.options=M}if(u&&u.oneOf){var ee=u.oneOf.map(function(X){var le=X["ui:props"],ye=le===void 0?{}:le;return U({value:X.const,label:X.title},ye)});F.props.options=ee}return F},qE=function(e,n){if(!e||n)return{properties:[],conditions:[],components:[]};var r=e.properties,i=r===void 0?{}:r,s=e.allOf,o=e.propertyOrder,l=o===void 0?[]:o;if(Object.keys(i).length>0){var a=Object.keys(i).sort(function(d,f){var m=l.indexOf(d),g=l.indexOf(f);return(m>-1?m:l.length+1)-(g>-1?g:l.length+1)}).map(function(d){return d}),u=[],c=[];return s&&s.forEach(function(d){if(d.if){var f=U({},d);f.then=U(U({},d.then),{},{properties:{}}),f.thenProps={},Object.keys(d.then.properties).forEach(function(m){a.includes(m)?f.thenProps[m]=d.then.properties[m]:f.then.properties[m]=d.then.properties[m]}),u.push(f)}else c.push(d)}),{properties:a,conditions:u,components:c}}return{properties:[],conditions:[],components:[]}};function kv(t,e){return Object.entries(t).every(function(n){var r=Se(n,2),i=r[0],s=r[1];switch(i){case"const":return Array.isArray(e)&&s?e.sort().toString()==s.sort().toString():e===s;case"minimum":return e>=s;case"exclusiveMinimum":return e>s;case"maximum":return e<=s;case"exclusiveMaximum":return e<s;case"enum":return Array.isArray(s)&&!Array.isArray(e)?s.includes(e):Array.isArray(s)&&Array.isArray(e)?e.every(function(o){return s.includes(o)}):!1;case"oneOf":return Array.isArray(s)&&!Array.isArray(e)?s.includes(e):Array.isArray(s)&&Array.isArray(e)?s.find(function(o){return e.includes(o)}):!1;case"pattern":return new RegExp(s).test(e);case"not":if(Fn(s)==="object"&&s.enum){if(Array.isArray(s.enum)&&!Array.isArray(e))return!s.enum.includes(e);if(Array.isArray(s.enum)&&Array.isArray(e))return!e.every(function(o){return s.enum.includes(o)})}return e!==s;default:return!1}})}function XE(){var t=R.useContext(Dt),e=R.useCallback(function(n){return t===n?n:t&&n?"".concat(t,".").concat(n):n},[t]);return e}var JE=Re("informed:useFieldSubscription	"),is=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=XE(),l=R.useContext(Dt),a=typeof n=="function"?[]:n,u=R.useMemo(function(){return typeof n=="function"?n(l):n},[].concat(gt(a),[o])),c=R.useMemo(function(){return i&&typeof n!="function"?u.map(function(f){return o(f)}):u},[u]),d=bt();R.useEffect(function(){var f=function(g){(g==="_ALL_"||c.includes(g)||g&&c.some(function(y){return s?Wo(g,y):Wo(y,g)}))&&(JE("subscription ".concat(e," triggered with target ").concat(g," for"),c),r(g))};return d.emitter.on(e,f),function(){d.emitter.removeListener(e,f)}},gt(a))},Xs=Re("informed:useRelevance	"),Iv=function(e){var n=e.name,r=e.relevant,i=e.relevanceWhen,s=i===void 0?[]:i,o=e.relevanceDeps,l=o===void 0?[]:o,a=bt(),u=R.useContext(Dt),c=R.useRef(u);c.current=u;var d=rs(function(){return r?r({formState:a.getFormState(),formApi:a.getFormApi(),scope:u,relevanceDeps:l}):!0}),f=Se(d,3),m=f[0],g=f[1],y=f[2],S=typeof s=="function"?[]:s,h=R.useMemo(function(){return typeof s=="function"?s(u):s},[].concat(gt(S),[u]));return is("field-value",h,function(p){Xs("re-evaluating relevance for ".concat(n," because of ").concat(p));var v=r({formState:a.getFormState(),formApi:a.getFormApi(),scope:c.current,relevanceDeps:l});y()!=v&&g(v)},typeof s!="function"),R.useEffect(function(){if(r&&typeof s!="function"&&s.length===0){var p=function(_){Xs("re-evaluating relevance for ".concat(n," because of ").concat(_));var E=r({formState:a.getFormState(),formApi:a.getFormApi(),scope:c.current,relevanceDeps:l});Xs("re-evaluated relevance for ".concat(n," because of ").concat(_," and got ").concat(E)),y()!=E&&(Xs("updating relevance for ".concat(n," because of ").concat(_," and got ").concat(E)),g(E))};return a.emitter.on("field",p),function(){a.emitter.removeListener("field",p)}}},[]),R.useEffect(function(){r&&g(r({formState:a.getFormState(),formApi:a.getFormApi(),scope:u,relevanceDeps:l}))},[n].concat(gt(l))),m},Bc=function(e){var n=e.when,r=e.relevanceWhen,i=e.relevanceDeps,s=e.children,o=bt(),l=R.useContext(Dt),a=R.useContext(Cu),u=Iv({relevant:n,relevanceWhen:r,relevanceDeps:i}),c=R.useMemo(function(){return{isRelevant:u,relevant:function(){return a&&!a.relevant()?!1:n({formState:o.getFormState(),formApi:o.getFormApi(),scope:l,relevanceDeps:i})}}},[u,l,i]);return T.createElement(Cu.Provider,{value:c},u?s:null)};function Uc(){var t=R.useContext(mv);return t}function Es(t){var e=R.useContext(Dt);return e===t?t:e&&t?"".concat(e,".").concat(t):t||e}var ZE=function(e,n){return{getValue:function(){return e.getValue(n)},setValue:function(i,s,o){return e.setValue(n,i,s,o)},getTouched:function(){return e.getTouched(n)},setTouched:function(i,s){return e.setTouched(n,i,s)},getError:function(){return e.getError(n)},setError:function(i){return e.setError(n,i)},getFocused:function(){return e.getFocused(n)},setFocused:function(i,s){return e.setFocused(n,i,s)},getData:function(){return e.getData(n)},getModified:function(){return e.getModified(n)},reset:function(i){return e.resetField(n,i)},validate:function(){return e.validateField(n)},getDirty:function(){return e.getDirty(n)},getPristine:function(){return e.getPristine(n)},getMaskedValue:function(){return e.getMaskedValue(n)},clearValue:function(){return e.clearValue(n)},setValueQuietly:function(i){return e.setValueQuietly(n,i)},restore:function(i){return e.restore(n,i)},getMemory:function(){return e.getMemory(n)}}};function Wc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=Uc(),r=e?Es(t):t,i=R.useMemo(function(){return ZE(n,r)},[r]);return i}var ha=Re("informed:useArrayField	"),eC=function(e){var n=e.name,r=e.initialValue,i=e.defaultValue,s=e.arrayFieldApiRef,o=Es(n),l=R.useContext(Qr),a=Wc(o),u=Uc(),c=R.useState(function(){return new Map}),d=Se(c,1),f=d[0],m=rs(function(){return l.getValue(o)?l.getValue(o):r||l.getInitialValue(o)||i||[]}),g=Se(m,3),y=g[0],S=g[1],h=g[2],p=Array.isArray(y)?y.map(function(){return Ut()}):[],v=rs(p),_=Se(v,3),E=_[0],w=_[1],k=_[2],F=function(P){var L=k();l.lockRemoval({index:L.length-1,name:o});var K=L.slice(0,P).concat(L.slice(P+1,L.length));w(K);var Ee=h(),jt=Ee.slice(0,P).concat(Ee.slice(P+1,Ee.length));S(jt),l.pullOut("".concat(o,"[").concat(P,"]")),u.setDirt(o,[]),l.emitter.emit("field-value-set",o)},H=function(P,L){ha("Swapping","".concat(o,"[").concat(P,"] and ").concat(o,"[").concat(L,"]")),l.swap(o,P,L);var K=k(),Ee=gt(K);K[P]&&K[L]?(Ee[P]=K[L],Ee[L]=K[P]):console.warn("Attempted to swap ".concat(P," with ").concat(L," but one of them does not exist :(")),w(Ee)},M=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,L=k();if(typeof P!="number"||!Number(P)||P<=0)L.push(Ut());else for(var K=0;K<P;K++)L.push(Ut());w(gt(L)),u.setPristine(!1),u.setDirt(o,[]),l.emitter.emit("field-value-set",o)},ee=function(P){var L=k();L.push(Ut()),w(gt(L));var K=gt(h());K[L.length-1]=P,S(K)},X=R.useRef();X.current=r;var le=R.useRef();le.current=i;var ye=function(){l.remove(o);var P=X.current||l.getInitialValue(o)||le.current||[];S(P);var L=P?P.map(function(){return Ut()}):[];w(L)},_e=function(){l.remove(o),S([]),w([])},de={name:o,initialValue:r,fieldApi:U(U({},a),{},{reset:ye}),arrayField:!0},ke=R.useRef(de);ke.current=de,R.useEffect(function(){return l.register(o,ke),function(){l.deregister(o)}},[o]);var A=E.map(function(Y,P){var L={remove:function(){return F(P)}},K={initialValue:y&&y[P],key:Y,name:"".concat(o,"[").concat(P,"]"),index:P,parent:o};return{arrayFieldItemApi:L,arrayFieldItemState:K}}),D=R.useMemo(function(){return{add:M,remove:F,swap:H,addWithInitialValue:ee,reset:ye,clear:_e}},[]);s&&(s.current=D);var b={fields:A,name:o},B=R.useMemo(function(){return U(U({},l),{},{register:function(P,L){f.set(P,L),l.register(P,L)},deregister:function(P,L){f.delete(P),l.deregister(P,L)},getInitialValue:function(P){if(RegExp("".concat(o,"\\[[0-9]+\\]")).test(P)){var L=P.replace(o,""),K=C.get(h(),L);return ha("Resetting ".concat(L," to ").concat(K)),K}return l.getInitialValue(P)}})},[o]);is("clear",[o],function(Y){ha("clear event triggered for ".concat(o," because of ").concat(Y)),_e()},!1,!0);var Q=function(P){return T.createElement(Qr.Provider,{value:B},T.createElement(gv.Provider,{value:D},T.createElement(vv.Provider,{value:b},P)))};return{render:Q,arrayFieldState:b,arrayFieldApi:D}},tC=function(){var e=T.useState(),n=Se(e,2),r=n[1],i=T.useCallback(function(){return r({})},[]);return i},nC=Re("informed:useFieldState	"),Tv=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=n?Es(e):e,i=bt(),s=tC();return R.useEffect(function(){var o=function(a){(a==="_ALL_"||a===r||a&&Wo(r,a))&&(nC("Updating",r),s())};return i.emitter.on("field",o),s(),function(){i.emitter.removeListener("field",o)}},[r]),i.getFieldState(r)},rC=function(e,n){return{getValue:function(i){return n.getValue("".concat(e,".").concat(i))},setValue:function(i,s,o,l){return n.setValue("".concat(e,".").concat(i),s,o,l)},getTouched:function(i){return n.getTouched("".concat(e,".").concat(i))},setTouched:function(i,s){return n.setTouched("".concat(e,".").concat(i),s)},getFocused:function(i){return n.getFocused("".concat(e,".").concat(i))},setFocused:function(i,s){return n.setFocused("".concat(e,".").concat(i),s)},getError:function(i){return n.getError("".concat(e,".").concat(i))},setError:function(i,s){return n.setError("".concat(e,".").concat(i),s)},getData:function(i){return n.getData("".concat(e,".").concat(i))},getModified:function(i){return n.getModified("".concat(e,".").concat(i))},resetField:function(i){return n.resetField("".concat(e,".").concat(i))},validate:function(i){return n.validate("".concat(e,".").concat(i))},getDirty:function(i){return n.getDirty("".concat(e,".").concat(i))},getPristine:function(i){return n.getPristine("".concat(e,".").concat(i))},getMaskedValue:function(i){return n.getMaskedValue("".concat(e,".").concat(i))},clearValue:function(i){return n.clearValue("".concat(e,".").concat(i))},clearError:function(i){return n.clearError("".concat(e,".").concat(i))},restore:function(i){return n.restore("".concat(e,".").concat(i))}}};function iC(t){var e=Uc(),n=R.useMemo(function(){return rC(t,e)},[t]);return n}var sC=["relevant","relevanceWhen","relevanceDeps","name"],oC=["children"],Zf=Re("informed:ArrayField	"),$o=function(e){var n=e.relevant,r=e.relevanceWhen,i=e.relevanceDeps,s=e.name,o=Lt(e,sC);return n?T.createElement(Bc,{when:n,relevanceWhen:r,relevanceDeps:i},T.createElement(eh,be({name:s},o))):T.createElement(eh,be({name:s},o))},eh=function(e){var n=e.children,r=Lt(e,oC),i=eC(r),s=i.render,o=i.arrayFieldState,l=i.arrayFieldApi;return s(typeof n=="function"?n(U(U({arrayFieldApi:l,arrayFieldState:o},l),o)):n)},lC=function(e){var n=e.arrayFieldItemState,r=e.arrayFieldItemApi,i=e.children,s=bt(),o=R.useState(function(){return new Map}),l=Se(o,1),a=l[0],u=Tv(n.name),c=iC(n.name),d=R.useMemo(function(){return U(U({},s),{},{register:function(S,h){a.set(S,h),s.register(S,h)},deregister:function(S,h){a.delete(S),s.deregister(S,h);var p=s.getRemovalLocked();Zf("DEREGISTER",S,"SIZE",a.size,"INDEX",n.index,"LOCKEDUNTIL",p),p!=null&&p.index===n.index&&p.name===n.parent&&!Array.from(a.keys()).some(function(v){return v.includes("".concat(n.parent,"[").concat(p.index,"]"))})&&(Zf("UNLOCKING"),s.unlockRemoval())}})},[n.index]),f=R.useCallback(function(){a.forEach(function(y){y.current.fieldApi.reset()})},[n.name,n.index]),m=U(U({},n),{},{values:u.value,errors:u.error,touched:u.touched}),g=R.useMemo(function(){return U(U(U({},r),c),{},{reset:f})},[n.name,n.index]);return typeof i=="function"?T.createElement(Qr.Provider,{value:d},T.createElement(Eu.Provider,{value:g},T.createElement(Gf.Provider,{value:m},T.createElement(Dt.Provider,{value:n.name},i(U(U({},g),{},{name:n.name,index:n.index})))))):T.createElement(Qr.Provider,{value:d},T.createElement(Eu.Provider,{value:r},T.createElement(Gf.Provider,{value:n},T.createElement(Dt.Provider,{value:n.name},i))))};$o.Items=function(t){var e=t.children,n=R.useContext(vv),r=n.fields;return r.map(function(i){var s=i.arrayFieldItemState,o=i.arrayFieldItemApi,l=s.key;return T.createElement(lC,{key:l,arrayFieldItemApi:o,arrayFieldItemState:s},e)})};var th=function(e){var n=e.scope,r=e.children,i=R.useContext(Dt),s;return i?s="".concat(i,".").concat(n):s=n,T.createElement(Dt.Provider,{value:s},r)},I=Re("informed:FormController	"),Js=function(e,n){var r=n.formatter,i=n.parser,s=n.initialize,o=n.mask;if(e!=null){if(s&&!i)return s(e);if(r&&!i){var l=zc(e,r);return l.value}return o&&!i?o(e):e}},Zs=function(e,n){var r=n.formatter,i=n.initialize,s=n.mask;if(i)return i(e);if(r){var o=zc(e,r);return o.value}return s?s(e):e},aC=function(){function t(e){var n;fv(this,t),this.options=e,this.subscriptions=new Map;var r=e.current,i=r.ajv,s=r.schema,o=r.fieldMap,l=r.adapter;this.ajv=i?new i({allErrors:!0}):null,this.ajvValidate=i?this.ajv.compile(s):null,this.fieldMap=l||o,this.emitter=this,this.fieldsMap=new Map,this.validationRequests=new Map,this.dataRequests=new Map,this.removalLocked=void 0,this.state={pristine:!0,dirty:!1,submitted:!1,invalid:!1,valid:!0,submitting:!1,validating:0,gathering:0,values:{},errors:{},touched:{},maskedValues:{},dirt:{},focused:{},modified:{},data:{},initialValues:this.options.current.initialValues||{},disabled:(n=this.options.current.disabled)!==null&&n!==void 0?n:!1,memory:{}},this.getValue=this.getValue.bind(this),this.setValue=this.setValue.bind(this),this.setValueQuietly=this.setValueQuietly.bind(this),this.setValues=this.setValues.bind(this),this.setTheseValues=this.setTheseValues.bind(this),this.resetPath=this.resetPath.bind(this),this.getMaskedValue=this.getMaskedValue.bind(this),this.setMaskedValue=this.setMaskedValue.bind(this),this.setModifiedValue=this.setModifiedValue.bind(this),this.getTouched=this.getTouched.bind(this),this.setTouched=this.setTouched.bind(this),this.getFocused=this.getFocused.bind(this),this.setFocused=this.setFocused.bind(this),this.getError=this.getError.bind(this),this.setError=this.setError.bind(this),this.reset=this.reset.bind(this),this.validate=this.validate.bind(this),this.asyncValidate=this.asyncValidate.bind(this),this.getDirty=this.getDirty.bind(this),this.setDirt=this.setDirt.bind(this),this.getPristine=this.getPristine.bind(this),this.getFormState=this.getFormState.bind(this),this.getFormApi=this.getFormApi.bind(this),this.getFieldState=this.getFieldState.bind(this),this.getValid=this.getValid.bind(this),this.on=this.on.bind(this),this.emit=this.emit.bind(this),this.removeListener=this.removeListener.bind(this),this.remove=this.remove.bind(this),this.swap=this.swap.bind(this),this.pullOut=this.pullOut.bind(this),this.register=this.register.bind(this),this.deregister=this.deregister.bind(this),this.getInitialValue=this.getInitialValue.bind(this),this.initialize=this.initialize.bind(this),this.reformat=this.reformat.bind(this),this.lockRemoval=this.lockRemoval.bind(this),this.unlockRemoval=this.unlockRemoval.bind(this),this.resetField=this.resetField.bind(this),this.getRemovalLocked=this.getRemovalLocked.bind(this),this.isRemovalLocked=this.isRemovalLocked.bind(this),this.submitForm=this.submitForm.bind(this),this.touchAllFields=this.touchAllFields.bind(this),this.keyDown=this.keyDown.bind(this),this.validateAsync=this.validateAsync.bind(this),this.gatherData=this.gatherData.bind(this),this.validated=this.validated.bind(this),this.debouncedValidateAsync=qf(this.validateAsync),this.debouncedGatherInfo=qf(this.gatherData),this.getOptions=this.getOptions.bind(this),this.validateField=this.validateField.bind(this),this.getErrorMessage=this.getErrorMessage.bind(this),this.clearValue=this.clearValue.bind(this),this.clearError=this.clearError.bind(this),this.getData=this.getData.bind(this),this.setData=this.setData.bind(this),this.getModified=this.getModified.bind(this),this.updateValid=this.updateValid.bind(this),this.focusFirstError=this.focusFirstError.bind(this),this.scrollToFirstError=this.scrollToFirstError.bind(this),this.setPristine=this.setPristine.bind(this),this.disableForm=this.disableForm.bind(this),this.enableForm=this.enableForm.bind(this),this.getMemory=this.getMemory.bind(this),this.restore=this.restore.bind(this)}return hv(t,[{key:"getOptions",value:function(){return this.options.current}},{key:"getMemory",value:function(n){return C.get(this.state.memory,n)}},{key:"getValue",value:function(n){return C.get(this.state.values,n)}},{key:"getMaskedValue",value:function(n){return C.get(this.state.maskedValues,n)}},{key:"setMaskedValue",value:function(n,r){return C.set(this.state.maskedValues,n,r)}},{key:"setModifiedValue",value:function(n,r){return C.set(this.state.modified,n,r)}},{key:"updateValid",value:function(){var n=this.state.valid;this.state.valid=C.empty(this.state.errors),this.state.invalid=!this.state.valid,n&&!this.state.valid&&this.emit("invalid"),!n&&this.state.valid&&this.emit("valid")}},{key:"setValues",value:function(n){this.fieldsMap.forEach(function(r){var i=C.get(n,r.current.name);r.current.fieldApi.setValue(i)})}},{key:"disableForm",value:function(){this.disabled=!0,this.state.disabled=!0,this.emit("field","_ALL_")}},{key:"enableForm",value:function(){this.disabled=void 0,this.state.disabled=!1,this.emit("field","_ALL_")}},{key:"setTheseValues",value:function(n){this.fieldsMap.forEach(function(r){var i=C.get(n,r.current.name);i!=null&&r.current.fieldApi.setValue(i)})}},{key:"resetPath",value:function(n){this.fieldsMap.forEach(function(r){Wo(n,r.current.name)&&r.current.fieldApi.reset()})}},{key:"restore",value:function(n){this.setValue(n,this.getMemory(n))}},{key:"setValueQuietly",value:function(n,r){this.setValue(n,r,void 0,void 0,!0)}},{key:"setValue",value:function(n,r,i,s,o){var l;I("setValue ".concat(n),r);var a=((l=this.fieldsMap.get(n))===null||l===void 0?void 0:l.current)||{};try{i&&i.target&&i.target.selectionStart&&a.setCursor(i.target.selectionStart,s)}catch(v){if(!(v instanceof TypeError))throw v}if(r==="")if(a.allowEmptyString){var u=(a==null?void 0:a.type)==="number"?0:r;a.emptyValue&&(u=a.emptyValue),I("Setting ".concat(n,"'s value to ").concat(u," because allowEmptyString is set")),C.set(this.state.values,n,u),a.getInitialValue&&a.getInitialValue()!=u?C.set(this.state.modified,n,u):(I("Removing ".concat(n,"'s modified")),C.delete(this.state.modified,u)),C.set(this.state.maskedValues,n,r)}else I("Setting ".concat(n,"'s value to undefiend")),C.set(this.state.values,n,void 0),C.set(this.state.modified,n,void 0),C.set(this.state.maskedValues,n,void 0);else if((a==null?void 0:a.type)==="number"&&r!==void 0){var c=r,d=r;a.mask&&!a.maskOnBlur&&(d=a.mask(c)),a.parser&&(c=c!=null?da(c,a.parser):c),I("Setting ".concat(n,"'s value to ").concat(+c)),C.set(this.state.values,n,+c),a.getInitialValue&&a.getInitialValue()!=c||a.modifyOnMount?C.set(this.state.modified,n,+c):(I("Removing ".concat(n,"'s modified")),C.set(this.state.modified,n,void 0)),I("Setting ".concat(n,"'s maskedValue to"),+d),C.set(this.state.maskedValues,n,+d)}else{var f=r,m=r;if(a.clean&&(f=a.clean(f),m=f),a.formatter){var g=zc(f,a.formatter,this.getMaskedValue(n));a.setCursorOffset(g.offset,s),m=g.value,f=m}a.mask&&!a.maskOnBlur&&(f=a.mask(f),m=f),a.parser&&(f=f!=null?da(f,a.parser):f),I("Setting ".concat(n,"'s value to"),f),C.set(this.state.values,n,f),!a.getInitialValue||a.getInitialValue()!=f||a.modifyOnMount?(I("Setting ".concat(n,"'s modified to"),f),C.set(this.state.modified,n,f)):(I("Removing ".concat(n,"'s modified")),C.set(this.state.modified,n,void 0)),I("Setting ".concat(n,"'s maskedValue to"),m),C.set(this.state.maskedValues,n,m)}if(a.validate&&a.validateOn.includes("change")){var y=C.get(this.state.values,n);I("Validating after change ".concat(n," ").concat(y)),C.set(this.state.errors,n,a.validate(y,this.state.values))}if(a.yupSchema&&a.validateOn.includes("change")&&this.getError(n)===void 0){var S=C.get(this.state.values,n);I("Validating YUP after change ".concat(n," ").concat(S)),C.set(this.state.errors,n,Su(a.yupSchema,S))}if(a.asyncValidate&&a.validateOn==="change"&&this.getError(n)===void 0&&this.debouncedValidateAsync(n),o||(this.state.pristine=!1,this.state.dirty=!this.state.pristine,C.set(this.state.dirt,n,!0)),this.updateValid(),a.onChange){var h=this.getFieldState(n);a.onChange(h,i)}if(i&&a.onNativeChange){var p=this.getFieldState(n);a.onNativeChange(p,i)}i&&this.emit("field-native",n),a.gatherData&&this.debouncedGatherInfo(n),this.emit("field",n),this.emit("field-value",n),this.emit("field-modified",n),this.emit("field-value-set",n)}},{key:"validateField",value:function(n){var r,i=(r=this.fieldsMap.get(n))===null||r===void 0?void 0:r.current;if(i){if(i.validate){var s=C.get(this.state.values,n);I("Validating field ".concat(n," via validateField with value ").concat(s)),C.set(this.state.errors,n,i.validate(s,this.state.values))}if(i.yupSchema&&this.getError(n)===void 0){var o=C.get(this.state.values,n);I("Validating YUP field via validateField ".concat(n," ").concat(o)),C.set(this.state.errors,n,Su(i.yupSchema,o))}this.updateValid(),this.emit("field",n)}}},{key:"getModified",value:function(n){return C.get(this.state.modified,n)}},{key:"getFocused",value:function(n){return C.get(this.state.focused,n)}},{key:"setFocused",value:function(n,r,i){var s;I("Setting ".concat(n,"'s focused to ").concat(r));var o=((s=this.fieldsMap.get(n))===null||s===void 0?void 0:s.current)||{};if(C.set(this.state.focused,n,r),o.onFocus){var l=this.getFieldState(n);o.onFocus(l,i)}this.emit("field",n)}},{key:"getTouched",value:function(n){return C.get(this.state.touched,n)}},{key:"setTouched",value:function(n,r,i){var s;I("Setting ".concat(n,"'s touched to ").concat(r));var o=((s=this.fieldsMap.get(n))===null||s===void 0?void 0:s.current)||{};if(C.set(this.state.touched,n,r),o.mask&&o.maskOnBlur){var l=C.get(this.state.values,n),a=l;a=o.mask(l),o.parser&&(l=l!=null?da(l,o.parser):l),I("Setting ".concat(n,"'s value to"),a),C.set(this.state.values,n,a),I("Setting ".concat(n,"'s maskedValue to"),a),C.set(this.state.maskedValues,n,a)}if(o.validate&&(o.validateOn.includes("blur")||o.validateOn.includes("change"))){var u=C.get(this.state.values,n);I("Validating after blur ".concat(n," ").concat(u)),C.set(this.state.errors,n,o.validate(u,this.state.values))}if(o.asyncValidate&&(o.validateOn==="blur"||o.validateOn==="change-blur"||o.validateOn==="change")&&this.getError(n)===void 0&&this.validateAsync(n),this.updateValid(),o.onBlur){var c=this.getFieldState(n);o.onBlur(c,i)}this.emit("field",n)}},{key:"getData",value:function(n){return C.get(this.state.data,n)}},{key:"setData",value:function(n,r){I("Setting ".concat(n,"'s data to ").concat(r)),C.set(this.state.data,n,r),this.emit("field",n)}},{key:"getError",value:function(n){return C.get(this.state.errors,n)}},{key:"setError",value:function(n,r){I("Setting ".concat(n,"'s error to ").concat(r)),C.set(this.state.errors,n,r),this.state.valid=C.empty(this.state.errors),this.state.invalid=!this.state.valid,this.emit("field",n)}},{key:"getInitialValue",value:function(n){return C.get(this.state.initialValues,n)}},{key:"getDirty",value:function(n){return!!C.get(this.state.dirt,n)}},{key:"setDirt",value:function(n,r){return C.set(this.state.dirt,n,r)}},{key:"getPristine",value:function(n){return!this.getDirty(n)}},{key:"getValid",value:function(n){return C.get(this.state.errors,n)===void 0}},{key:"getFormState",value:function(){return this.state}},{key:"clearValue",value:function(n){this.setValue(n,void 0),this.emit("clear",n)}},{key:"clearError",value:function(n){this.setError(n,void 0)}},{key:"setPristine",value:function(n){this.state.pristine=n,this.state.dirty=!this.state.pristine,this.emit("field")}},{key:"getFormApi",value:function(){return{getValue:this.getValue,setValue:this.setValue,setValueQuietly:this.setValueQuietly,getMaskedValue:this.getMaskedValue,setMaskedValue:this.setMaskedValue,setModifiedValue:this.setModifiedValue,getTouched:this.getTouched,setTouched:this.setTouched,getError:this.getError,setError:this.setError,getFocused:this.getFocused,setFocused:this.setFocused,getData:this.getData,setData:this.setData,getModified:this.getModified,resetField:this.resetField,reset:this.reset,getFormState:this.getFormState,getPristine:this.getPristine,getDirty:this.getDirty,setDirt:this.setDirt,validateField:this.validateField,getFieldState:this.getFieldState,getInitialValue:this.getInitialValue,touchAllFields:this.touchAllFields,validate:this.validate,asyncValidate:this.asyncValidate,setValues:this.setValues,setTheseValues:this.setTheseValues,resetPath:this.resetPath,submitForm:this.submitForm,clearValue:this.clearValue,clearError:this.clearError,focusFirstError:this.focusFirstError,setPristine:this.setPristine,disable:this.disableForm,enable:this.enableForm,restore:this.restore,getMemory:this.getMemory}}},{key:"getFieldState",value:function(n){var r,i=((r=this.fieldsMap.get(n))===null||r===void 0?void 0:r.current)||{},s=this.getError(n),o=!!this.getFocused(n),l=!!this.getModified(n),a=this.getDirty(n),u=this.getValid(n),c=!!this.getTouched(n),d=!a,f=!!this.validationRequests.get(n),m=!!this.dataRequests.get(n),g=this.getMemory(n),y=!1;return i&&i.showErrorIfError?y=s!==void 0:i&&i.showErrorIfDirty?y=s!==void 0&&(a||c):i&&i.showErrorIfTouched&&(y=s!==void 0&&c),{value:this.getValue(n),maskedValue:this.getMaskedValue(n),modified:l,touched:c,error:this.getError(n),data:this.getData(n),pristine:d,dirty:a,valid:u,invalid:!u,showError:y,validating:f,gathering:m,focused:o,memory:g}}},{key:"remove",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(I("Remove",n),this.removalLocked)I("Removal locked so NOT removing",n);else{var s=r.value,o=s===void 0?!1:s,l=r.error,a=l===void 0?!1:l,u=r.touched,c=u===void 0?!1:u;if(i.remember){var d=this.getValue(n);d!=null&&(I("Remembering",n,d),C.set(this.state.memory,n,d))}o||(I("Delete Value",n),C.delete(this.state.values,n),I("Delete Modified",n),C.delete(this.state.modified,n),I("Delete Masked",n),C.delete(this.state.maskedValues,n)),c||(I("Delete Touched",n),C.delete(this.state.touched,n)),a||(I("Delete Errors",n),C.delete(this.state.errors,n)),I("Delete Dirt",n),C.delete(this.state.dirt,n),I("Delete Focused",n),C.delete(this.state.focused,n),I("Delete Info",n),C.delete(this.state.data,n),this.updateValid(),this.emit("field",n),this.emit("field-value",n),this.emit("field-modified",n)}}},{key:"swap",value:function(n,r,i){I("Swap",n,r,i),C.swap(this.state.values,n,r,i),C.swap(this.state.modified,n,r,i),C.swap(this.state.maskedValues,n,r,i),C.swap(this.state.touched,n,r,i),C.swap(this.state.errors,n,r,i),C.swap(this.state.dirt,n,r,i),C.swap(this.state.focused,n,r,i),C.swap(this.state.data,n,r,i),this.state.pristine=!1,this.state.dirty=!this.state.pristine}},{key:"pullOut",value:function(n){I("Pull",n),I("Pull ".concat(n," from values")),C.delete(this.state.values,n),I("Pull ".concat(n," from modified")),C.delete(this.state.modified,n),I("Pull ".concat(n," from maskedValues")),C.delete(this.state.maskedValues,n),I("Pull ".concat(n," from touched")),C.delete(this.state.touched,n),I("Pull ".concat(n," from errors")),C.delete(this.state.errors,n),I("Pull ".concat(n," from dirt")),C.delete(this.state.dirt,n),I("Pull ".concat(n," from focused")),C.delete(this.state.focused,n),I("Pull ".concat(n," from data")),C.delete(this.state.data,n),this.state.pristine=!1,this.state.dirty=!this.state.pristine}},{key:"register",value:function(n,r){I("Register",n,r),this.fieldsMap.get(n)||(this.fieldsMap.set(n,r),this.emit("field",n))}},{key:"deregister",value:function(n){I("De-Register",n),this.fieldsMap.get(n)&&(this.fieldsMap.delete(n),this.emit("field",n))}},{key:"initialize",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(I("Initialize",n,"emit:",i,"state:",this.state),this.getValue(n)===void 0&&r.current.initialValue!=null&&(!r.current.initializeValueIfPristine||this.state.pristine)){var s=r.current,o=s.formatter,l=s.parser,a=s.initialize,u=s.clean,c=s.mask,d=s.modifyOnMount,f=u?u(r.current.initialValue):r.current.initialValue,m=Js(f,{formatter:o,parser:l,initialize:a,mask:c}),g=Zs(f,{formatter:o,initialize:a,mask:c});I("Initializing ".concat(n,"'s value to ").concat(m)),C.set(this.state.values,n,m),I("Initializing ".concat(n,"'s maskedValue to ").concat(g)),C.set(this.state.maskedValues,n,g),d&&(I("Initializing ".concat(n,"'s modified to ").concat(m," because modifyOnMount was passed.")),C.set(this.state.modified,n,m))}if(r.current.validate&&r.current.validateOnMount){var y=C.get(this.state.values,n);I("Validating on mount ".concat(n," ").concat(y),this.state),C.set(this.state.errors,n,r.current.validate(y,this.state.values))}r.current.asyncValidate&&r.current.validateOnMount===!0&&this.getError(n)===void 0&&this.validateAsync(n),this.state.valid=C.empty(this.state.errors),this.state.invalid=!this.state.valid,r.current.gatherData&&r.current.gatherOnMount===!0&&this.debouncedGatherInfo(n),i&&this.emit("field",n),i&&this.emit("field-value",n)}},{key:"validated",value:function(n,r){if(I("Setting ".concat(n,"'s error to ").concat(r," with ").concat(this.state.validating," validations left")),C.set(this.state.errors,n,r),this.updateValid(),this.validationRequests.delete(n),this.state.validating>0){I("Still validating ".concat(this.state.validating," others so just update state.")),this.emit("field",n);return}this.state.submitting&&(this.valid()?(I("Submit",this.state),this.emit("field",n),this.emit("submit")):(I("Fail",this.state),this.options.current.focusOnInvalid&&this.focusFirstError(),this.options.current.scrollOnInvalid&&this.scrollToFirstError(),this.emit("field",n),this.emit("failure")),this.state.submitting=!1),this.done&&(this.valid()&&this.done(),this.done=void 0),this.emit("field",n)}},{key:"gathered",value:function(n,r){I("Setting ".concat(n,"'s data to ").concat(r," with ").concat(this.state.gathering," gatherers left")),C.set(this.state.data,n,r),this.dataRequests.delete(n),this.emit("field",n),this.emit("field-value",n)}},{key:"gatheredError",value:function(n,r){I("Setting ".concat(n,"'s error to ").concat(r," with ").concat(this.state.gathering," gatherers left")),C.set(this.state.errors,n,r),this.dataRequests.delete(n),this.updateValid(),this.emit("field",n),this.emit("field-value",n)}},{key:"validateAsync",value:function(n){var r,i=this;I("VALIDATING ASYNC",n);var s=(r=this.fieldsMap.get(n))===null||r===void 0?void 0:r.current,o=this.getValue(n);if(s&&s.asyncValidate){this.state.validating=this.state.validating+1;var l=Ut();I("REQUEST",l),this.validationRequests.set(n,{uuid:l,value:o}),this.emit("field",n),s.asyncValidate(o,this.state.values).then(function(a){i.state.validating=i.state.validating-1;var u=i.validationRequests.get(n).uuid!==l,c=i.validationRequests.get(n).value!==i.getValue(n);!u&&!c?(I("FINISH",l),i.validated(n,a)):I("".concat(u?"STALE":"INVALID"," THEN"),l,o,i.getValue(n))}).catch(function(a){i.state.validating=i.state.validating-1;var u=i.validationRequests.get(n).uuid!==l,c=i.validationRequests.get(n).value!==i.getValue(n);!u&&!c?(I("FINISH",l),i.validated(n,a.message)):I("".concat(u?"STALE":"INVALID"," THEN"),l,o,i.getValue(n))})}}},{key:"gatherData",value:function(n){var r,i=this;I("EXECUTING INFO ASYNC",n);var s=(r=this.fieldsMap.get(n))===null||r===void 0?void 0:r.current,o=this.getValue(n);if(s&&s.gatherData){this.state.gathering=this.state.gathering+1;var l=Ut();I("DATA REQUEST",l),this.dataRequests.set(n,{uuid:l,value:o}),this.emit("field",n),s.gatherData(o,this.state).then(function(a){i.state.gathering=i.state.gathering-1;var u=i.dataRequests.get(n).uuid!==l,c=i.dataRequests.get(n).value!==i.getValue(n);!u&&!c?(I("DATA FINISH",l),i.gathered(n,a)):I("".concat(u?"STALE":"INVALID"," THEN"),l,o,i.getValue(n))}).catch(function(a){i.state.gathering=i.state.gathering-1;var u=i.dataRequests.get(n).uuid!==l,c=i.dataRequests.get(n).value!==i.getValue(n);!u&&!c?(I("DATA FINISH",l),i.gatheredError(n,a.message)):I("".concat(u?"STALE":"INVALID"," THEN"),l,o,i.getValue(n))})}}},{key:"reset",value:function(){var n,r,i,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.options.current.resetOnlyOnscreen){var o;this.state.initialValues=(o=this.options.current.initialValues)!==null&&o!==void 0?o:{},this.fieldsMap.forEach(function(c){c.current.fieldApi.reset({resetValue:u})}),this.emit("reset");return}var l=s.values,a=s.resetValues,u=a===void 0?!0:a;this.state={pristine:!0,dirty:!1,submitted:!1,invalid:!1,valid:!0,submitting:!1,validating:0,gathering:0,values:u?{}:this.state.values,errors:{},touched:{},maskedValues:u?{}:this.state.maskedValues,dirt:{},focused:{},modified:{},data:{},initialValues:(n=l??this.options.current.initialValues)!==null&&n!==void 0?n:{},disabled:(r=(i=this.disabled)!==null&&i!==void 0?i:this.options.current.disabled)!==null&&r!==void 0?r:!1,memory:{}},this.fieldsMap.forEach(function(c){c.current.fieldApi.reset({resetValue:u})}),this.emit("reset")}},{key:"focusFirstError",value:function(){var n=this;this.options.current.focusOnInvalid&&Array.from(this.fieldsMap.values()).some(function(r){var i=r.current,s=i.fieldRef,o=n.getError(i.name);return o&&s?(typeof s.current.focus=="function"&&(I("Focusing onto",i.name),s.current.focus()),!0):!1})}},{key:"scrollToFirstError",value:function(){var n=this;this.options.current.scrollOnInvalid&&Array.from(this.fieldsMap.values()).some(function(r){var i=r.current,s=i.fieldRef,o=n.getError(i.name);return o&&s?(typeof s.current.scrollIntoView=="function"&&(I("Scrolling to",i.name),s.current.scrollIntoView(n.options.current.scrollOnInvalid)),!0):!1})}},{key:"resetField",value:function(n){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};I("Resetting",n);var s=((r=this.fieldsMap.get(n))===null||r===void 0?void 0:r.current)||{},o=s.formatter,l=s.parser,a=s.initialize,u=s.mask,c=s.modifyOnMount,d=i.value,f=i.resetValue,m=f===void 0?!0:f,g=i.resetError,y=g===void 0?!0:g,S=i.resetTouched,h=S===void 0?!0:S,p=i.resetDirt,v=p===void 0?!0:p,_=i.resetModified,E=_===void 0?!0:_;if(d){var w=Js(d,{formatter:o,parser:l,initialize:a,mask:u});I("Resetting ".concat(n,"'s value to ").concat(w)),C.set(this.state.values,n,w);var k=Zs(d,{formatter:o,parser:l,mask:u});I("Resetting ".concat(n,"'s maskedValue to ").concat(k)),C.set(this.state.maskedValues,n,k)}else if(m){var F=Js(s.getInitialValue&&s.getInitialValue(),{formatter:o,parser:l,initialize:a,mask:u}),H=Zs(s.getInitialValue&&s.getInitialValue(),{formatter:o,initialize:a,mask:u});I("Resetting ".concat(n,"'s value to ").concat(F)),C.set(this.state.values,n,F),I("Resetting ".concat(n,"'s maskedValue to ").concat(H)),C.set(this.state.maskedValues,n,H),c&&E&&(I("Resetting ".concat(n,"'s modified to ").concat(F," because modifyOnMount was passed.")),C.set(this.state.modified,n,F))}if(y&&(I("Resetting ".concat(n,"'s error")),C.delete(this.state.errors,n)),h&&(I("Resetting ".concat(n,"'s touched")),C.delete(this.state.touched,n)),v&&(I("Resetting ".concat(n,"'s dirt")),C.delete(this.state.dirt,n)),!c&&E&&(I("Resetting ".concat(n,"'s modified")),C.delete(this.state.modified,n)),s.validate&&s.validateOnMount){var M=C.get(this.state.values,n);I("Validating on reset because of validateOnMount ".concat(n," ").concat(M),this.state),C.set(this.state.errors,n,s.validate(M,this.state.values))}this.state.valid=C.empty(this.state.errors),this.state.invalid=!this.state.valid,s.gatherData&&s.gatherOnMount===!0&&this.debouncedGatherInfo(n),this.emit("field",n),this.emit("field-value",n),this.emit("field-modified",n)}},{key:"reformat",value:function(n){var r;I("Reformatting",n);var i=(r=this.fieldsMap.get(n))===null||r===void 0?void 0:r.current,s=C.get(this.state.values,n),o=i.formatter,l=i.parser,a=i.initialize,u=Js(s,{formatter:o,parser:l,initialize:a}),c=Zs(s,{formatter:o});I("Reformatting ".concat(n,"'s value to ").concat(u)),C.set(this.state.values,n,u),I("Reformatting ".concat(n,"'s maskedValue to ").concat(c)),C.set(this.state.maskedValues,n,c),this.emit("field",n),this.emit("field-value",n),this.emit("field-modified",n)}},{key:"lockRemoval",value:function(n){I("LOCKREMOVAL",n),this.removalLocked=n}},{key:"unlockRemoval",value:function(){I("UNLOCK REMOVAL"),this.removalLocked=void 0}},{key:"getRemovalLocked",value:function(){return this.removalLocked}},{key:"isRemovalLocked",value:function(){return this.removalLocked!=null}},{key:"valid",value:function(){var n=this.state.errors;return!!C.empty(n)}},{key:"keyDown",value:function(n){if(n.keyCode==13&&this.options.current.preventEnter)return n.preventDefault(n),!1}},{key:"validate",value:function(){var n=this;I("Validating all fields");var r=this.state.values,i=this.options.current.validateModified;i&&(r=this.state.modified);var s={};if(this.options.current.yupSchema){var o=VE(this.options.current.yupSchema,r);s=U(U({},s),o)}if(this.options.current.schema&&this.options.current.ajv){var l=BE(this.ajvValidate,r);s=U(U({},s),l)}if(this.options.current.validateFields){var a=this.options.current.validateFields(r);s=U(U({},s),a),s=C.purge(s)}this.fieldsMap.forEach(function(u){var c=u.current,d=n.getValue(c.name),f=c.validate?c.validate(d,r):void 0;f!=null&&C.set(s,c.name,f)}),this.state.errors=s,this.updateValid(),this.emit("field","_ALL_")}},{key:"asyncValidate",value:function(n){var r=this;I("Async Validating all fields"),this.done=n,this.fieldsMap.forEach(function(i){var s=i.current.name;r.getError(s)===void 0&&r.validateAsync(s)})}},{key:"getErrorMessage",value:function(n,r){var i;I("Getting ".concat(n," error message for ").concat(r," Validating all fields"));var s=r;if(this.options.current.schema){for(I("We have schema so looking in there for error message");s!=="";){I("Looking for message at ".concat(s));var o=wv(s);I("Looking for message at schema path ".concat(o));var l=C.get(this.options.current.schema,o);if(l&&l.errorMessage){var a=typeof l.errorMessage=="string"?l.errorMessage:l.errorMessage[n];if(a)return a}I("Did not find message in schema for ".concat(o),l),s=s.substring(0,s.lastIndexOf("."))}var u=this.options.current.schema;if(u.errorMessage){var c=typeof u.errorMessage=="string"?u.errorMessage:u.errorMessage[n];if(c)return c}}var d=(i=this.fieldsMap.get(r))===null||i===void 0?void 0:i.current;if(d&&d.errorMessage){var f=typeof d.errorMessage=="string"?d.errorMessage:d.errorMessage[n];if(f)return f}if(this.options.current.errorMessage){var m=typeof this.options.current.errorMessage=="string"?this.options.current.errorMessage:this.options.current.errorMessage[n];if(m)return m}}},{key:"touchAllFields",value:function(){var n=this;this.fieldsMap.forEach(function(r){r.current.arrayField||(I("TouchAllFields - setting ".concat(r.current.name,"'s touched to true")),C.set(n.state.touched,r.current.name,!0))})}},{key:"submitForm",value:function(n){this.state.submitting=!0,!this.options.current.dontPreventDefault&&n&&n.preventDefault(n),this.validate(),this.touchAllFields(),this.emit("field","_ALL_"),this.asyncValidate(),this.valid()&&this.state.validating===0?(I("Submit",this.state),this.state.submitted=!0,this.emit("submit")):(I("Fail",this.state),this.options.current.focusOnInvalid&&this.focusFirstError(),this.options.current.scrollOnInvalid&&this.scrollToFirstError(),this.emit("failure")),this.state.validating===0&&(this.state.submitting=!1),this.emit("field")}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var o=this.subscriptions.get(n);o&&o.forEach(function(l){return l.apply(void 0,i)})}},{key:"on",value:function(n,r){this.subscriptions.get(n)||this.subscriptions.set(n,new Set);var i=this.subscriptions.get(n);i.add(r)}},{key:"removeListener",value:function(n,r){var i=this.subscriptions.get(n);i.delete(r)}}]),t}(),Mr=function(e,n){var r=R.useRef(!0),i=r.current;R.useEffect(function(){if(i)r.current=!1;else return e()},n)};function uC(){return R.useContext(EE)}var cC=["onSubmit","onReset","onChange","onSubmitFailure","onValueChange","onValueSet","onValid","onInvalid","onValueModified","initialValues","validateFields","autocomplete","showErrorIfError","showErrorIfTouched","showErrorIfDirty","validateOn","validateOnMount","formApiRef","dontPreventDefault","yupSchema","allowEmptyStrings","disabled","preventEnter","validateModified","schema","ajv","ajvErrors","components","errorMessage","fieldMap","adapter","name","keepState","keepStateIfRelevant","focusOnInvalid","scrollOnInvalid","resetOnlyOnscreen"],pa=Re("informed:useForm	"),dC=function(e){var n=e.onSubmit,r=e.onReset,i=e.onChange,s=e.onSubmitFailure,o=e.onValueChange,l=e.onValueSet,a=e.onValid,u=e.onInvalid,c=e.onValueModified,d=e.initialValues,f=e.validateFields,m=e.autocomplete,g=e.showErrorIfError,y=e.showErrorIfTouched,S=e.showErrorIfDirty,h=e.validateOn,p=e.validateOnMount,v=e.formApiRef,_=e.dontPreventDefault,E=e.yupSchema,w=e.allowEmptyStrings,k=e.disabled,F=e.preventEnter,H=e.validateModified,M=e.schema,ee=e.ajv,X=e.ajvErrors,le=e.components,ye=e.errorMessage,_e=e.fieldMap,de=e.adapter,ke=e.name,A=e.keepState,D=e.keepStateIfRelevant,b=e.focusOnInvalid,B=e.scrollOnInvalid,Q=e.resetOnlyOnscreen,Y=Lt(e,cC),P=uC(),L=R.useMemo(function(){if(P&&ke){var qe;return pa("Checking for saved values",P.getSavedValues(ke)),(qe=P.getSavedValues(ke))!==null&&qe!==void 0?qe:d}return d},[d]),K={initialValues:L,validateFields:f,autocomplete:m,showErrorIfError:g,showErrorIfTouched:y??!0,showErrorIfDirty:S,validateOn:h,validateOnMount:p,dontPreventDefault:_,yupSchema:E,allowEmptyStrings:w,disabled:k,preventEnter:F,schema:M,ajv:ee,ajvErrors:X,components:le,errorMessage:ye,fieldMap:_e,adapter:de,keepState:A,keepStateIfRelevant:D,validateModified:H,focusOnInvalid:b,scrollOnInvalid:B,resetOnlyOnscreen:Q},Ee=R.useRef();Ee.current=K;var jt=R.useState(function(){return new aC(Ee)}),Al=Se(jt,1),z=Al[0];R.useEffect(function(){var qe=function(){return i&&i(z.getFormState())},Ct=function(){return r&&r(z.getFormState())},cr=function(){return n&&n(z.getFormState())},Ns=function(){return s&&s(z.getFormState())},Fs=function(Ln){return o&&o(z.getFormState(),Ln)},ui=function(Ln){return c&&c(z.getFormState(),Ln)},Ml=function(Ln){return l&&l(z.getFormState(),Ln)},Ps=function(){return a&&a(z.getFormState())},Dl=function(){return u&&u(z.getFormState())};return z.on("field",qe),z.on("reset",Ct),z.on("submit",cr),z.on("failure",Ns),z.on("field-value",Fs),z.on("field-modified",ui),z.on("field-value-set",Ml),z.on("valid",Ps),z.on("invalid",Dl),function(){z.removeListener("field",qe),z.removeListener("reset",Ct),z.removeListener("submit",cr),z.removeListener("failure",Ns),z.removeListener("field-value",Fs),z.removeListener("field-modified",ui)}},[i,r,n,s,o,c]);var Ol=R.useState(function(){return z.getFormState()}),ur=Se(Ol,2),xs=ur[0],ai=ur[1];R.useEffect(function(){var qe=function(cr){ai(U({},z.getFormState())),P&&P.inform(ke,cr)};return z.emitter.on("field",qe),ai(U({},z.getFormState())),ke&&P&&P.register(ke,z),function(){z.emitter.removeListener("field",qe),ke&&P&&P.setSavedValues(ke,z.getFormState().values)}},[]);var Ht=R.useMemo(function(){return v&&(v.current=z.getFormApi()),z.getFormApi()},[]);Mr(function(){var qe=Ht.getFormState(),Ct=qe.pristine;Ct&&Ht.reset()},[L]),Mr(function(){k?Ht.disable():Ht.enable()},[k]),R.useEffect(function(){return pa("Mount"),z.lockRemoval(!1),function(){z.lockRemoval(!0),pa("Un-Mount")}},[]);var Rs=function(Ct){return T.createElement(Qr.Provider,{value:z},T.createElement(mv.Provider,{value:Ht},T.createElement(yE.Provider,{value:xs},Ct)))};return{formApi:Ht,formState:xs,formController:z,render:Rs,userProps:Y}},fC=function(e){var n=e.value,r=e.inputRef,i=e.inputRefs,s=e.maintainCursor,o=s===void 0?!1:s,l=R.useMemo(function(){if(i){var _={};Object.keys(i).forEach(function(E){return _[E]=0})}else return 0},[]),a=rs(l),u=Se(a,3),c=u[0],d=u[1],f=u[2],m=rs(l),g=Se(m,3),y=g[0],S=g[1],h=g[2],p=R.useCallback(function(_,E){if(E){var w=U({},f());w[E]=_,d(w)}else d(_)},[]),v=R.useCallback(function(_,E){if(E){var w=U({},f());w[E]=_[E],S(w)}else S(_)},[]);return R.useEffect(function(){if(!i&&r.current!=null&&f()){var _=h(),E=f()+_;o&&r.current.setSelectionRange(E,E)}i&&f()&&Object.keys(i).forEach(function(w){var k=h()[w]<0?0:h()[w],F=f()[w]+k;o&&i[w].current.setSelectionRange(F,F)})},[n,c,y]),{setCursorOffset:v,setCursor:p,cursor:c,getCursor:f,cursorOffset:y}},hC=["id","type","name","onBlur","onChange","onFocus","onNativeChange","onValueChange","validate","asyncValidate","validateModified","gatherData","yupSchema","multiple","field","keep","keepState","keepStateIfRelevant","remember","inputRef","inputRefs","relevant","defaultValue","initialValue","autocomplete","showErrorIfError","showErrorIfTouched","showErrorIfDirty","formatter","parser","clean","mask","maintainCursor","required","minimum","maximum","minLength","maxLength","pattern","allowEmptyString","emptyValue","disabled","gatherOnMount","validateOnMount","modifyOnMount","validateOn","maskOnBlur","validateWhen","formatterDependencies","formController","initialize","errorMessage","initializeValueIfPristine","relevanceWhen","relevanceDeps","validateDeps","evaluate","evaluateWhen"],kt=Re("informed:useField	"),ni=function(e){var n,r=e.id,i=e.type,s=e.name,o=e.onBlur,l=e.onChange,a=e.onFocus,u=e.onNativeChange,c=e.onValueChange,d=e.validate,f=e.asyncValidate,m=e.validateModified,g=e.gatherData,y=e.yupSchema,S=e.multiple,h=e.field,p=e.keep,v=e.keepState,_=e.keepStateIfRelevant,E=e.remember,w=e.inputRef,k=e.inputRefs,F=e.relevant,H=e.defaultValue,M=e.initialValue,ee=e.autocomplete,X=e.showErrorIfError,le=e.showErrorIfTouched,ye=e.showErrorIfDirty,_e=e.formatter,de=e.parser,ke=e.clean,A=e.mask,D=e.maintainCursor,b=e.required,B=e.minimum,Q=e.maximum,Y=e.minLength,P=e.maxLength,L=e.pattern,K=e.allowEmptyString,Ee=e.emptyValue,jt=e.disabled,Al=e.gatherOnMount,z=e.validateOnMount,Ol=e.modifyOnMount,ur=e.validateOn,xs=e.maskOnBlur,ai=e.validateWhen,Ht=ai===void 0?[]:ai,Rs=e.formatterDependencies,qe=Rs===void 0?[]:Rs,Ct=e.formController,cr=e.initialize,Ns=e.errorMessage,Fs=e.initializeValueIfPristine,ui=e.relevanceWhen,Ml=ui===void 0?[]:ui,Ps=e.relevanceDeps,Dl=Ps===void 0?[]:Ps,St=e.validateDeps,Ln=St===void 0?[]:St;e.evaluate,e.evaluateWhen;var Td=Lt(e,hC),ay=s??h,Be=Es(ay),uy=R.useContext(Dt);Be||console.warn("name is a required prop!!!!");var cy=D??!!_e,te=Ct??bt(),dy=ee??te.options.current.autocomplete,fy=X??te.options.current.showErrorIfError,hy=le??te.options.current.showErrorIfTouched,py=ye??te.options.current.showErrorIfDirty,my=z??te.options.current.validateOnMount,Ll=ur??te.options.current.validateOn,xd=v??te.options.current.keepState,Rd=_??te.options.current.keepStateIfRelevant,vy=K??te.options.current.allowEmptyStrings,gy=m??te.options.current.validateModified,yy=(n=jt??te.disabled)!==null&&n!==void 0?n:te.options.current.disabled,Nd=function(){var lt;return(lt=M??te.getInitialValue(Be))!==null&&lt!==void 0?lt:H},_y=R.useState(function(){return Nd()}),Ey=Se(_y,1),Cy=Ey[0],dr=Wc(Be,!1),Sy=R.useContext(_E),fr=Iv({name:Be,relevant:F,relevanceWhen:Ml,relevanceDeps:Dl}),Fd=R.useContext(Cu),wy=R.useRef(null),As=T.useMemo(function(){return w||wy},[]),ky=R.useState(function(){return r||Ut()}),Iy=Se(ky,1),Ty=Iy[0],Pd=R.useRef();Pd.current=d;var xy=R.useMemo(function(){return QE(Pd,y,{required:b,minimum:B,maximum:Q,minLength:Y,maxLength:P,pattern:L,getErrorMessage:function(lt){return te.getErrorMessage(lt,Be)},validateModified:gy,fieldApi:dr,formController:te,scope:uy})},[b,B,Q,Y,P,L]),Ad={name:Be,type:i,onBlur:o,onChange:l,onFocus:a,onNativeChange:u,initialValue:Cy,keep:p,remember:E,keepState:xd,keepStateIfRelevant:Rd,initializeValueIfPristine:Fs,fieldApi:dr,getInitialValue:Nd,formatter:_e,parser:de,clean:ke,mask:A,validate:xy,yupSchema:y,validateOn:Ll??"blur",validateOnMount:my,validateWhen:Ht,showErrorIfError:fy,showErrorIfTouched:hy,showErrorIfDirty:py,maskOnBlur:xs,asyncValidate:f,gatherData:g,initialize:cr,errorMessage:Ns,allowEmptyString:vy,emptyValue:Ee,gatherOnMount:Al,fieldRef:As,modifyOnMount:Ol},Ne=R.useRef(Ad);Ne.current=Ad,R.useState(function(){if(fr){var re=Ne.current;kt("Initialize",re.name),te.initialize(re.name,Ne,!1)}});var Os=Tv(Be,!1),Od=fC({value:Os.value,inputRef:As,maintainCursor:cy,inputRefs:k}),Ry=Od.setCursor,Ny=Od.setCursorOffset;Ne.current.setCursorOffset=Ny,Ne.current.setCursor=Ry,R.useEffect(function(){return fr&&(kt("Register",Be,Ne.current),te.register(Be,Ne),kt("Second Initialize",Be),te.initialize(Be,Ne,!1)),function(){kt("De-Register",Be,Ne.current),te.deregister(Be)}},[Be]),Mr(function(){var re=Ne.current;!fr&&!xd&&(kt("RELEVANT REMOVING",re.name),te.remove(re.name,re.keep,re),kt("RELEVANT De-Register",re.name),te.deregister(re.name)),fr&&(kt("RELEVANT register",re.name),te.register(re.name,Ne),kt("RELEVANT Initialize",re.name),te.initialize(re.name,Ne))},[fr]),R.useEffect(function(){return function(){var re=!1,lt=Ne.current;kt("CLEANUP REMOVING",lt.name),lt.keepState?re=!0:Fd&&!Fd.relevant()?re=!1:(Rd||Sy)&&(re=!0),re||te.remove(lt.name,lt.keep,lt)}},[]),Mr(function(){te.reformat(Ne.current.name)},gt(qe)),is("field-value",Ht,function(re){kt("revalidating for ".concat(Ne.current.name," because of ").concat(re)),te.validateField(Ne.current.name)}),is("field-value",[Be],function(re){c&&c(te.getFieldState(re))},!1),Mr(function(){kt("revalidating for ".concat(Ne.current.name," because of deps change")),te.validateField(Ne.current.name)},Ln);var Fy=function(lt){return fr?lt:null},Py=OE({fieldType:i,setValue:dr.setValue,multiple:S,ref:As}),Ay=ME({setTouched:dr.setTouched}),Oy=DE({setFocused:dr.setFocused}),My=LE({fieldType:i,maskedValue:Os.maskedValue,multiple:Td.multiple,value:Os.value}),Dy=U({id:Ty,name:Be,type:i,multiple:S,autoComplete:dy,disabled:yy,required:b,min:B,max:Q,minLength:Y,maxLength:P,pattern:L},Td);return{fieldState:Os,fieldApi:dr,userProps:Dy,informed:{onChange:Py,onBlur:Ay,onFocus:Oy,value:My},ref:As,render:Fy}},pC=["label","id"],go=T.memo(function(t){var e=ni(t),n=e.render,r=e.userProps,i=e.ref,s=e.fieldState,o=e.fieldApi,l=o.setValue,a=o.setTouched,u=o.setFocused,c=s.maskedValue,d=s.showError,f=s.error,m=r.label,g=r.id,y=Lt(r,pC);return n(T.createElement(T.Fragment,null,m?T.createElement("label",{htmlFor:g},m):null,T.createElement("input",be({ref:i,id:g},y,{value:!c&&c!==0?"":c,onChange:function(h){l(h.target.value,h)},onBlur:function(h){a(!0,h)},onFocus:function(h){u(!0,h)},"aria-invalid":!!d,"aria-describedby":"".concat(g,"-error")})),d?T.createElement("small",{role:"alert",id:"".concat(g,"-error")},f):null))}),mC=T.memo(function(t){var e=ni(t),n=e.render,r=e.userProps,i=e.ref,s=e.fieldState,o=e.fieldApi,l=o.setValue,a=o.setTouched,u=o.setFocused,c=s.maskedValue,d=s.showError,f=s.error,m=r.label,g=r.id;return n(T.createElement(T.Fragment,null,m?T.createElement("label",{htmlFor:g},m):null,T.createElement("textarea",be({ref:i},r,{value:c||"",onChange:function(S){l(S.target.value,S)},onBlur:function(S){a(!0,S)},onFocus:function(S){u(!0,S)},"aria-invalid":!!d,"aria-describedby":"".concat(g,"-error")})),d?T.createElement("small",{role:"alert",id:"".concat(g,"-error")},f):null))}),vC=["id","onBlur","multiple","label","options","children"],nh=function(e){var n=ni(e),r=n.render,i=n.userProps,s=n.fieldState,o=n.fieldApi,l=n.ref,a=o.setValue,u=o.setTouched,c=s.value,d=s.showError,f=s.error,m=i.id,g=i.onBlur,y=i.multiple,S=i.label,h=i.options,p=i.children,v=Lt(i,vC),_=function(w){var k=Array.from(l.current).filter(function(F){return F.selected}).map(function(F){return F.value});a(y?k:k[0]||"",w)};return r(T.createElement(T.Fragment,null,S?T.createElement("label",{htmlFor:m}," ",S," "):null,T.createElement("select",be({},v,{id:m,multiple:y,ref:l,value:c||(y?[]:""),"aria-invalid":!!d,"aria-describedby":"".concat(m,"-error"),onChange:_,onBlur:function(w){u(!0),g&&g(w)}}),h?h.map(function(E){return T.createElement("option",{key:E.value,value:E.value,disabled:E.disabled},E.label)}):p),d?T.createElement("small",{role:"alert",id:"".concat(m,"-error")},f):null))},gC=["id","label"],rh=function(e){var n=ni(e),r=n.render,i=n.userProps,s=n.fieldState,o=n.fieldApi,l=o.setValue,a=o.setTouched,u=s.value,c=s.error,d=s.showError,f=i.id,m=i.label,g=Lt(i,gC);return r(T.createElement(T.Fragment,null,m?T.createElement("label",{htmlFor:f},m):null,T.createElement("input",be({},g,{id:f,checked:!!u,"aria-invalid":!!d,"aria-describedby":"".concat(f,"-error"),onChange:function(S){l(S.target.checked,S)},onBlur:function(S){a(!0,S)},type:"checkbox"})),d?T.createElement("small",{role:"alert",id:"".concat(f,"-error")},c):null))};function yC(){return R.useContext(yv)}var _C=["label","value"],EC=function(e){var n=e.label,r=e.value,i=Lt(e,_C),s=yC(),o=s.radioGroupApi,l=s.radioGroupState,a=o.setValue,u=o.setTouched,c=l.value,d=l.showError;return T.createElement("label",null,n,T.createElement("input",be({},i,{"aria-invalid":!!d,value:r,checked:c===r,onChange:function(m){m.target.checked&&a(r,m)},onBlur:function(m){u(!0,m)},type:"radio"})))},CC=function(e){var n=ni(e),r=n.fieldApi,i=n.fieldState,s=n.userProps,o=U({radioGroupApi:r,radioGroupState:i},e),l=s.label,a=s.id,u=s.options,c=s.children,d=i.showError,f=i.error;return T.createElement(yv.Provider,{value:o},T.createElement("fieldset",{"aria-describedby":"".concat(a,"-error")},l?T.createElement("legend",null,l):null,u?u.map(function(m){return T.createElement("label",{key:m.value},m.label," ",T.createElement(EC,{value:m.value}))}):c,d?T.createElement("small",{role:"alert",id:"".concat(a,"-error")},f):null))};function SC(){return R.useContext(gv)}var wC=function(e){var n=e.text,r=SC(),i=r.add;return T.createElement("button",{onClick:function(){i()},type:"button"},n||"Add")};function kC(){return R.useContext(Eu)}var IC=function(e){var n=e.text,r=kC(),i=r.remove;return T.createElement("button",{onClick:function(){i()},type:"button"},n||"Remove")},ih=function(e){var n=e.components,r=bt(),i=r.fieldMap,s=r.getOptions,o=s();return n?n.map(function(l,a){var u,c=l["ui:control"],d=l["ui:props"],f=(u=i[c])!==null&&u!==void 0?u:o.components?o.components[c]:null;return T.createElement(f,be({key:"ui-comp-".concat(a)},d))}):null},TC=Re("informed:useConditional	"),xC=function(e){var n=e.name,r=e.evaluate,i=e.evaluateWhen,s=i===void 0?[]:i,o=e.dependsOn,l=o===void 0?[]:o,a=e.native,u=a===void 0?!1:a,c=bt(),d=R.useContext(Dt),f=R.useRef(d);f.current=d;var m=R.useState(function(){return r?r({formState:c.getFormState(),formApi:c.getFormApi(),scope:d,dependsOn:l}):{}}),g=Se(m,2),y=g[0],S=g[1],h=typeof s=="function"?[]:s,p=R.useMemo(function(){return typeof s=="function"?s(d):s},[].concat(gt(h),[d])),v=u?"field-native":"field-value";return is(v,p,function(_){TC("re-evaluating conditional for ".concat(n," because of ").concat(_));var E=r({formState:c.getFormState(),formApi:c.getFormApi(),scope:f.current,dependsOn:l,target:_});S(E)},typeof s!="function"),R.useEffect(function(){r&&S(r({formState:c.getFormState(),formApi:c.getFormApi(),scope:d,dependsOn:l}))},[n].concat(gt(l))),R.useEffect(function(){var _=function(){r&&S(r({formState:c.getFormState(),formApi:c.getFormApi(),scope:d,dependsOn:l}))};return c.emitter.on("reset",_),function(){c.emitter.removeListener("reset",_)}},[]),y},RC=["name","schema"],bn=Re("informed:FormField	"),NC=function(e){var n,r=e.name,i=e.schema,s=Lt(e,RC),o=bt(),l=o.fieldMap,a=o.getOptions,u=o.emitter,c=Es(r),d=a(),f=Wc(r),m=R.useState({}),g=Se(m,2),y=g[0],S=g[1],h=i?r:c,p=i??d.schema,v=wv(h),_=C.get(p,v),E;if(!_&&(p.allOf&&p.allOf.forEach(function(B){B.if&&(_=C.get(B.then,v),E=B.if)}),!_))return null;var w=R.useMemo(function(){return fa(r,_)},[r]),k=w.props,F=w.type,H=w.properties,M=w.items,ee=w.componentType,X=w.uiBefore,le=w.uiAfter;R.useEffect(function(){var B=function(P,L){P===r&&(bn("Updating field props for ".concat(P),fa(r,L)),S(fa(r,L)))},Q=function(P){P===r&&S({})};return u.on("update-combine",B),u.on("update-remove",Q),function(){u.removeListener("update-combine",B),u.removeListener("update-remove",Q)}},[r]);var ye=xC({name:k.name,evaluate:k.evaluate,evaluateWhen:k.evaluateWhen,dependsOn:k.dependsOn}),_e=R.useMemo(function(){var B=y.props,Q=ca(k),Y=ca(B),P=ca(ye);(k!=null&&k.required||Y!=null&&Y.required||P!=null&&P.required)&&(s.required=!0);var L=U(U(U(U({},Q),Y),P),s);return bn("Schema Props for ".concat(r),Q),bn("Cond Props for ".concat(r),Y),bn("Hook Props for ".concat(r),P),bn("New Props for ".concat(r),L),L},[y,ye]);Mr(function(){_e.options&&(bn("options changed",_e.options),f.reset())},[_e.options]);var de=(n=l[ee])!==null&&n!==void 0?n:d.components?d.components[ee]:null;if(k.options&&l.withOptions&&!M&&(de=l.withOptions[ee]||de),bn("Rendering Field",r,w),!de&&F==="object"&&H)return T.createElement(th,{scope:r},T.createElement(wu,{schema:w}));if(de&&F==="object"&&H)return T.createElement(th,{scope:r},T.createElement(de,_e,T.createElement(wu,{schema:w})));if(!de&&F==="array"&&M)return T.createElement($o,be({name:r,items:M,uiBefore:X,uiAfter:le},_e));if(de&&ee==="array"&&M&&F==="array")return T.createElement(de,be({name:r,items:M,uiBefore:X,uiAfter:le},_e));if(!de)return null;if(E){var ke=E,A=ke.properties,D=function(Q){var Y=Q.formApi,P=Q.scope;return Object.entries(A).every(function(L){var K=Se(L,2),Ee=K[0],jt=K[1];return kv(jt,Y.getValue(P?"".concat(P,".").concat(Ee):Ee))})},b=function(){return T.createElement(Bc,{when:D},T.createElement(de,be({name:r},_e)))};return T.createElement(b,null)}return T.createElement(de,be({name:r},_e))},sh=Re("informed:FormField	"),FC=function(e){var n=e.schema,r=bt();return R.useEffect(function(){return Object.entries(n).forEach(function(i){var s=Se(i,2),o=s[0],l=s[1];sh("update-combine ".concat(o),l),r.emitter.emit("update-combine",o,l)}),function(){Object.entries(n).forEach(function(i){var s=Se(i,1),o=s[0];sh("update-remove ".concat(o)),r.emitter.emit("update-remove",o)})}},[]),null},wu=function t(e){var n=e.schema,r=e.onlyValidateSchema,i=bt(),s=i.getOptions,o=s(),l=o.components,a=R.useMemo(function(){var u=qE(n,r),c=u.properties,d=u.conditions,f=u.components,m=c.map(function(h){if(h.includes("ui:")&&h.split(":").length!==3)return{$id:h.split("ui:")[1]};var p=n.required&&n.required.includes(h)?!0:void 0,v=Ut(),_=T.createElement(NC,{name:h,schema:n,key:"schema-field-".concat(h,"-").concat(v),required:p});return{Component:_}}),g=f.map(function(h){if(h["ui:control"]){var p=l[h["ui:control"]],v=T.createElement(p,null,T.createElement(t,{schema:h}));return{Component:v,$id:h.$id}}}),y=d.map(function(h,p){var v=h.then,_=h.$id,E=h.thenProps,w=h.if.properties,k=function(M){var ee=M.formApi,X=M.scope;return Object.entries(w).every(function(le){var ye=Se(le,2),_e=ye[0],de=ye[1];return kv(de,ee.getValue(X?"".concat(X,".").concat(_e):_e))})},F=T.createElement(Bc,{key:"Conditional-ScheamField-".concat(p),when:k},v?T.createElement(t,{schema:v}):null,E?T.createElement(FC,{schema:E}):null);return{Component:F,$id:_}}),S=[];return m.forEach(function(h){var p=h.$id,v=h.Component;if(v)S.push(v);else if(p){var _=y.find(function(k){return k.$id===p}),E=g.find(function(k){return k.$id===p});if(_){S.push(_.Component);var w=y.findIndex(function(k){return k.$id===p});y.splice(w,1)}else if(E)S.push(E.Component);else throw console.error("MappedConditionals",y),new Error("Unable to find mapping for ".concat(p))}else throw new Error("Found property with no ID or component...")}),y.forEach(function(h){var p=h.Component;S.push(p)}),S},[n]);return a},PC=["name","items","uiBefore","uiAfter"],AC=function(e){var n=e.name,r=e.items,i=e.uiBefore,s=e.uiAfter,o=Lt(e,PC);return T.createElement($o,be({name:n},o),T.createElement(ih,{components:i}),T.createElement($o.Items,null,function(){return T.createElement(T.Fragment,null,T.createElement(wu,{schema:r}))}),T.createElement(ih,{components:s}))};function OC(t){var e=ni(U({type:"text"},t)),n=e.informed,r=e.render,i=e.userProps,s=e.ref;return r(T.createElement("input",be({},n,i,{ref:s,type:"hidden"})))}var MC={string:go,number:go,boolean:rh,select:nh,input:go,textarea:mC,checkbox:rh,radio:CC,add:wC,remove:IC,hidden:OC,array:AC,withOptions:{string:nh}},DC=["children"],LC=Re("informed:Form		"),bC=function(e){var n=e.children,r=Lt(e,DC);LC("Render FORM");var i=dC(U({adapter:MC},r)),s=i.formApi,o=i.formController,l=i.formState,a=i.render,u=i.userProps,c=function(){var f={formState:l,formApi:s};return typeof n=="function"?n(f):n};return a(T.createElement("form",be({},u,{noValidate:!0,onReset:o.reset,onSubmit:o.submitForm,onKeyDown:o.keyDown}),c()))};Re("informed:Form		");Re("informed:useMultistepStep	");Re("informed:Informed		");Re("informed:useInformedState	");Re("informed:useInformedField	");var oh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=function(t,e){if(!t)throw ri(e)},ri=function(t){return new Error("Firebase Database ("+xv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,c=s>>2,d=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,m=u&63;a||(m=64,o||(f=64)),r.push(n[c],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Rv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new zC;const f=s<<2|l>>4;if(r.push(f),u!==64){const m=l<<4&240|u>>2;if(r.push(m),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nv=function(t){const e=Rv(t);return $c.encodeByteArray(e,!0)},jo=function(t){return Nv(t).replace(/\./g,"")},ku=function(t){try{return $c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t){return Fv(void 0,t)}function Fv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!UC(n)||(t[n]=Fv(t[n],e[n]));return t}function UC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=()=>WC().__FIREBASE_DEFAULTS__,jC=()=>{if(typeof process>"u"||typeof oh>"u")return;const t=oh.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ku(t[1]);return e&&JSON.parse(e)},Pv=()=>{try{return $C()||jC()||HC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GC=t=>{var e,n;return(n=(e=Pv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},QC=t=>{const e=GC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Av=()=>{var t;return(t=Pv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jo(JSON.stringify(n)),jo(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ov(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(YC())}function qC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Mv(){return xv.NODE_ADMIN===!0}function XC(){try{return typeof indexedDB=="object"}catch{return!1}}function JC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="FirebaseError";class Cs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZC,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dv.prototype.create)}}class Dv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?eS(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Cs(i,l,r)}}function eS(t,e){return t.replace(tS,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t){return JSON.parse(t)}function Oe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=ss(ku(s[0])||""),n=ss(ku(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},nS=function(t){const e=Lv(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},rS=function(t){const e=Lv(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Kr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function lh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ho(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Iu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ah(s)&&ah(o)){if(!Iu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ah(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),c=1518500249):(u=s^o^l,c=1859775393):d<60?(u=s&o|l&(s|o),c=2400959708):(u=s^o^l,c=3395469782);const f=(i<<5|i>>>27)+u+a+c+r[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function jc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,N(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t){return t&&t._delegate?t._delegate:t}class os{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Sl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uS(e))try{this.getOrInitializeService({instanceIdentifier:Bn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bn){return this.instances.has(e)}getOptions(e=Bn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bn){return this.component?this.component.multipleInstances?e:Bn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aS(t){return t===Bn?void 0:t}function uS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const dS={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},fS=ie.INFO,hS={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},pS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hS[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bv{constructor(e){this.name=e,this._logLevel=fS,this._logHandler=pS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const mS=(t,e)=>e.some(n=>t instanceof n);let uh,ch;function vS(){return uh||(uh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gS(){return ch||(ch=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vv=new WeakMap,Tu=new WeakMap,zv=new WeakMap,ma=new WeakMap,Hc=new WeakMap;function yS(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(In(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Vv.set(n,t)}).catch(()=>{}),Hc.set(e,t),e}function _S(t){if(Tu.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Tu.set(t,e)}let xu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return In(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ES(t){xu=t(xu)}function CS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(va(this),e,...n);return zv.set(r,e.sort?e.sort():[e]),In(r)}:gS().includes(t)?function(...e){return t.apply(va(this),e),In(Vv.get(this))}:function(...e){return In(t.apply(va(this),e))}}function SS(t){return typeof t=="function"?CS(t):(t instanceof IDBTransaction&&_S(t),mS(t,vS())?new Proxy(t,xu):t)}function In(t){if(t instanceof IDBRequest)return yS(t);if(ma.has(t))return ma.get(t);const e=SS(t);return e!==t&&(ma.set(t,e),Hc.set(e,t)),e}const va=t=>Hc.get(t);function wS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=In(o);return r&&o.addEventListener("upgradeneeded",a=>{r(In(o.result),a.oldVersion,a.newVersion,In(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const kS=["get","getKey","getAll","getAllKeys","count"],IS=["put","add","delete","clear"],ga=new Map;function dh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ga.get(e))return ga.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=IS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kS.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return ga.set(e,s),s}ES(t=>({...t,get:(e,n,r)=>dh(e,n)||t.get(e,n,r),has:(e,n)=>!!dh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ru="@firebase/app",fh="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new bv("@firebase/app"),RS="@firebase/app-compat",NS="@firebase/analytics-compat",FS="@firebase/analytics",PS="@firebase/app-check-compat",AS="@firebase/app-check",OS="@firebase/auth",MS="@firebase/auth-compat",DS="@firebase/database",LS="@firebase/database-compat",bS="@firebase/functions",VS="@firebase/functions-compat",zS="@firebase/installations",BS="@firebase/installations-compat",US="@firebase/messaging",WS="@firebase/messaging-compat",$S="@firebase/performance",jS="@firebase/performance-compat",HS="@firebase/remote-config",GS="@firebase/remote-config-compat",QS="@firebase/storage",KS="@firebase/storage-compat",YS="@firebase/firestore",qS="@firebase/firestore-compat",XS="firebase",JS="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu="[DEFAULT]",ZS={[Ru]:"fire-core",[RS]:"fire-core-compat",[FS]:"fire-analytics",[NS]:"fire-analytics-compat",[AS]:"fire-app-check",[PS]:"fire-app-check-compat",[OS]:"fire-auth",[MS]:"fire-auth-compat",[DS]:"fire-rtdb",[LS]:"fire-rtdb-compat",[bS]:"fire-fn",[VS]:"fire-fn-compat",[zS]:"fire-iid",[BS]:"fire-iid-compat",[US]:"fire-fcm",[WS]:"fire-fcm-compat",[$S]:"fire-perf",[jS]:"fire-perf-compat",[HS]:"fire-rc",[GS]:"fire-rc-compat",[QS]:"fire-gcs",[KS]:"fire-gcs-compat",[YS]:"fire-fst",[qS]:"fire-fst-compat","fire-js":"fire-js",[XS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new Map,Fu=new Map;function ew(t,e){try{t.container.addComponent(e)}catch(n){tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qo(t){const e=t.name;if(Fu.has(e))return tr.debug(`There were multiple attempts to register component ${e}.`),!1;Fu.set(e,t);for(const n of Go.values())ew(n,t);return!0}function tw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Tn=new Dv("app","Firebase",nw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=JS;function Bv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Nu,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Tn.create("bad-app-name",{appName:String(i)});if(n||(n=Av()),!n)throw Tn.create("no-options");const s=Go.get(i);if(s){if(Iu(n,s.options)&&Iu(r,s.config))return s;throw Tn.create("duplicate-app",{appName:i})}const o=new cS(i);for(const a of Fu.values())o.addComponent(a);const l=new rw(n,r,o);return Go.set(i,l),l}function sw(t=Nu){const e=Go.get(t);if(!e&&t===Nu&&Av())return Bv();if(!e)throw Tn.create("no-app",{appName:t});return e}function Dr(t,e,n){var r;let i=(r=ZS[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tr.warn(l.join(" "));return}Qo(new os(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="firebase-heartbeat-database",lw=1,ls="firebase-heartbeat-store";let ya=null;function Uv(){return ya||(ya=wS(ow,lw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ls)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tn.create("idb-open",{originalErrorMessage:t.message})})),ya}async function aw(t){try{const n=(await Uv()).transaction(ls),r=await n.objectStore(ls).get(Wv(t));return await n.done,r}catch(e){if(e instanceof Cs)tr.warn(e.message);else{const n=Tn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});tr.warn(n.message)}}}async function hh(t,e){try{const r=(await Uv()).transaction(ls,"readwrite");await r.objectStore(ls).put(e,Wv(t)),await r.done}catch(n){if(n instanceof Cs)tr.warn(n.message);else{const r=Tn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tr.warn(r.message)}}}function Wv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=1024,cw=30*24*60*60*1e3;class dw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ph();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=cw}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ph(),{heartbeatsToSend:r,unsentEntries:i}=fw(this._heartbeatsCache.heartbeats),s=jo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function ph(){return new Date().toISOString().substring(0,10)}function fw(t,e=uw){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),mh(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XC()?JC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mh(t){return jo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t){Qo(new os("platform-logger",e=>new TS(e),"PRIVATE")),Qo(new os("heartbeat",e=>new dw(e),"PRIVATE")),Dr(Ru,fh,t),Dr(Ru,fh,"esm2017"),Dr("fire-js","")}pw("");var mw="firebase",vw="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr(mw,vw,"app");var vh={};const gh="@firebase/database",yh="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $v="";function gw(t){$v=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Oe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ss(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return an(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new yw(e)}}catch{}return new _w},Hn=jv("localStorage"),Pu=jv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new bv("@firebase/database"),Ew=function(){let t=1;return function(){return t++}}(),Hv=function(t){const e=oS(t),n=new sS;n.update(e);const r=n.digest();return $c.encodeByteArray(r)},Ss=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ss.apply(null,r):typeof r=="object"?e+=Oe(r):e+=r,e+=" "}return e};let Yn=null,_h=!0;const Cw=function(t,e){N(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Lr.logLevel=ie.VERBOSE,Yn=Lr.log.bind(Lr),e&&Pu.set("logging_enabled",!0)):typeof t=="function"?Yn=t:(Yn=null,Pu.remove("logging_enabled"))},je=function(...t){if(_h===!0&&(_h=!1,Yn===null&&Pu.get("logging_enabled")===!0&&Cw(!0)),Yn){const e=Ss.apply(null,t);Yn(e)}},ws=function(t){return function(...e){je(t,...e)}},Au=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ss(...t);Lr.error(e)},sn=function(...t){const e=`FIREBASE FATAL ERROR: ${Ss(...t)}`;throw Lr.error(e),new Error(e)},st=function(...t){const e="FIREBASE WARNING: "+Ss(...t);Lr.warn(e)},Sw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&st("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ww=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Yr="[MIN_NAME]",nr="[MAX_NAME]",si=function(t,e){if(t===e)return 0;if(t===Yr||e===nr)return-1;if(e===Yr||t===nr)return 1;{const n=Eh(t),r=Eh(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},kw=function(t,e){return t===e?0:t<e?-1:1},yi=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Oe(e))},Gc=function(t){if(typeof t!="object"||t===null)return Oe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Oe(e[r]),n+=":",n+=Gc(t[e[r]]);return n+="}",n},Qv=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Kv=function(t){N(!Gv(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(a=0;a<64;a+=8){let f=parseInt(c.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},Iw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Tw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function xw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Rw=new RegExp("^-?(0*)\\d{1,10}$"),Nw=-2147483648,Fw=2147483647,Eh=function(t){if(Rw.test(t)){const e=Number(t);if(e>=Nw&&e<=Fw)return e}return null},oi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw st("Exception was thrown by user callback.",n),e},Math.floor(0))}},Pw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Li=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){st(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',st(e)}}class br{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}br.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc="5",Yv="v",qv="s",Xv="r",Jv="f",Zv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,eg="ls",tg="p",Ou="ac",ng="websocket",rg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Mw(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function sg(t,e,n){N(typeof e=="string","typeof type must == string"),N(typeof n=="object","typeof params must == object");let r;if(e===ng)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===rg)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Mw(t)&&(n.ns=t.namespace);const i=[];return ot(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.counters_={}}incrementCounter(e,n=1){an(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return BC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a={},Ea={};function Kc(t){const e=t.toString();return _a[e]||(_a[e]=new Dw),_a[e]}function Lw(t,e){const n=t.toString();return Ea[n]||(Ea[n]=e()),Ea[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&oi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch="start",Vw="close",zw="pLPCommand",Bw="pRTLPCB",og="id",lg="pw",ag="ser",Uw="cb",Ww="seg",$w="ts",jw="d",Hw="dframe",ug=1870,cg=30,Gw=ug-cg,Qw=25e3,Kw=3e4;class xr{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ws(e),this.stats_=Kc(n),this.urlFn=a=>(this.appCheckToken&&(a[Ou]=this.appCheckToken),sg(n,rg,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new bw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Kw)),ww(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Yc((...s)=>{const[o,l,a,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Ch)this.id=l,this.password=a;else if(o===Vw)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Ch]="t",r[ag]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Uw]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Yv]=Qc,this.transportSessionId&&(r[qv]=this.transportSessionId),this.lastSessionId&&(r[eg]=this.lastSessionId),this.applicationId&&(r[tg]=this.applicationId),this.appCheckToken&&(r[Ou]=this.appCheckToken),typeof location<"u"&&location.hostname&&Zv.test(location.hostname)&&(r[Xv]=Jv);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xr.forceAllow_=!0}static forceDisallow(){xr.forceDisallow_=!0}static isAvailable(){return xr.forceAllow_?!0:!xr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Iw()&&!Tw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Oe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Nv(n),i=Qv(r,Gw);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Hw]="t",r[og]=e,r[lg]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Oe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Yc{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ew(),window[zw+this.uniqueCallbackIdentifier]=e,window[Bw+this.uniqueCallbackIdentifier]=n,this.myIFrame=Yc.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){je("frame writing exception"),l.stack&&je(l.stack),je(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||je("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[og]=this.myID,e[lg]=this.myPW,e[ag]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+cg+r.length<=ug;){const o=this.pendingSegs.shift();r=r+"&"+Ww+i+"="+o.seg+"&"+$w+i+"="+o.ts+"&"+jw+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Qw)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{je("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=16384,qw=45e3;let Ko=null;typeof MozWebSocket<"u"?Ko=MozWebSocket:typeof WebSocket<"u"&&(Ko=WebSocket);class Rt{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ws(this.connId),this.stats_=Kc(n),this.connURL=Rt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Yv]=Qc,typeof location<"u"&&location.hostname&&Zv.test(location.hostname)&&(o[Xv]=Jv),n&&(o[qv]=n),r&&(o[eg]=r),i&&(o[Ou]=i),s&&(o[tg]=s),sg(e,ng,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hn.set("previous_websocket_failure",!0);try{let r;Mv(),this.mySock=new Ko(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Rt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ko!==null&&!Rt.forceDisallow_}static previouslyFailed(){return Hn.isInMemoryStorage||Hn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Hn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ss(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(N(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Oe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Qv(n,Yw);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(qw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Rt.responsesRequiredToBeHealthy=2;Rt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[xr,Rt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Rt&&Rt.isAvailable();let r=n&&!Rt.previouslyFailed();if(e.webSocketOnly&&(n||st("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Rt];else{const i=this.transports_=[];for(const s of as.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);as.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}as.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=6e4,Jw=5e3,Zw=10*1024,e1=100*1024,Ca="t",Sh="d",t1="s",wh="r",n1="e",kh="o",Ih="a",Th="n",xh="p",r1="h";class i1{constructor(e,n,r,i,s,o,l,a,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ws("c:"+this.id+":"),this.transportManager_=new as(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Li(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>e1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Zw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ca in e){const n=e[Ca];n===Ih?this.upgradeIfSecondaryHealthy_():n===wh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=yi("t",e),r=yi("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:xh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ih,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Th,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=yi("t",e),r=yi("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=yi(Ca,e);if(Sh in e){const r=e[Sh];if(n===r1){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Th){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===t1?this.onConnectionShutdown_(r):n===wh?this.onReset_(r):n===n1?Au("Server Error: "+r):n===kh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Au("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Qc!==r&&st("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Li(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Xw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Li(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Jw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:xh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this.allowedEvents_=e,this.listeners_={},N(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){N(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends fg{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ov()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Yo}getInitialEvent(e){return N(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=32,Nh=768;class ne{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function J(){return new ne("")}function W(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Pn(t){return t.pieces_.length-t.pieceNum_}function se(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ne(t.pieces_,e)}function hg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function s1(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function pg(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function mg(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ne(e,0)}function Te(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ne)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ne(n,0)}function j(t){return t.pieceNum_>=t.pieces_.length}function et(t,e){const n=W(t),r=W(e);if(n===null)return e;if(n===r)return et(se(t),se(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function qc(t,e){if(Pn(t)!==Pn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Nt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Pn(t)>Pn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class o1{constructor(e,n){this.errorPrefix_=n,this.parts_=pg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=wl(this.parts_[r]);vg(this)}}function l1(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=wl(e),vg(t)}function a1(t){const e=t.parts_.pop();t.byteLength_-=wl(e),t.parts_.length>0&&(t.byteLength_-=1)}function vg(t){if(t.byteLength_>Nh)throw new Error(t.errorPrefix_+"has a key path longer than "+Nh+" bytes ("+t.byteLength_+").");if(t.parts_.length>Rh)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Rh+") or object contains a cycle "+Un(t))}function Un(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends fg{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Xc}getInitialEvent(e){return N(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=1e3,u1=60*5*1e3,Fh=30*1e3,c1=1.3,d1=3e4,f1="server_kill",Ph=3;class Zt extends dg{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Zt.nextPersistentConnectionId_++,this.log_=ws("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_i,this.maxReconnectDelay_=u1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Mv())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Yo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Oe(s)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Sl,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Zt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&an(e,"w")){const r=Kr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();st(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||rS(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Fh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=nS(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Oe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Au("Unrecognized action received from server: "+Oe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_i,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_i,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>d1&&(this.reconnectDelay_=_i),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*c1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Zt.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(d){N(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?je("getToken() completed but was canceled"):(je("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,l=new i1(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{st(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(f1)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&st(d),a())}}}interrupt(e){je("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){je("Resuming connection for reason: "+e),delete this.interruptReasons_[e],lh(this.interruptReasons_)&&(this.reconnectDelay_=_i,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Gc(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ne(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){je("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ph&&(this.reconnectDelay_=Fh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){je("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ph&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+$v.replace(/\./g,"-")]=1,Ov()?e["framework.cordova"]=1:qC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Yo.getInstance().currentlyOnline();return lh(this.interruptReasons_)&&e}}Zt.nextPersistentConnectionId_=0;Zt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new $(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new $(Yr,e),i=new $(Yr,n);return this.compare(r,i)!==0}minPost(){return $.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo;class gg extends kl{static get __EMPTY_NODE(){return eo}static set __EMPTY_NODE(e){eo=e}compare(e,n){return si(e.name,n.name)}isDefinedOn(e){throw ri("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return $.MIN}maxPost(){return new $(nr,eo)}makePost(e,n){return N(typeof e=="string","KeyIndex indexValue must always be a string."),new $(e,eo)}toString(){return".key"}}const Vr=new gg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ae{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ae.RED,this.left=i??tt.EMPTY_NODE,this.right=s??tt.EMPTY_NODE}copy(e,n,r,i,s){return new Ae(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return tt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return tt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ae.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ae.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ae.RED=!0;Ae.BLACK=!1;class h1{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ae(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class tt{constructor(e,n=tt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new tt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ae.BLACK,null,null))}remove(e){return new tt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ae.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new to(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new to(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new to(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new to(this.root_,null,this.comparator_,!0,e)}}tt.EMPTY_NODE=new h1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e){return si(t.name,e.name)}function Jc(t,e){return si(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu;function m1(t){Mu=t}const yg=function(t){return typeof t=="number"?"number:"+Kv(t):"string:"+t},_g=function(t){if(t.isLeafNode()){const e=t.val();N(typeof e=="string"||typeof e=="number"||typeof e=="object"&&an(e,".sv"),"Priority must be a string or number.")}else N(t===Mu||t.isEmpty(),"priority of unexpected type.");N(t===Mu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah;class Fe{constructor(e,n=Fe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,N(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),_g(this.priorityNode_)}static set __childrenNodeConstructor(e){Ah=e}static get __childrenNodeConstructor(){return Ah}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Fe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Fe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return j(e)?this:W(e)===".priority"?this.priorityNode_:Fe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Fe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=W(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(N(r!==".priority"||Pn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Fe.__childrenNodeConstructor.EMPTY_NODE.updateChild(se(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+yg(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Kv(this.value_):e+=this.value_,this.lazyHash_=Hv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Fe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Fe.__childrenNodeConstructor?-1:(N(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Fe.VALUE_TYPE_ORDER.indexOf(n),s=Fe.VALUE_TYPE_ORDER.indexOf(r);return N(i>=0,"Unknown leaf type: "+n),N(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Fe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eg,Cg;function v1(t){Eg=t}function g1(t){Cg=t}class y1 extends kl{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?si(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return $.MIN}maxPost(){return new $(nr,new Fe("[PRIORITY-POST]",Cg))}makePost(e,n){const r=Eg(e);return new $(n,new Fe("[PRIORITY-POST]",r))}toString(){return".priority"}}const ge=new y1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=Math.log(2);class E1{constructor(e){const n=s=>parseInt(Math.log(s)/_1,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qo=function(t,e,n,r){t.sort(e);const i=function(a,u){const c=u-a;let d,f;if(c===0)return null;if(c===1)return d=t[a],f=n?n(d):d,new Ae(f,d.node,Ae.BLACK,null,null);{const m=parseInt(c/2,10)+a,g=i(a,m),y=i(m+1,u);return d=t[m],f=n?n(d):d,new Ae(f,d.node,Ae.BLACK,g,y)}},s=function(a){let u=null,c=null,d=t.length;const f=function(g,y){const S=d-g,h=d;d-=g;const p=i(S+1,h),v=t[S],_=n?n(v):v;m(new Ae(_,v.node,y,null,p))},m=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<a.count;++g){const y=a.nextBitIsOne(),S=Math.pow(2,a.count-(g+1));y?f(S,Ae.BLACK):(f(S,Ae.BLACK),f(S,Ae.RED))}return c},o=new E1(t.length),l=s(o);return new tt(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa;const pr={};class Xt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return N(pr&&ge,"ChildrenNode.ts has not been loaded"),Sa=Sa||new Xt({".priority":pr},{".priority":ge}),Sa}get(e){const n=Kr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof tt?n:null}hasIndex(e){return an(this.indexSet_,e.toString())}addIndex(e,n){N(e!==Vr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator($.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=qo(r,e.getCompare()):l=pr;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const c=Object.assign({},this.indexes_);return c[a]=l,new Xt(c,u)}addToIndexes(e,n){const r=Ho(this.indexes_,(i,s)=>{const o=Kr(this.indexSet_,s);if(N(o,"Missing index implementation for "+s),i===pr)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator($.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),qo(l,o.getCompare())}else return pr;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new $(e.name,l))),a.insert(e,e.node)}});return new Xt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ho(this.indexes_,i=>{if(i===pr)return i;{const s=n.get(e.name);return s?i.remove(new $(e.name,s)):i}});return new Xt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ei;class V{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&_g(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ei||(Ei=new V(new tt(Jc),null,Xt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ei}updatePriority(e){return this.children_.isEmpty()?this:new V(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ei:n}}getChild(e){const n=W(e);return n===null?this:this.getImmediateChild(n).getChild(se(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(N(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new $(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Ei:this.priorityNode_;return new V(i,o,s)}}updateChild(e,n){const r=W(e);if(r===null)return n;{N(W(e)!==".priority"||Pn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(se(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ge,(o,l)=>{n[o]=l.val(e),r++,s&&V.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+yg(this.getPriority().val())+":"),this.forEachChild(ge,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Hv(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new $(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new $(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new $(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,$.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,$.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ks?-1:0}withIndex(e){if(e===Vr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new V(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Vr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ge),i=n.getIterator(ge);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Vr?null:this.indexMap_.get(e.toString())}}V.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class C1 extends V{constructor(){super(new tt(Jc),V.EMPTY_NODE,Xt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return V.EMPTY_NODE}isEmpty(){return!1}}const ks=new C1;Object.defineProperties($,{MIN:{value:new $(Yr,V.EMPTY_NODE)},MAX:{value:new $(nr,ks)}});gg.__EMPTY_NODE=V.EMPTY_NODE;Fe.__childrenNodeConstructor=V;m1(ks);g1(ks);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=!0;function Le(t,e=null){if(t===null)return V.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),N(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Fe(n,Le(e))}if(!(t instanceof Array)&&S1){const n=[];let r=!1;if(ot(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=Le(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new $(o,a)))}}),n.length===0)return V.EMPTY_NODE;const s=qo(n,p1,o=>o.name,Jc);if(r){const o=qo(n,ge.getCompare());return new V(s,Le(e),new Xt({".priority":o},{".priority":ge}))}else return new V(s,Le(e),Xt.Default)}else{let n=V.EMPTY_NODE;return ot(t,(r,i)=>{if(an(t,r)&&r.substring(0,1)!=="."){const s=Le(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Le(e))}}v1(Le);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1 extends kl{constructor(e){super(),this.indexPath_=e,N(!j(e)&&W(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?si(e.name,n.name):s}makePost(e,n){const r=Le(e),i=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new $(n,i)}maxPost(){const e=V.EMPTY_NODE.updateChild(this.indexPath_,ks);return new $(nr,e)}toString(){return pg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1 extends kl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?si(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return $.MIN}maxPost(){return $.MAX}makePost(e,n){const r=Le(e);return new $(n,r)}toString(){return".value"}}const I1=new k1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t){return{type:"value",snapshotNode:t}}function qr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function us(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function cs(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function T1(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){N(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(us(n,l)):N(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(qr(n,r)):o.trackChildChange(cs(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ge,(i,s)=>{n.hasChild(i)||r.trackChildChange(us(i,s))}),n.isLeafNode()||n.forEachChild(ge,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(cs(i,s,o))}else r.trackChildChange(qr(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?V.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.indexedFilter_=new Zc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ds.getStartPost_(e),this.endPost_=ds.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new $(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(V.EMPTY_NODE);const s=this;return n.forEachChild(ge,(o,l)=>{s.matches(new $(o,l))||(i=i.updateImmediateChild(o,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ds(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new $(n,r))||(r=V.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=V.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(V.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,m)=>d(m,f)}else o=this.index_.getCompare();const l=e;N(l.numChildren()===this.limit_,"");const a=new $(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const m=f==null?1:o(f,a);if(c&&!r.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(cs(n,r,d)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(us(n,d));const y=l.updateImmediateChild(n,V.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(qr(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?e:c&&o(u,a)>=0?(s!=null&&(s.trackChildChange(us(u.name,u.node)),s.trackChildChange(qr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,V.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yr}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ge}copy(){const e=new ed;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function R1(t){return t.loadsAllData()?new Zc(t.getIndex()):t.hasLimit()?new x1(t):new ds(t)}function Oh(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ge?n="$priority":t.index_===I1?n="$value":t.index_===Vr?n="$key":(N(t.index_ instanceof w1,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Oe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Oe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Oe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Oe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Oe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Mh(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ge&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends dg{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ws("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(N(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Xo.getListenId_(e,r),l={};this.listens_[o]=l;const a=Oh(e._queryParams);this.restRequest_(s+".json",a,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Kr(this.listens_,o)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=Xo.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Oh(e._queryParams),r=e._path.toString(),i=new Sl;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+iS(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=ss(l.responseText)}catch{st("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&st("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(){return{value:null,children:new Map}}function wg(t,e,n){if(j(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=W(e);t.children.has(r)||t.children.set(r,Jo());const i=t.children.get(r);e=se(e),wg(i,e,n)}}function Du(t,e,n){t.value!==null?n(e,t.value):F1(t,(r,i)=>{const s=new ne(e.toString()+"/"+r);Du(i,s,n)})}function F1(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ot(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=10*1e3,A1=30*1e3,O1=5*60*1e3;class M1{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new P1(e);const r=Dh+(A1-Dh)*Math.random();Li(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ot(e,(i,s)=>{s>0&&an(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Li(this.reportStats_.bind(this),Math.floor(Math.random()*2*O1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ft||(Ft={}));function kg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function td(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function nd(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ft.ACK_USER_WRITE,this.source=kg()}operationForChild(e){if(j(this.path)){if(this.affectedTree.value!=null)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ne(e));return new Zo(J(),n,this.revert)}}else return N(W(this.path)===e,"operationForChild called for unrelated child."),new Zo(se(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){this.source=e,this.path=n,this.type=Ft.LISTEN_COMPLETE}operationForChild(e){return j(this.path)?new fs(this.source,J()):new fs(this.source,se(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ft.OVERWRITE}operationForChild(e){return j(this.path)?new rr(this.source,J(),this.snap.getImmediateChild(e)):new rr(this.source,se(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ft.MERGE}operationForChild(e){if(j(this.path)){const n=this.children.subtree(new ne(e));return n.isEmpty()?null:n.value?new rr(this.source,J(),n.value):new hs(this.source,J(),n)}else return N(W(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new hs(this.source,se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(j(e))return this.isFullyInitialized()&&!this.filtered_;const n=W(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function L1(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(T1(o.childName,o.snapshotNode))}),Ci(t,i,"child_removed",e,r,n),Ci(t,i,"child_added",e,r,n),Ci(t,i,"child_moved",s,r,n),Ci(t,i,"child_changed",e,r,n),Ci(t,i,"value",e,r,n),i}function Ci(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>V1(t,l,a)),o.forEach(l=>{const a=b1(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function b1(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function V1(t,e,n){if(e.childName==null||n.childName==null)throw ri("Should only compare child_ events.");const r=new $(e.childName,e.snapshotNode),i=new $(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t,e){return{eventCache:t,serverCache:e}}function bi(t,e,n,r){return Il(new ir(e,n,r),t.serverCache)}function Ig(t,e,n,r){return Il(t.eventCache,new ir(e,n,r))}function Lu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function sr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa;const z1=()=>(wa||(wa=new tt(kw)),wa);class ue{constructor(e,n=z1()){this.value=e,this.children=n}static fromObject(e){let n=new ue(null);return ot(e,(r,i)=>{n=n.set(new ne(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:J(),value:this.value};if(j(e))return null;{const r=W(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(se(e),n);return s!=null?{path:Te(new ne(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(j(e))return this;{const n=W(e),r=this.children.get(n);return r!==null?r.subtree(se(e)):new ue(null)}}set(e,n){if(j(e))return new ue(n,this.children);{const r=W(e),s=(this.children.get(r)||new ue(null)).set(se(e),n),o=this.children.insert(r,s);return new ue(this.value,o)}}remove(e){if(j(e))return this.children.isEmpty()?new ue(null):new ue(null,this.children);{const n=W(e),r=this.children.get(n);if(r){const i=r.remove(se(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ue(null):new ue(this.value,s)}else return this}}get(e){if(j(e))return this.value;{const n=W(e),r=this.children.get(n);return r?r.get(se(e)):null}}setTree(e,n){if(j(e))return n;{const r=W(e),s=(this.children.get(r)||new ue(null)).setTree(se(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ue(this.value,o)}}fold(e){return this.fold_(J(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Te(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,J(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(j(e))return null;{const s=W(e),o=this.children.get(s);return o?o.findOnPath_(se(e),Te(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,J(),n)}foreachOnPath_(e,n,r){if(j(e))return this;{this.value&&r(n,this.value);const i=W(e),s=this.children.get(i);return s?s.foreachOnPath_(se(e),Te(n,i),r):new ue(null)}}foreach(e){this.foreach_(J(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Te(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.writeTree_=e}static empty(){return new Ot(new ue(null))}}function Vi(t,e,n){if(j(e))return new Ot(new ue(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=et(i,e);return s=s.updateChild(o,n),new Ot(t.writeTree_.set(i,s))}else{const i=new ue(n),s=t.writeTree_.setTree(e,i);return new Ot(s)}}}function Lh(t,e,n){let r=t;return ot(n,(i,s)=>{r=Vi(r,Te(e,i),s)}),r}function bh(t,e){if(j(e))return Ot.empty();{const n=t.writeTree_.setTree(e,new ue(null));return new Ot(n)}}function bu(t,e){return ar(t,e)!=null}function ar(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(et(n.path,e)):null}function Vh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ge,(r,i)=>{e.push(new $(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new $(r,i.value))}),e}function xn(t,e){if(j(e))return t;{const n=ar(t,e);return n!=null?new Ot(new ue(n)):new Ot(t.writeTree_.subtree(e))}}function Vu(t){return t.writeTree_.isEmpty()}function Xr(t,e){return Tg(J(),t.writeTree_,e)}function Tg(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(N(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Tg(Te(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Te(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(t,e){return Fg(e,t)}function B1(t,e,n,r,i){N(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Vi(t.visibleWrites,e,n)),t.lastWriteId=r}function U1(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function W1(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);N(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&$1(l,r.path)?i=!1:Nt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return j1(t),!0;if(r.snap)t.visibleWrites=bh(t.visibleWrites,r.path);else{const l=r.children;ot(l,a=>{t.visibleWrites=bh(t.visibleWrites,Te(r.path,a))})}return!0}else return!1}function $1(t,e){if(t.snap)return Nt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Nt(Te(t.path,n),e))return!0;return!1}function j1(t){t.visibleWrites=xg(t.allWrites,H1,J()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function H1(t){return t.visible}function xg(t,e,n){let r=Ot.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)Nt(n,o)?(l=et(n,o),r=Vi(r,l,s.snap)):Nt(o,n)&&(l=et(o,n),r=Vi(r,J(),s.snap.getChild(l)));else if(s.children){if(Nt(n,o))l=et(n,o),r=Lh(r,l,s.children);else if(Nt(o,n))if(l=et(o,n),j(l))r=Lh(r,J(),s.children);else{const a=Kr(s.children,W(l));if(a){const u=a.getChild(se(l));r=Vi(r,J(),u)}}}else throw ri("WriteRecord should have .snap or .children")}}return r}function Rg(t,e,n,r,i){if(!r&&!i){const s=ar(t.visibleWrites,e);if(s!=null)return s;{const o=xn(t.visibleWrites,e);if(Vu(o))return n;if(n==null&&!bu(o,J()))return null;{const l=n||V.EMPTY_NODE;return Xr(o,l)}}}else{const s=xn(t.visibleWrites,e);if(!i&&Vu(s))return n;if(!i&&n==null&&!bu(s,J()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Nt(u.path,e)||Nt(e,u.path))},l=xg(t.allWrites,o,e),a=n||V.EMPTY_NODE;return Xr(l,a)}}}function G1(t,e,n){let r=V.EMPTY_NODE;const i=ar(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ge,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=xn(t.visibleWrites,e);return n.forEachChild(ge,(o,l)=>{const a=Xr(xn(s,new ne(o)),l);r=r.updateImmediateChild(o,a)}),Vh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=xn(t.visibleWrites,e);return Vh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Q1(t,e,n,r,i){N(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Te(e,n);if(bu(t.visibleWrites,s))return null;{const o=xn(t.visibleWrites,s);return Vu(o)?i.getChild(n):Xr(o,i.getChild(n))}}function K1(t,e,n,r){const i=Te(e,n),s=ar(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=xn(t.visibleWrites,i);return Xr(o,r.getNode().getImmediateChild(n))}else return null}function Y1(t,e){return ar(t.visibleWrites,e)}function q1(t,e,n,r,i,s,o){let l;const a=xn(t.visibleWrites,e),u=ar(a,J());if(u!=null)l=u;else if(n!=null)l=Xr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const c=[],d=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let m=f.getNext();for(;m&&c.length<i;)d(m,r)!==0&&c.push(m),m=f.getNext();return c}else return[]}function X1(){return{visibleWrites:Ot.empty(),allWrites:[],lastWriteId:-1}}function el(t,e,n,r){return Rg(t.writeTree,t.treePath,e,n,r)}function id(t,e){return G1(t.writeTree,t.treePath,e)}function zh(t,e,n,r){return Q1(t.writeTree,t.treePath,e,n,r)}function tl(t,e){return Y1(t.writeTree,Te(t.treePath,e))}function J1(t,e,n,r,i,s){return q1(t.writeTree,t.treePath,e,n,r,i,s)}function sd(t,e,n){return K1(t.writeTree,t.treePath,e,n)}function Ng(t,e){return Fg(Te(t.treePath,e),t.writeTree)}function Fg(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;N(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),N(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,cs(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,us(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,qr(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,cs(r,e.snapshotNode,i.oldSnap));else throw ri("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Pg=new ek;class od{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ir(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sd(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:sr(this.viewCache_),s=J1(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t){return{filter:t}}function nk(t,e){N(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),N(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function rk(t,e,n,r,i){const s=new Z1;let o,l;if(n.type===Ft.OVERWRITE){const u=n;u.source.fromUser?o=zu(t,e,u.path,u.snap,r,i,s):(N(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!j(u.path),o=nl(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===Ft.MERGE){const u=n;u.source.fromUser?o=sk(t,e,u.path,u.children,r,i,s):(N(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=Bu(t,e,u.path,u.children,r,i,l,s))}else if(n.type===Ft.ACK_USER_WRITE){const u=n;u.revert?o=ak(t,e,u.path,r,i,s):o=ok(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Ft.LISTEN_COMPLETE)o=lk(t,e,n.path,r,s);else throw ri("Unknown operation type: "+n.type);const a=s.getChanges();return ik(e,o,a),{viewCache:o,changes:a}}function ik(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Lu(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Sg(Lu(e)))}}function Ag(t,e,n,r,i,s){const o=e.eventCache;if(tl(r,n)!=null)return e;{let l,a;if(j(n))if(N(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=sr(e),c=u instanceof V?u:V.EMPTY_NODE,d=id(r,c);l=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=el(r,sr(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=W(n);if(u===".priority"){N(Pn(n)===1,"Can't have a priority with additional path components");const c=o.getNode();a=e.serverCache.getNode();const d=zh(r,n,c,a);d!=null?l=t.filter.updatePriority(c,d):l=o.getNode()}else{const c=se(n);let d;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const f=zh(r,n,o.getNode(),a);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=sd(r,u,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),u,d,c,i,s):l=o.getNode()}}return bi(e,l,o.isFullyInitialized()||j(n),t.filter.filtersNodes())}}function nl(t,e,n,r,i,s,o,l){const a=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(j(n))u=c.updateFullNode(a.getNode(),r,null);else if(c.filtersNodes()&&!a.isFiltered()){const m=a.getNode().updateChild(n,r);u=c.updateFullNode(a.getNode(),m,null)}else{const m=W(n);if(!a.isCompleteForPath(n)&&Pn(n)>1)return e;const g=se(n),S=a.getNode().getImmediateChild(m).updateChild(g,r);m===".priority"?u=c.updatePriority(a.getNode(),S):u=c.updateChild(a.getNode(),m,S,g,Pg,null)}const d=Ig(e,u,a.isFullyInitialized()||j(n),c.filtersNodes()),f=new od(i,d,s);return Ag(t,d,n,i,f,l)}function zu(t,e,n,r,i,s,o){const l=e.eventCache;let a,u;const c=new od(i,e,s);if(j(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=bi(e,u,!0,t.filter.filtersNodes());else{const d=W(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=bi(e,u,l.isFullyInitialized(),l.isFiltered());else{const f=se(n),m=l.getNode().getImmediateChild(d);let g;if(j(f))g=r;else{const y=c.getCompleteChild(d);y!=null?hg(f)===".priority"&&y.getChild(mg(f)).isEmpty()?g=y:g=y.updateChild(f,r):g=V.EMPTY_NODE}if(m.equals(g))a=e;else{const y=t.filter.updateChild(l.getNode(),d,g,f,c,o);a=bi(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Bh(t,e){return t.eventCache.isCompleteForChild(e)}function sk(t,e,n,r,i,s,o){let l=e;return r.foreach((a,u)=>{const c=Te(n,a);Bh(e,W(c))&&(l=zu(t,l,c,u,i,s,o))}),r.foreach((a,u)=>{const c=Te(n,a);Bh(e,W(c))||(l=zu(t,l,c,u,i,s,o))}),l}function Uh(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Bu(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;j(n)?u=r:u=new ue(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const m=e.serverCache.getNode().getImmediateChild(d),g=Uh(t,m,f);a=nl(t,a,new ne(d),g,i,s,o,l)}}),u.children.inorderTraversal((d,f)=>{const m=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!m){const g=e.serverCache.getNode().getImmediateChild(d),y=Uh(t,g,f);a=nl(t,a,new ne(d),y,i,s,o,l)}}),a}function ok(t,e,n,r,i,s,o){if(tl(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(j(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return nl(t,e,n,a.getNode().getChild(n),i,s,l,o);if(j(n)){let u=new ue(null);return a.getNode().forEachChild(Vr,(c,d)=>{u=u.set(new ne(c),d)}),Bu(t,e,n,u,i,s,l,o)}else return e}else{let u=new ue(null);return r.foreach((c,d)=>{const f=Te(n,c);a.isCompleteForPath(f)&&(u=u.set(c,a.getNode().getChild(f)))}),Bu(t,e,n,u,i,s,l,o)}}function lk(t,e,n,r,i){const s=e.serverCache,o=Ig(e,s.getNode(),s.isFullyInitialized()||j(n),s.isFiltered());return Ag(t,o,n,r,Pg,i)}function ak(t,e,n,r,i,s){let o;if(tl(r,n)!=null)return e;{const l=new od(r,e,i),a=e.eventCache.getNode();let u;if(j(n)||W(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=el(r,sr(e));else{const d=e.serverCache.getNode();N(d instanceof V,"serverChildren would be complete if leaf node"),c=id(r,d)}c=c,u=t.filter.updateFullNode(a,c,s)}else{const c=W(n);let d=sd(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=a.getImmediateChild(c)),d!=null?u=t.filter.updateChild(a,c,d,se(n),l,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(a,c,V.EMPTY_NODE,se(n),l,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=el(r,sr(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||tl(r,J())!=null,bi(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Zc(r.getIndex()),s=R1(r);this.processor_=tk(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(V.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(V.EMPTY_NODE,l.getNode(),null),c=new ir(a,o.isFullyInitialized(),i.filtersNodes()),d=new ir(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Il(d,c),this.eventGenerator_=new D1(this.query_)}get query(){return this.query_}}function ck(t){return t.viewCache_.serverCache.getNode()}function dk(t,e){const n=sr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!j(e)&&!n.getImmediateChild(W(e)).isEmpty())?n.getChild(e):null}function Wh(t){return t.eventRegistrations_.length===0}function fk(t,e){t.eventRegistrations_.push(e)}function $h(t,e,n){const r=[];if(n){N(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function jh(t,e,n,r){e.type===Ft.MERGE&&e.source.queryId!==null&&(N(sr(t.viewCache_),"We should always have a full cache before handling merges"),N(Lu(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=rk(t.processor_,i,e,n,r);return nk(t.processor_,s.viewCache),N(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Og(t,s.changes,s.viewCache.eventCache.getNode(),null)}function hk(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ge,(s,o)=>{r.push(qr(s,o))}),n.isFullyInitialized()&&r.push(Sg(n.getNode())),Og(t,r,n.getNode(),e)}function Og(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return L1(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl;class pk{constructor(){this.views=new Map}}function mk(t){N(!rl,"__referenceConstructor has already been defined"),rl=t}function vk(){return N(rl,"Reference.ts has not been loaded"),rl}function gk(t){return t.views.size===0}function ld(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return N(s!=null,"SyncTree gave us an op for an invalid query."),jh(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(jh(o,e,n,r));return s}}function yk(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=el(n,i?r:null),a=!1;l?a=!0:r instanceof V?(l=id(n,r),a=!1):(l=V.EMPTY_NODE,a=!1);const u=Il(new ir(l,a,!1),new ir(r,i,!1));return new uk(e,u)}return o}function _k(t,e,n,r,i,s){const o=yk(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),fk(o,n),hk(o,n)}function Ek(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=An(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat($h(u,n,r)),Wh(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat($h(a,n,r)),Wh(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!An(t)&&s.push(new(vk())(e._repo,e._path)),{removed:s,events:o}}function Mg(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function zr(t,e){let n=null;for(const r of t.views.values())n=n||dk(r,e);return n}function Dg(t,e){if(e._queryParams.loadsAllData())return Tl(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Lg(t,e){return Dg(t,e)!=null}function An(t){return Tl(t)!=null}function Tl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il;function Ck(t){N(!il,"__referenceConstructor has already been defined"),il=t}function Sk(){return N(il,"Reference.ts has not been loaded"),il}let wk=1;class Hh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ue(null),this.pendingWriteTree_=X1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function bg(t,e,n,r,i){return B1(t.pendingWriteTree_,e,n,r,i),i?Is(t,new rr(kg(),e,n)):[]}function Gn(t,e,n=!1){const r=U1(t.pendingWriteTree_,e);if(W1(t.pendingWriteTree_,e)){let s=new ue(null);return r.snap!=null?s=s.set(J(),!0):ot(r.children,o=>{s=s.set(new ne(o),!0)}),Is(t,new Zo(r.path,s,n))}else return[]}function xl(t,e,n){return Is(t,new rr(td(),e,n))}function kk(t,e,n){const r=ue.fromObject(n);return Is(t,new hs(td(),e,r))}function Ik(t,e){return Is(t,new fs(td(),e))}function Tk(t,e,n){const r=ud(t,n);if(r){const i=cd(r),s=i.path,o=i.queryId,l=et(s,e),a=new fs(nd(o),l);return dd(t,s,a)}else return[]}function Uu(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||Lg(o,e))){const a=Ek(o,e,n,r);gk(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,m)=>An(m));if(c&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const m=Nk(f);for(let g=0;g<m.length;++g){const y=m[g],S=y.query,h=Bg(t,y);t.listenProvider_.startListening(zi(S),sl(t,S),h.hashFn,h.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(zi(e),null):u.forEach(f=>{const m=t.queryToTagMap.get(Rl(f));t.listenProvider_.stopListening(zi(f),m)}))}Fk(t,u)}return l}function xk(t,e,n,r){const i=ud(t,r);if(i!=null){const s=cd(i),o=s.path,l=s.queryId,a=et(o,e),u=new rr(nd(l),a,n);return dd(t,o,u)}else return[]}function Rk(t,e,n,r){const i=ud(t,r);if(i){const s=cd(i),o=s.path,l=s.queryId,a=et(o,e),u=ue.fromObject(n),c=new hs(nd(l),a,u);return dd(t,o,c)}else return[]}function Gh(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,m)=>{const g=et(f,i);s=s||zr(m,g),o=o||An(m)});let l=t.syncPointTree_.get(i);l?(o=o||An(l),s=s||zr(l,J())):(l=new pk,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=V.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((m,g)=>{const y=zr(g,J());y&&(s=s.updateImmediateChild(m,y))}));const u=Lg(l,e);if(!u&&!e._queryParams.loadsAllData()){const f=Rl(e);N(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const m=Pk();t.queryToTagMap.set(f,m),t.tagToQueryMap.set(m,f)}const c=rd(t.pendingWriteTree_,i);let d=_k(l,e,n,c,s,a);if(!u&&!o&&!r){const f=Dg(l,e);d=d.concat(Ak(t,e,f))}return d}function ad(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=et(o,e),u=zr(l,a);if(u)return u});return Rg(i,e,s,n,!0)}function Is(t,e){return Vg(e,t.syncPointTree_,null,rd(t.pendingWriteTree_,J()))}function Vg(t,e,n,r){if(j(t.path))return zg(t,e,n,r);{const i=e.get(J());n==null&&i!=null&&(n=zr(i,J()));let s=[];const o=W(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,c=Ng(r,o);s=s.concat(Vg(l,a,u,c))}return i&&(s=s.concat(ld(i,t,r,n))),s}}function zg(t,e,n,r){const i=e.get(J());n==null&&i!=null&&(n=zr(i,J()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=Ng(r,o),c=t.operationForChild(o);c&&(s=s.concat(zg(c,l,a,u)))}),i&&(s=s.concat(ld(i,t,r,n))),s}function Bg(t,e){const n=e.query,r=sl(t,n);return{hashFn:()=>(ck(e)||V.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Tk(t,n._path,r):Ik(t,n._path);{const s=xw(i,n);return Uu(t,n,null,s)}}}}function sl(t,e){const n=Rl(e);return t.queryToTagMap.get(n)}function Rl(t){return t._path.toString()+"$"+t._queryIdentifier}function ud(t,e){return t.tagToQueryMap.get(e)}function cd(t){const e=t.indexOf("$");return N(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ne(t.substr(0,e))}}function dd(t,e,n){const r=t.syncPointTree_.get(e);N(r,"Missing sync point for query tag that we're tracking");const i=rd(t.pendingWriteTree_,e);return ld(r,n,i,null)}function Nk(t){return t.fold((e,n,r)=>{if(n&&An(n))return[Tl(n)];{let i=[];return n&&(i=Mg(n)),ot(r,(s,o)=>{i=i.concat(o)}),i}})}function zi(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Sk())(t._repo,t._path):t}function Fk(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Rl(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function Pk(){return wk++}function Ak(t,e,n){const r=e._path,i=sl(t,e),s=Bg(t,n),o=t.listenProvider_.startListening(zi(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)N(!An(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,c,d)=>{if(!j(u)&&c&&An(c))return[Tl(c).query];{let f=[];return c&&(f=f.concat(Mg(c).map(m=>m.query))),ot(d,(m,g)=>{f=f.concat(g)}),f}});for(let u=0;u<a.length;++u){const c=a[u];t.listenProvider_.stopListening(zi(c),sl(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new fd(n)}node(){return this.node_}}class hd{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Te(this.path_,e);return new hd(this.syncTree_,n)}node(){return ad(this.syncTree_,this.path_)}}const Ok=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Qh=function(t,e,n){if(!t||typeof t!="object")return t;if(N(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Mk(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Dk(t[".sv"],e);N(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Mk=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:N(!1,"Unexpected server value: "+t)}},Dk=function(t,e,n){t.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&N(!1,"Unexpected increment value: "+r);const i=e.node();if(N(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Lk=function(t,e,n,r){return pd(e,new hd(n,t),r)},Ug=function(t,e,n){return pd(t,new fd(e),n)};function pd(t,e,n){const r=t.getPriority().val(),i=Qh(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Qh(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new Fe(l,Le(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Fe(i))),o.forEachChild(ge,(l,a)=>{const u=pd(a,e.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function vd(t,e){let n=e instanceof ne?e:new ne(e),r=t,i=W(n);for(;i!==null;){const s=Kr(r.node.children,i)||{children:{},childCount:0};r=new md(i,r,s),n=se(n),i=W(n)}return r}function li(t){return t.node.value}function Wg(t,e){t.node.value=e,Wu(t)}function $g(t){return t.node.childCount>0}function bk(t){return li(t)===void 0&&!$g(t)}function Nl(t,e){ot(t.node.children,(n,r)=>{e(new md(n,t,r))})}function jg(t,e,n,r){n&&!r&&e(t),Nl(t,i=>{jg(i,e,!0,r)}),n&&r&&e(t)}function Vk(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ts(t){return new ne(t.parent===null?t.name:Ts(t.parent)+"/"+t.name)}function Wu(t){t.parent!==null&&zk(t.parent,t.name,t)}function zk(t,e,n){const r=bk(n),i=an(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Wu(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Wu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=/[\[\].#$\/\u0000-\u001F\u007F]/,Uk=/[\[\].#$\u0000-\u001F\u007F]/,ka=10*1024*1024,Hg=function(t){return typeof t=="string"&&t.length!==0&&!Bk.test(t)},Gg=function(t){return typeof t=="string"&&t.length!==0&&!Uk.test(t)},Wk=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Gg(t)},Qg=function(t,e,n,r){r&&e===void 0||gd(jc(t,"value"),e,n)},gd=function(t,e,n){const r=n instanceof ne?new o1(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Un(r));if(typeof e=="function")throw new Error(t+"contains a function "+Un(r)+" with contents = "+e.toString());if(Gv(e))throw new Error(t+"contains "+e.toString()+" "+Un(r));if(typeof e=="string"&&e.length>ka/3&&wl(e)>ka)throw new Error(t+"contains a string greater than "+ka+" utf8 bytes "+Un(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ot(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Hg(o)))throw new Error(t+" contains an invalid key ("+o+") "+Un(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);l1(r,o),gd(t,l,r),a1(r)}),i&&s)throw new Error(t+' contains ".value" child '+Un(r)+" in addition to actual children.")}},Kg=function(t,e,n,r){if(!(r&&n===void 0)&&!Gg(n))throw new Error(jc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$k=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Kg(t,e,n,r)},Yg=function(t,e){if(W(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},jk=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Hg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Wk(n))throw new Error(jc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yd(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!qc(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function qg(t,e,n){yd(t,n),Xg(t,r=>qc(r,e))}function on(t,e,n){yd(t,n),Xg(t,r=>Nt(r,e)||Nt(e,r))}function Xg(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Gk(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Gk(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Yn&&je("event: "+n.toString()),oi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="repo_interrupt",Kk=25;class Yk{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jo(),this.transactionQueueTree_=new md,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qk(t,e,n){if(t.stats_=Kc(t.repoInfo_),t.forceRestClient_||Pw())t.server_=new Xo(t.repoInfo_,(r,i,s,o)=>{Kh(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Yh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Oe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Zt(t.repoInfo_,e,(r,i,s,o)=>{Kh(t,r,i,s,o)},r=>{Yh(t,r)},r=>{Xk(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Lw(t.repoInfo_,()=>new M1(t.stats_,t.server_)),t.infoData_=new N1,t.infoSyncTree_=new Hh({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=xl(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Ed(t,"connected",!1),t.serverSyncTree_=new Hh({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);on(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Jg(t){const n=t.infoData_.getNode(new ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function _d(t){return Ok({timestamp:Jg(t)})}function Kh(t,e,n,r,i){t.dataUpdateCount++;const s=new ne(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=Ho(n,u=>Le(u));o=Rk(t.serverSyncTree_,s,a,i)}else{const a=Le(n);o=xk(t.serverSyncTree_,s,a,i)}else if(r){const a=Ho(n,u=>Le(u));o=kk(t.serverSyncTree_,s,a)}else{const a=Le(n);o=xl(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=Fl(t,s)),on(t.eventQueue_,l,o)}function Yh(t,e){Ed(t,"connected",e),e===!1&&Zk(t)}function Xk(t,e){ot(e,(n,r)=>{Ed(t,n,r)})}function Ed(t,e,n){const r=new ne("/.info/"+e),i=Le(n);t.infoData_.updateSnapshot(r,i);const s=xl(t.infoSyncTree_,r,i);on(t.eventQueue_,r,s)}function Zg(t){return t.nextWriteId_++}function Jk(t,e,n,r,i){Cd(t,"set",{path:e.toString(),value:n,priority:r});const s=_d(t),o=Le(n,r),l=ad(t.serverSyncTree_,e),a=Ug(o,l,s),u=Zg(t),c=bg(t.serverSyncTree_,e,a,u,!0);yd(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(f,m)=>{const g=f==="ok";g||st("set at "+e+" failed: "+f);const y=Gn(t.serverSyncTree_,u,!g);on(t.eventQueue_,e,y),nI(t,i,f,m)});const d=iy(t,e);Fl(t,d),on(t.eventQueue_,d,[])}function Zk(t){Cd(t,"onDisconnectEvents");const e=_d(t),n=Jo();Du(t.onDisconnect_,J(),(i,s)=>{const o=Lk(i,s,t.serverSyncTree_,e);wg(n,i,o)});let r=[];Du(n,J(),(i,s)=>{r=r.concat(xl(t.serverSyncTree_,i,s));const o=iy(t,i);Fl(t,o)}),t.onDisconnect_=Jo(),on(t.eventQueue_,J(),r)}function eI(t,e,n){let r;W(e._path)===".info"?r=Gh(t.infoSyncTree_,e,n):r=Gh(t.serverSyncTree_,e,n),qg(t.eventQueue_,e._path,r)}function qh(t,e,n){let r;W(e._path)===".info"?r=Uu(t.infoSyncTree_,e,n):r=Uu(t.serverSyncTree_,e,n),qg(t.eventQueue_,e._path,r)}function tI(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Qk)}function Cd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),je(n,...e)}function nI(t,e,n,r){e&&oi(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function ey(t,e,n){return ad(t.serverSyncTree_,e,n)||V.EMPTY_NODE}function Sd(t,e=t.transactionQueueTree_){if(e||Pl(t,e),li(e)){const n=ny(t,e);N(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&rI(t,Ts(e),n)}else $g(e)&&Nl(e,n=>{Sd(t,n)})}function rI(t,e,n){const r=n.map(u=>u.currentWriteId),i=ey(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];N(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=et(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,u=>{Cd(t,"transaction put response",{path:a.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(Gn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Pl(t,vd(t.transactionQueueTree_,e)),Sd(t,t.transactionQueueTree_),on(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)oi(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{st("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Fl(t,e)}},o)}function Fl(t,e){const n=ty(t,e),r=Ts(n),i=ny(t,n);return iI(t,i,r),r}function iI(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=et(n,a.path);let c=!1,d;if(N(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)c=!0,d=a.abortReason,i=i.concat(Gn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=Kk)c=!0,d="maxretry",i=i.concat(Gn(t.serverSyncTree_,a.currentWriteId,!0));else{const f=ey(t,a.path,o);a.currentInputSnapshot=f;const m=e[l].update(f.val());if(m!==void 0){gd("transaction failed: Data returned ",m,a.path);let g=Le(m);typeof m=="object"&&m!=null&&an(m,".priority")||(g=g.updatePriority(f.getPriority()));const S=a.currentWriteId,h=_d(t),p=Ug(g,f,h);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=p,a.currentWriteId=Zg(t),o.splice(o.indexOf(S),1),i=i.concat(bg(t.serverSyncTree_,a.path,p,a.currentWriteId,a.applyLocally)),i=i.concat(Gn(t.serverSyncTree_,S,!0))}else c=!0,d="nodata",i=i.concat(Gn(t.serverSyncTree_,a.currentWriteId,!0))}on(t.eventQueue_,n,i),i=[],c&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(d),!1,null))))}Pl(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)oi(r[l]);Sd(t,t.transactionQueueTree_)}function ty(t,e){let n,r=t.transactionQueueTree_;for(n=W(e);n!==null&&li(r)===void 0;)r=vd(r,n),e=se(e),n=W(e);return r}function ny(t,e){const n=[];return ry(t,e,n),n.sort((r,i)=>r.order-i.order),n}function ry(t,e,n){const r=li(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Nl(e,i=>{ry(t,i,n)})}function Pl(t,e){const n=li(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Wg(e,n.length>0?n:void 0)}Nl(e,r=>{Pl(t,r)})}function iy(t,e){const n=Ts(ty(t,e)),r=vd(t.transactionQueueTree_,e);return Vk(r,i=>{Ia(t,i)}),Ia(t,r),jg(r,i=>{Ia(t,i)}),n}function Ia(t,e){const n=li(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(N(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(N(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Gn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Wg(e,void 0):n.length=s+1,on(t.eventQueue_,Ts(e),i);for(let o=0;o<r.length;o++)oi(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function oI(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):st(`Invalid query segment '${n}' in query '${t}'`)}return e}const Xh=function(t,e){const n=lI(t),r=n.namespace;n.domain==="firebase.com"&&sn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&sn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Sw();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ig(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ne(n.pathString)}},lI=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=sI(t.substring(c,d)));const f=oI(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const m=e.slice(0,u);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",aI=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Jh.charAt(n%64),n=Math.floor(n/64);N(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Jh.charAt(e[i]);return N(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Oe(this.snapshot.exportVal())}}class oy{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return N(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return j(this._path)?null:hg(this._path)}get ref(){return new un(this._repo,this._path)}get _queryIdentifier(){const e=Mh(this._queryParams),n=Gc(e);return n==="{}"?"default":n}get _queryObject(){return Mh(this._queryParams)}isEqual(e){if(e=ii(e),!(e instanceof wd))return!1;const n=this._repo===e._repo,r=qc(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+s1(this._path)}}class un extends wd{constructor(e,n){super(e,n,new ed,!1)}get parent(){const e=mg(this._path);return e===null?null:new un(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ps{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ne(e),r=Jr(this.ref,e);return new ps(this._node.getChild(n),r,ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ps(i,Jr(this.ref,r),ge)))}hasChild(e){const n=new ne(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function cI(t,e){return t=ii(t),t._checkNotDeleted("ref"),e!==void 0?Jr(t._root,e):t._root}function Jr(t,e){return t=ii(t),W(t._path)===null?$k("child","path",e,!1):Kg("child","path",e,!1),new un(t._repo,Te(t._path,e))}function dI(t,e){t=ii(t),Yg("push",t._path),Qg("push",e,t._path,!0);const n=Jg(t._repo),r=aI(n),i=Jr(t,r),s=Jr(t,r);let o;return e!=null?o=ly(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function ly(t,e){t=ii(t),Yg("set",t._path),Qg("set",e,t._path,!1);const n=new Sl;return Jk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class kd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new sy("value",this,new ps(e.snapshotNode,new un(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new oy(this,e,n):null}matches(e){return e instanceof kd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Id{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new oy(this,e,n):null}createEvent(e,n){N(e.childName!=null,"Child events should have a childName.");const r=Jr(new un(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new sy(e.type,this,new ps(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Id?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function fI(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(c,d)=>{qh(t._repo,t,l),a(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new uI(n,s||void 0),l=e==="value"?new kd(o):new Id(e,o);return eI(t._repo,t,l),()=>qh(t._repo,t,l)}function hI(t,e,n,r){return fI(t,"child_added",e,n,r)}mk(un);Ck(un);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="FIREBASE_DATABASE_EMULATOR_HOST",$u={};let mI=!1;function vI(t,e,n,r){t.repoInfo_=new ig(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function gI(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||sn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),je("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Xh(s,i),l=o.repoInfo,a,u;typeof process<"u"&&vh&&(u=vh[pI]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=Xh(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const c=i&&a?new br(br.OWNER):new Ow(t.name,t.options,e);jk("Invalid Firebase Database URL",o),j(o.path)||sn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=_I(l,t,c,new Aw(t.name,n));return new EI(d,t)}function yI(t,e){const n=$u[e];(!n||n[t.key]!==t)&&sn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),tI(t),delete n[t.key]}function _I(t,e,n,r){let i=$u[e.name];i||(i={},$u[e.name]=i);let s=i[t.toURLString()];return s&&sn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Yk(t,mI,n,r),i[t.toURLString()]=s,s}class EI{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(qk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new un(this._repo,J())),this._rootInternal}_delete(){return this._rootInternal!==null&&(yI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&sn("Cannot call "+e+" on a deleted database.")}}function CI(t=sw(),e){const n=tw(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=QC("database");r&&SI(n,...r)}return n}function SI(t,e,n,r={}){t=ii(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&sn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&sn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new br(br.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:KC(r.mockUserToken,t.app.options.projectId);s=new br(o)}vI(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t){gw(iw),Qo(new os("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return gI(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Dr(gh,yh,t),Dr(gh,yh,"esm2017")}Zt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Zt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};wI();function kI(){const[t,e]=R.useState(),[n,r]=R.useState([]);Bv({apiKey:"AIzaSyDQUV0z7AySUiP79cjlb08uI6UKhnSk3Xs",authDomain:"fir-chat-81301.firebaseapp.com",databaseURL:"https://fir-chat-81301-default-rtdb.firebaseio.com",projectId:"fir-chat-81301",storageBucket:"fir-chat-81301.appspot.com",messagingSenderId:"1097267985303",appId:"1:1097267985303:web:1b0bbbd56f9527b586a2d2",measurementId:"G-94FKM06LXG"});const s=CI(),[o,l]=R.useState(" "),a=cI(s,"chatroom_db"),u=()=>{const c=dI(a);o===void 0?console.error("Message is undefined."):ly(c,{username:t,chat_message:o}),l(null)};return R.useEffect(()=>{hI(a,c=>{console.log(c==null?void 0:c.val()),r(d=>[...d,c.val()])})},[]),Xe.jsx("div",{children:Xe.jsxs(bC,{onSubmit:u,children:[t?null:Xe.jsx("input",{type:"text",name:"nameuser",placeholder:"enter name ",onBlur:c=>e(c.target.value)}),Xe.jsx("div",{children:t?Xe.jsxs("div",{children:[Xe.jsx("h3",{children:t}),n==null?void 0:n.map((c,d)=>Xe.jsx("div",{className:`container ${(c==null?void 0:c.username)===t?"me":"oppo"}`,children:Xe.jsxs("p",{className:"chatBox",children:[Xe.jsxs("span",{children:[c==null?void 0:c.username,":"]}),Xe.jsx("span",{children:c==null?void 0:c.chat_message})]})},d)),Xe.jsx(go,{placeholder:"enter message",name:"msg",onInput:c=>l(c.target.value)}),Xe.jsx("button",{children:"sent"})]}):null})]})})}Ta.createRoot(document.getElementById("root")).render(Xe.jsx(T.StrictMode,{children:Xe.jsx(kI,{})}));
